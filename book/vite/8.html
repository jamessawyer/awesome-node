<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åŒå¼•æ“æ¶æ„ | Awesome Node</title>
    <meta name="description" content="Node + Vite + Webpack + Babel">
    <link rel="preload stylesheet" href="/awesome-node/assets/style.c902d912.css" as="style">
    <script type="module" src="/awesome-node/assets/app.31ad38ec.js"></script>
    <link rel="preload" href="/awesome-node/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/framework.19aa805b.js">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/theme.627a57ed.js">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/8-1.5dd53b82.js">
  <link rel="modulepreload" href="/awesome-node/assets/book_vite_8.md.a00e9400.lean.js">
  <link rel="icon" href="/awesome-node/favicon.ico">
  <link rel="apple-touch-icon" href="/awesome-node/pwa-192x192.png" sizes="192x192">
  <meta name="keywords" content="Node, Vite, Webpack, Babel">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <link rel="manifest" href="/awesome-node/manifest.webmanifest">
  <script id="vite-plugin-pwa:register-sw" src="/awesome-node/registerSW.js"></script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-bfa41ecf><!--[--><!--]--><!--[--><span tabindex="-1" data-v-b069d557></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-b069d557> Skip to content </a><!--]--><!----><header class="VPNav" data-v-bfa41ecf data-v-ce4dd6ed><div class="VPNavBar has-sidebar" data-v-ce4dd6ed data-v-e0a83f5e><div class="container" data-v-e0a83f5e><div class="title" data-v-e0a83f5e><div class="VPNavBarTitle has-sidebar" data-v-e0a83f5e data-v-6db94822><a class="title" href="/awesome-node/" data-v-6db94822><!--[--><!--]--><!--[--><img class="VPImage logo" src="/awesome-node/logo.svg" alt data-v-50a2d2d2><!--]--><!--[-->Awesome Node<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-e0a83f5e><div class="curtain" data-v-e0a83f5e></div><div class="content-body" data-v-e0a83f5e><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-e0a83f5e><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-e0a83f5e data-v-78a868e4><span id="main-nav-aria-label" class="visually-hidden" data-v-78a868e4>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/v18doc/File-System.html" tabindex="0" data-v-78a868e4 data-v-e8bd2df7 data-v-ff5dff0d><!--[-->ğŸ“„Nodeæ–‡æ¡£<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/manager/basic.html" tabindex="0" data-v-78a868e4 data-v-e8bd2df7 data-v-ff5dff0d><!--[-->ğŸ“¦å·¥ç¨‹åŒ–<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/core/stream/index.html" tabindex="0" data-v-78a868e4 data-v-e8bd2df7 data-v-ff5dff0d><!--[-->ğŸ’«æ ¸å¿ƒæ¦‚å¿µ<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/blog/first.html" tabindex="0" data-v-78a868e4 data-v-e8bd2df7 data-v-ff5dff0d><!--[-->ğŸ¤”blog<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-78a868e4 data-v-a790c836><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a790c836><span class="text" data-v-a790c836><!----> ğŸ“šä¹¦ç± <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a790c836><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a790c836><div class="VPMenu" data-v-a790c836 data-v-93cba166><div class="items" data-v-93cba166><!--[--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/awesome-node/book/patterns/the-node-platform.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->Node Design Patterns<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/awesome-node/book/vite/2.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->æ·±å…¥ç†è§£Vite<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/awesome-node/book/webpack/1.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->Webpack5æ ¸å¿ƒåŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/awesome-node/book/babel/2.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->Babelæ’ä»¶ç§˜ç±<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-78a868e4 data-v-a790c836><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a790c836><span class="text" data-v-a790c836><!----> ğŸ§‘â€ğŸš€æ¡†æ¶ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a790c836><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a790c836><div class="VPMenu" data-v-a790c836 data-v-93cba166><div class="items" data-v-93cba166><!--[--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/awesome-node/framework/nestjs/index.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->NestJS<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/awesome-node/framework/express/index.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->Express<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-78a868e4 data-v-a790c836><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a790c836><span class="text" data-v-a790c836><!----> ğŸ”¥å¸¸ç”¨åº“ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a790c836><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a790c836><div class="VPMenu" data-v-a790c836 data-v-93cba166><div class="items" data-v-93cba166><!--[--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/awesome-node/lib/fs-extra/index.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->fs-extra<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-e0a83f5e data-v-0a9060d7><label title="toggle dark mode" data-v-0a9060d7 data-v-ead9ca26><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-ead9ca26 data-v-5f23a591><span class="check" data-v-5f23a591><span class="icon" data-v-5f23a591><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ead9ca26><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ead9ca26><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-e0a83f5e data-v-f52ffdfb data-v-a790c836><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-a790c836><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-a790c836><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-a790c836><div class="VPMenu" data-v-a790c836 data-v-93cba166><!----><!--[--><!--[--><!----><div class="group" data-v-f52ffdfb><div class="item appearance" data-v-f52ffdfb><p class="label" data-v-f52ffdfb>Appearance</p><div class="appearance-action" data-v-f52ffdfb><label title="toggle dark mode" data-v-f52ffdfb data-v-ead9ca26><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-ead9ca26 data-v-5f23a591><span class="check" data-v-5f23a591><span class="icon" data-v-5f23a591><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ead9ca26><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ead9ca26><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-e0a83f5e data-v-45983cb0><span class="container" data-v-45983cb0><span class="top" data-v-45983cb0></span><span class="middle" data-v-45983cb0></span><span class="bottom" data-v-45983cb0></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-bfa41ecf data-v-068d0702><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-068d0702><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-068d0702><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-068d0702>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-068d0702 data-v-0cf67212><button data-v-0cf67212>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-bfa41ecf data-v-dc775a50><div class="curtain" data-v-dc775a50></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-dc775a50><span class="visually-hidden" id="sidebar-aria-label" data-v-dc775a50> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-dc775a50><section class="VPSidebarItem level-0 has-active" data-v-dc775a50 data-v-276d3b5d><div class="item" role="button" tabindex="0" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><h2 class="text" data-v-276d3b5d>ğŸ”§æ·±å…¥ç†è§£Vite</h2><!----></div><div class="items" data-v-276d3b5d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/1.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>1.Viteå¼€ç¯‡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/2.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>2.æ¨¡å—æ ‡å‡†</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/3.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>3.å¿«é€Ÿä¸Šæ‰‹Vite</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/4.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>4.æ ·å¼æ–¹æ¡ˆ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/7.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>7.é¢„æ„å»º</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/8.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>8.åŒå¼•æ“æ¶æ„</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/9.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>9.æ€§èƒ½æ¨æ‰‹: Esbuild</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/10.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>10.RollupåŸºæœ¬ç”¨æ³•</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/11.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>11.æ·±å…¥ç†è§£Rollupæ’ä»¶æœºåˆ¶</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/12.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>12.Viteæ’ä»¶å¼€å‘</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/14.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>14.ä»£ç åˆ†å‰²</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/15.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>15.Polyfillå’Œè¯­æ³•é™çº§</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/16.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>16.Viteæ­å»ºSSRå·¥ç¨‹</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/17.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>17.è”é‚¦æ¨¡å—ä»¥åŠåŸç†</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/18.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>18.Pure ESMæ—¶ä»£</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/awesome-node/book/vite/19.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>19.ç³»ç»Ÿå¯¹Viteé¡¹ç›®æ€§èƒ½ä¼˜åŒ–</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-bfa41ecf data-v-05329f80><div class="VPDoc has-sidebar has-aside" data-v-05329f80 data-v-4dd2ec74><!--[--><!--]--><div class="container" data-v-4dd2ec74><div class="aside" data-v-4dd2ec74><div class="aside-curtain" data-v-4dd2ec74></div><div class="aside-container" data-v-4dd2ec74><div class="aside-content" data-v-4dd2ec74><div class="VPDocAside" data-v-4dd2ec74 data-v-29876e63><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-29876e63 data-v-05f89462><div class="content" data-v-05f89462><div class="outline-marker" data-v-05f89462></div><div class="outline-title" data-v-05f89462>ç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-05f89462><span class="visually-hidden" id="doc-outline-aria-label" data-v-05f89462> Table of Contents for current page </span><ul class="root" data-v-05f89462 data-v-140cead5><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-29876e63></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-4dd2ec74><div class="content-container" data-v-4dd2ec74><!--[--><!--]--><!----><main class="main" data-v-4dd2ec74><div style="position:relative;" class="vp-doc _awesome-node_book_vite_8" data-v-4dd2ec74><div><h2 id="åŒå¼•æ“æ¶æ„-vite-æ˜¯å¦‚ä½•ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå®ç°çš„" tabindex="-1">åŒå¼•æ“æ¶æ„: Vite æ˜¯å¦‚ä½•ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå®ç°çš„ï¼Ÿ <a class="header-anchor" href="#åŒå¼•æ“æ¶æ„-vite-æ˜¯å¦‚ä½•ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå®ç°çš„" aria-label="Permalink to &quot;åŒå¼•æ“æ¶æ„: Vite æ˜¯å¦‚ä½•ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå®ç°çš„ï¼Ÿ&quot;">â€‹</a></h2><p>åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¾ˆå¤š Vite ä½¿ç”¨å’Œé¡¹ç›®æ­å»ºçš„å†…å®¹ã€‚æ¥ä¸‹æ¥è®©æˆ‘ä»¬å°†ç›®å…‰é›†ä¸­åˆ° Vite æœ¬èº«çš„æ¶æ„ä¸Šï¼Œä¸€èµ·èŠèŠå®ƒæ˜¯å¦‚ä½•ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå®ç°å‡ºæ¥çš„ã€‚æ‰€è°“çš„<code>å·¨äºº</code>ï¼ŒæŒ‡çš„å°±æ˜¯ Vite åº•å±‚æ‰€æ·±åº¦ä½¿ç”¨çš„ä¸¤ä¸ªæ„å»ºå¼•æ“â€”â€”<code>Esbuild</code>å’Œ<code>Rollup</code>ã€‚</p><p>é‚£ä¹ˆï¼Œè¿™ä¸¤ä¸ªæ„å»ºå¼•æ“å¯¹äº Vite æ¥è¯´ç©¶ç«Ÿæœ‰å¤šé‡è¦ï¼Ÿåœ¨ Vite çš„æ¶æ„ä¸­ï¼Œä¸¤è€…å„è‡ªæ‰®æ¼”äº†ä»€ä¹ˆæ ·çš„è§’è‰²ï¼Ÿæœ¬å°èŠ‚ï¼Œæˆ‘å°†å’Œä½ ä¸€èµ·æ‹†è§£ Vite çš„åŒå¼•æ“æ¶æ„ï¼Œæ·±å…¥åˆ†æ <a href="https://esbuild.github.io/getting-started/" target="_blank" rel="noreferrer">Esbuild</a> å’Œ <a href="https://rollupjs.org/introduction/" target="_blank" rel="noreferrer">Rollup</a> ç©¶ç«Ÿåœ¨ Vite ä¸­åšäº†äº›ä»€ä¹ˆã€‚</p><h2 id="vite-æ¶æ„å›¾" tabindex="-1">Vite æ¶æ„å›¾ <a class="header-anchor" href="#vite-æ¶æ„å›¾" aria-label="Permalink to &quot;Vite æ¶æ„å›¾&quot;">â€‹</a></h2><p>å¾ˆå¤šäººå¯¹ Vite çš„åŒå¼•æ“æ¶æ„ä»…ä»…åœç•™åœ¨<code>å¼€å‘é˜¶æ®µä½¿ç”¨ Esbuildï¼Œç”Ÿäº§ç¯å¢ƒç”¨ Rollup</code>çš„é˜¶æ®µï¼Œæ®Šä¸çŸ¥ï¼ŒVite çœŸæ­£çš„æ¶æ„è¿œæ²¡æœ‰è¿™ä¹ˆç®€å•ã€‚ä¸€å›¾èƒœåƒè¨€ï¼Œè¿™é‡Œæ”¾ä¸€å¼  Vite æ¶æ„å›¾ï¼š</p><p><img src="/awesome-node/assets/8-1.cea13462.webp" alt="viteæ¶æ„"></p><p>ç›¸ä¿¡å¯¹äº Vite çš„åŒå¼•æ“æ¶æ„ï¼Œä½ å¯ä»¥ä»å›¾ä¸­ç•¥çª¥ä¸€äºŒã€‚åœ¨æ¥ä¸‹æ¥çš„å†…å®¹ä¸­ï¼Œæˆ‘ä¼šå›´ç»•è¿™å¼ æ¶æ„å›¾å±•å¼€åŒå¼•æ“çš„ä»‹ç»ï¼Œåˆ°æ—¶å€™ä½ ä¼šå¯¹è¿™ä»½æ¶æ„å›¾ç†è§£å¾—æ›´é€å½»ã€‚</p><h2 id="æ€§èƒ½åˆ©å™¨â€”â€”esbuild" tabindex="-1">æ€§èƒ½åˆ©å™¨â€”â€”Esbuild <a class="header-anchor" href="#æ€§èƒ½åˆ©å™¨â€”â€”esbuild" aria-label="Permalink to &quot;æ€§èƒ½åˆ©å™¨â€”â€”Esbuild&quot;">â€‹</a></h2><p>å¿…é¡»è¦æ‰¿è®¤çš„æ˜¯ï¼Œ<code>Esbuild</code>çš„ç¡®æ˜¯ Vite é«˜æ€§èƒ½çš„å¾—åŠ›åŠ©æ‰‹ï¼Œåœ¨å¾ˆå¤š<code>å…³é”®çš„æ„å»ºé˜¶æ®µ</code>è®© Vite è·å¾—äº†ç›¸å½“ä¼˜å¼‚çš„æ€§èƒ½ï¼Œå¦‚æœè¿™äº›é˜¶æ®µç”¨ä¼ ç»Ÿçš„æ‰“åŒ…å™¨/ç¼–è¯‘å™¨æ¥å®Œæˆçš„è¯ï¼Œå¼€å‘ä½“éªŒè¦ä¸‹é™ä¸€å¤§æˆªã€‚</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>å…³äº Esbuild ä¸ºä»€ä¹ˆå¿«ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€èŠ‚å±•å¼€ä»‹ç»ã€‚</p></div><p>é‚£ä¹ˆï¼ŒEsbuild åˆ°åº•åœ¨ Vite çš„æ„å»ºä½“ç³»ä¸­å‘æŒ¥äº†å“ªäº›ä½œç”¨ï¼Ÿ</p><h3 id="ä¸€ã€ä¾èµ–é¢„æ„å»ºâ€”â€”ä½œä¸º-bundle-å·¥å…·" tabindex="-1">ä¸€ã€ä¾èµ–é¢„æ„å»ºâ€”â€”ä½œä¸º Bundle å·¥å…· <a class="header-anchor" href="#ä¸€ã€ä¾èµ–é¢„æ„å»ºâ€”â€”ä½œä¸º-bundle-å·¥å…·" aria-label="Permalink to &quot;ä¸€ã€ä¾èµ–é¢„æ„å»ºâ€”â€”ä½œä¸º Bundle å·¥å…·&quot;">â€‹</a></h3><p>é¦–å…ˆæ˜¯<strong>å¼€å‘é˜¶æ®µçš„ä¾èµ–é¢„æ„å»º</strong>é˜¶æ®µã€‚</p><p><img src="/awesome-node/assets/8-2.f29ac192.webp" alt="esbuildé¢„æ„å»º"></p><p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>node_modules</code> ä¾èµ–çš„å¤§å°åŠ¨è¾„å‡ ç™¾ MB ç”šè‡³ä¸Š GB ï¼Œä¼šè¿œè¶…é¡¹ç›®æºä»£ç ï¼Œç›¸ä¿¡å¤§å®¶éƒ½æ·±æœ‰ä½“ä¼šã€‚å¦‚æœè¿™äº›ä¾èµ–ç›´æ¥åœ¨ Vite ä¸­ä½¿ç”¨ï¼Œä¼šå‡ºç°ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜æˆ‘ä»¬åœ¨<strong>ä¾èµ–é¢„æ„å»º</strong>çš„å°èŠ‚å·²ç»è¯¦ç»†åˆ†æè¿‡ï¼Œä¸»è¦æ˜¯ ESM æ ¼å¼çš„å…¼å®¹æ€§é—®é¢˜å’Œæµ·é‡è¯·æ±‚çš„é—®é¢˜ï¼Œä¸å†èµ˜è¿°ã€‚æ€»è€Œè¨€ä¹‹ï¼Œå¯¹äºç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œéœ€è¦åœ¨åº”ç”¨å¯åŠ¨å‰è¿›è¡Œ<strong>æ‰“åŒ…</strong>å¹¶ä¸”<strong>è½¬æ¢ä¸º ESM æ ¼å¼</strong>ã€‚</p><p>Vite 1.x ç‰ˆæœ¬ä¸­ä½¿ç”¨ Rollup æ¥åšè¿™ä»¶äº‹æƒ…ï¼Œä½† Esbuild çš„æ€§èƒ½å®åœ¨æ˜¯å¤ªææ€–äº†ï¼ŒVite 2.x æœæ–­é‡‡ç”¨ Esbuild æ¥å®Œæˆç¬¬ä¸‰æ–¹ä¾èµ–çš„é¢„æ„å»ºï¼Œè‡³äºæ€§èƒ½åˆ°åº•æœ‰å¤šå¼ºï¼Œå¤§å®¶å¯ä»¥å‚ç…§å®ƒä¸ä¼ ç»Ÿæ‰“åŒ…å·¥å…·çš„æ€§èƒ½å¯¹æ¯”å›¾:</p><p><img src="/awesome-node/assets/8-3.f434c04d.webp" alt="esbuildæ‰“åŒ…benchmark"></p><p>å½“ç„¶ï¼ŒEsbuild ä½œä¸ºæ‰“åŒ…å·¥å…·ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹:</p><ol><li>ä¸æ”¯æŒé™çº§åˆ° <code>ES5</code> çš„ä»£ç ã€‚è¿™æ„å‘³ç€åœ¨ä½ç«¯æµè§ˆå™¨ä»£ç ä¼šè·‘ä¸èµ·æ¥ã€‚</li><li>ä¸æ”¯æŒ <code>const enum</code> ç­‰è¯­æ³•ã€‚è¿™æ„å‘³ç€å•ç‹¬ä½¿ç”¨è¿™äº›è¯­æ³•åœ¨ esbuild ä¸­ä¼šç›´æ¥æŠ›é”™ã€‚</li><li>ä¸æä¾›æ“ä½œæ‰“åŒ…äº§ç‰©çš„æ¥å£ï¼Œåƒ Rollup ä¸­çµæ´»å¤„ç†æ‰“åŒ…äº§ç‰©çš„èƒ½åŠ›(å¦‚<code>renderChunk</code>é’©å­)åœ¨ Esbuild å½“ä¸­å®Œå…¨æ²¡æœ‰ã€‚</li><li>ä¸æ”¯æŒè‡ªå®šä¹‰ Code Splitting ç­–ç•¥ã€‚ä¼ ç»Ÿçš„ Webpack å’Œ Rollup éƒ½æä¾›äº†è‡ªå®šä¹‰æ‹†åŒ…ç­–ç•¥çš„ APIï¼Œè€Œ Esbuild å¹¶æœªæä¾›ï¼Œä»è€Œé™çº§äº†æ‹†åŒ…ä¼˜åŒ–çš„çµæ´»æ€§ã€‚</li></ol><p>å°½ç®¡ Esbuild ä½œä¸ºä¸€ä¸ªç¤¾åŒºæ–°å…´çš„æ˜æ˜Ÿé¡¹ç›®ï¼Œæœ‰å¦‚æ­¤å¤šçš„å±€é™æ€§ï¼Œä½†ä¾ç„¶ä¸å¦¨ç¢ Vite åœ¨<strong>å¼€å‘é˜¶æ®µ</strong>ä½¿ç”¨å®ƒæˆåŠŸå¯åŠ¨é¡¹ç›®å¹¶è·å¾—æè‡´çš„<strong>æ€§èƒ½æå‡</strong>ï¼Œç”Ÿäº§ç¯å¢ƒå¤„äºç¨³å®šæ€§è€ƒè™‘å½“ç„¶æ˜¯é‡‡ç”¨åŠŸèƒ½æ›´åŠ ä¸°å¯Œã€ç”Ÿæ€æ›´åŠ æˆç†Ÿçš„ Rollup ä½œä¸ºä¾èµ–æ‰“åŒ…å·¥å…·äº†ã€‚</p><h3 id="äºŒã€å•æ–‡ä»¶ç¼–è¯‘â€”â€”ä½œä¸º-ts-å’Œ-jsx-ç¼–è¯‘å·¥å…·" tabindex="-1">äºŒã€å•æ–‡ä»¶ç¼–è¯‘â€”â€”ä½œä¸º TS å’Œ JSX ç¼–è¯‘å·¥å…· <a class="header-anchor" href="#äºŒã€å•æ–‡ä»¶ç¼–è¯‘â€”â€”ä½œä¸º-ts-å’Œ-jsx-ç¼–è¯‘å·¥å…·" aria-label="Permalink to &quot;äºŒã€å•æ–‡ä»¶ç¼–è¯‘â€”â€”ä½œä¸º TS å’Œ JSX ç¼–è¯‘å·¥å…·&quot;">â€‹</a></h3><p>åœ¨ä¾èµ–é¢„æ„å»ºé˜¶æ®µï¼Œ Esbuild ä½œä¸º Bundler çš„è§’è‰²å­˜åœ¨ã€‚è€Œåœ¨ TS(X)/JS(X) å•æ–‡ä»¶ç¼–è¯‘ä¸Šé¢ï¼ŒVite ä¹Ÿä½¿ç”¨ Esbuild è¿›è¡Œè¯­æ³•è½¬è¯‘ï¼Œä¹Ÿå°±æ˜¯å°† Esbuild ä½œä¸º Transformer æ¥ç”¨ã€‚å¤§å®¶å¯ä»¥åœ¨æ¶æ„å›¾ä¸­<code>Vite Plugin Pipeline</code>éƒ¨åˆ†æ³¨æ„åˆ°:</p><p><img src="/awesome-node/assets/8-4.26d8ac39.webp" alt="esbuildå•æ–‡ä»¶è½¬æ¢"></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒEsbuild è½¬è¯‘ TS æˆ–è€… JSX çš„èƒ½åŠ›é€šè¿‡ Vite æ’ä»¶æä¾›ï¼Œè¿™ä¸ª Vite æ’ä»¶åœ¨å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒéƒ½ä¼šæ‰§è¡Œï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸‹é¢è¿™ä¸ªç»“è®º:</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Vite å·²ç»å°† Esbuild çš„ Transformer èƒ½åŠ›ç”¨åˆ°äº†ç”Ÿäº§ç¯å¢ƒã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¯¹äºä½ç«¯æµè§ˆå™¨åœºæ™¯ï¼ŒVite ä»ç„¶å¯ä»¥åšåˆ°è¯­æ³•å’Œ Polyfill å®‰å…¨ï¼Œè¯¦æƒ…è§ <a href="./15.html">å°å†Œç¬¬ 15 èŠ‚â€”â€”è¯­æ³•é™çº§ä¸ Polyfill</a>ã€‚</p></div><p>è¿™éƒ¨åˆ†èƒ½åŠ›ç”¨æ¥æ›¿æ¢åŸå…ˆ Babel æˆ–è€… TSC çš„åŠŸèƒ½ï¼Œå› ä¸ºæ— è®ºæ˜¯ Babel è¿˜æ˜¯ TSCéƒ½æœ‰æ€§èƒ½é—®é¢˜ï¼Œå¤§å®¶å¯¹è¿™ä¸¤ä¸ªå·¥å…·æ™®éçš„è®¤çŸ¥éƒ½æ˜¯: <strong>æ…¢ï¼Œå¤ªæ…¢äº†</strong>ã€‚</p><p>å½“ Vite ä½¿ç”¨ Esbuild åšå•æ–‡ä»¶ç¼–è¯‘ä¹‹åï¼Œæå‡å¯ä»¥è¯´<strong>ç›¸å½“å¤§</strong>äº†ï¼Œæˆ‘ä»¬ä»¥ä¸€ä¸ªå·¨å¤§çš„ã€50 å¤š MB çš„çº¯ä»£ç æ–‡ä»¶ä¸ºä¾‹ï¼Œæ¥<a href="https://datastation.multiprocess.io/blog/2021-11-13-benchmarking-esbuild-swc-typescript-babel.html" target="_blank" rel="noreferrer">å¯¹æ¯”</a><code>Esbuild</code>ã€<code>Babel</code>ã€<code>TSC</code> åŒ…æ‹¬ <code>SWC</code> çš„ç¼–è¯‘æ€§èƒ½:</p><p><img src="/awesome-node/assets/8-5.0b5f9f03.webp" alt="esbuildè½¬æ¢benchmark"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶ Esbuild Transfomer èƒ½å¸¦æ¥å·¨å¤§çš„æ€§èƒ½æå‡ï¼Œä½†å…¶è‡ªèº«ä¹Ÿæœ‰å±€é™æ€§ï¼Œæœ€å¤§çš„å±€é™æ€§å°±åœ¨äº TS ä¸­çš„ç±»å‹æ£€æŸ¥é—®é¢˜ã€‚è¿™æ˜¯å› ä¸º Esbuild å¹¶æ²¡æœ‰å®ç° TS çš„ç±»å‹ç³»ç»Ÿï¼Œåœ¨ç¼–è¯‘ <code>TS</code>(æˆ–è€… <code>TSX</code>) æ–‡ä»¶æ—¶ä»…ä»…æŠ¹æ‰äº†ç±»å‹ç›¸å…³çš„ä»£ç ï¼Œæš‚æ—¶æ²¡æœ‰èƒ½åŠ›å®ç°ç±»å‹æ£€æŸ¥ã€‚</p><p>ä¹Ÿå› æ­¤ï¼Œ<a href="./3.html">å¿«é€Ÿä¸Šæ‰‹</a> è¿™ä¸€èŠ‚ï¼Œæˆ‘è®©å¤§å®¶æ³¨æ„åˆå§‹åŒ–å·¥ç¨‹çš„æ„å»ºè„šæœ¬ï¼Œ<code>vite build</code>ä¹‹å‰ä¼šå…ˆæ‰§è¡Œ<code>tsc</code>å‘½ä»¤ï¼Œä¹Ÿå°±æ˜¯å€ŸåŠ© TS å®˜æ–¹çš„ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p><p>å½“ç„¶ï¼Œè¦è§£å†³ç±»å‹é—®é¢˜ï¼Œæˆ‘æ›´æ¨èå¤§å®¶ä½¿ç”¨ TS çš„ç¼–è¾‘å™¨æ’ä»¶ã€‚åœ¨å¼€å‘é˜¶æ®µå°±èƒ½æ—©æ—©æŠŠé—®é¢˜æš´éœ²å‡ºæ¥å¹¶è§£å†³ï¼Œä¸è‡³äºç­‰åˆ°é¡¹ç›®è¦æ‰“åŒ…ä¸Šçº¿çš„æ—¶å€™ã€‚</p><h3 id="ä¸‰ã€ä»£ç å‹ç¼©â€”â€”ä½œä¸ºå‹ç¼©å·¥å…·" tabindex="-1">ä¸‰ã€ä»£ç å‹ç¼©â€”â€”ä½œä¸ºå‹ç¼©å·¥å…· <a class="header-anchor" href="#ä¸‰ã€ä»£ç å‹ç¼©â€”â€”ä½œä¸ºå‹ç¼©å·¥å…·" aria-label="Permalink to &quot;ä¸‰ã€ä»£ç å‹ç¼©â€”â€”ä½œä¸ºå‹ç¼©å·¥å…·&quot;">â€‹</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Vite ä» 2.6 ç‰ˆæœ¬å¼€å§‹ï¼Œå°±å®˜å®£é»˜è®¤ä½¿ç”¨ Esbuild æ¥è¿›è¡Œç”Ÿäº§ç¯å¢ƒçš„ä»£ç å‹ç¼©ï¼ŒåŒ…æ‹¬ JS ä»£ç å’Œ CSS ä»£ç ã€‚</p></div><p>ä»æ¶æ„å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ Esbuild å‹ç¼©å™¨é€šè¿‡æ’ä»¶çš„å½¢å¼èå…¥åˆ°äº† Rollup çš„æ‰“åŒ…æµç¨‹ä¸­:</p><p><img src="/awesome-node/assets/8-6.398ef180.webp" alt="esbuildç”Ÿäº§å‹ç¼©ä»£ç "></p><p>é‚£ä¸ºä»€ä¹ˆ Vite è¦å°† Esbuild ä½œä¸ºç”Ÿäº§ç¯å¢ƒä¸‹é»˜è®¤çš„å‹ç¼©å·¥å…·å‘¢ï¼Ÿå› ä¸ºå‹ç¼©æ•ˆç‡å®åœ¨å¤ªé«˜äº†ï¼</p><p>ä¼ ç»Ÿçš„æ–¹å¼éƒ½æ˜¯ä½¿ç”¨ Terser è¿™ç§ JS å¼€å‘çš„å‹ç¼©å™¨æ¥å®ç°ï¼Œåœ¨ Webpack æˆ–è€… Rollup ä¸­ä½œä¸ºä¸€ä¸ª Plugin æ¥å®Œæˆä»£ç æ‰“åŒ…åçš„å‹ç¼©æ··æ·†çš„å·¥ä½œã€‚ä½† Terser å…¶å®å¾ˆæ…¢ï¼Œä¸»è¦æœ‰ 2 ä¸ªåŸå› ã€‚</p><ul><li>å‹ç¼©è¿™é¡¹å·¥ä½œæ¶‰åŠå¤§é‡ AST æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¼ ç»Ÿçš„æ„å»ºæµç¨‹ä¸­ï¼ŒAST åœ¨å„ä¸ªå·¥å…·ä¹‹é—´æ— æ³•å…±äº«ï¼Œæ¯”å¦‚ Terser å°±æ— æ³•ä¸ Babel å…±äº«åŒä¸€ä¸ª ASTï¼Œé€ æˆäº†å¾ˆå¤šé‡å¤è§£æçš„è¿‡ç¨‹ã€‚</li><li>JS æœ¬èº«å±äºè§£é‡Šæ€§ + JITï¼ˆå³æ—¶ç¼–è¯‘ï¼‰ çš„è¯­è¨€ï¼Œå¯¹äºå‹ç¼©è¿™ç§ CPU å¯†é›†å‹çš„å·¥ä½œï¼Œå…¶æ€§èƒ½è¿œè¿œæ¯”ä¸ä¸Š Golang è¿™ç§åŸç”Ÿè¯­è¨€ã€‚</li></ul><p>å› æ­¤ï¼ŒEsbuild è¿™ç§ä»å¤´åˆ°å°¾<strong>å…±äº« AST</strong> ä»¥åŠ<strong>åŸç”Ÿè¯­è¨€ç¼–å†™</strong>çš„ Minifier åœ¨æ€§èƒ½ä¸Šèƒ½å¤Ÿç”©å¼€ä¼ ç»Ÿå·¥å…·çš„å¥½å‡ åå€ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸‹é¢è¿™ä¸ªå®é™…å¤§å‹åº“(<code>echarts</code>)çš„å‹ç¼©æ€§èƒ½<a href="https://github.com/privatenumber/minification-benchmarks" target="_blank" rel="noreferrer">æµ‹è¯•é¡¹ç›®</a>:</p><p><img src="/awesome-node/assets/8-7.04fa6cc6.webp" alt="esbuildå‹ç¼©benchmark"></p><p>å‹ç¼©ä¸€ä¸ªå¤§å°ä¸º<code>3.2 MB</code>çš„åº“ï¼ŒTerser éœ€è¦è€—è´¹<code>8798 ms</code>ï¼Œè€Œ Esbuild ä»…ä»…éœ€è¦<code>361 ms</code>ï¼Œå‹ç¼©æ•ˆç‡è¾ƒ Terser æå‡äº†äºŒä¸‰åå€ï¼Œå¹¶ä¸”äº§ç‰©çš„ä½“ç§¯å‡ ä¹æ²¡æœ‰åŠ£åŒ–ï¼Œå› æ­¤ Vite æœæ–­å°†å…¶å†…ç½®ä¸ºé»˜è®¤çš„å‹ç¼©æ–¹æ¡ˆã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒVite å°† Esbuild ä½œä¸ºè‡ªå·±çš„æ€§èƒ½åˆ©å™¨ï¼Œå°† Esbuild å„ä¸ªå‚ç›´æ–¹å‘çš„èƒ½åŠ›(<code>Bundler</code>ã€<code>Transformer</code>ã€<code>Minifier</code>)åˆ©ç”¨çš„æ·‹æ¼“å°½è‡´ï¼Œç»™ Vite çš„é«˜æ€§èƒ½æä¾›äº†æœ‰åˆ©çš„ä¿è¯ã€‚</p><h2 id="æ„å»ºåŸºçŸ³â€”â€”rollup" tabindex="-1">æ„å»ºåŸºçŸ³â€”â€”Rollup <a class="header-anchor" href="#æ„å»ºåŸºçŸ³â€”â€”rollup" aria-label="Permalink to &quot;æ„å»ºåŸºçŸ³â€”â€”Rollup&quot;">â€‹</a></h2><p>Rollup åœ¨ Vite ä¸­çš„é‡è¦æ€§ä¸€ç‚¹ä¹Ÿä¸äºšäº Esbuildï¼Œå®ƒæ—¢æ˜¯ Vite ç”¨ä½œç”Ÿäº§ç¯å¢ƒæ‰“åŒ…çš„æ ¸å¿ƒå·¥å…·ï¼Œä¹Ÿç›´æ¥å†³å®šäº† Vite æ’ä»¶æœºåˆ¶çš„è®¾è®¡ã€‚é‚£ä¹ˆï¼ŒVite åˆ°åº•åŸºäº Rollup åšäº†å“ªäº›äº‹æƒ…ï¼Ÿ</p><h3 id="ç”Ÿäº§ç¯å¢ƒ-bundle" tabindex="-1">ç”Ÿäº§ç¯å¢ƒ Bundle <a class="header-anchor" href="#ç”Ÿäº§ç¯å¢ƒ-bundle" aria-label="Permalink to &quot;ç”Ÿäº§ç¯å¢ƒ Bundle&quot;">â€‹</a></h3><p>è™½ç„¶ ESM å·²ç»å¾—åˆ°ä¼—å¤šæµè§ˆå™¨çš„åŸç”Ÿæ”¯æŒï¼Œä½†ç”Ÿäº§ç¯å¢ƒåšåˆ°å®Œå…¨<code>no-bundle</code>ä¹Ÿä¸è¡Œï¼Œä¼šæœ‰ç½‘ç»œæ€§èƒ½é—®é¢˜ã€‚ä¸ºäº†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿèƒ½å–å¾—ä¼˜ç§€çš„äº§ç‰©æ€§èƒ½ï¼ŒVite é»˜è®¤é€‰æ‹©åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åˆ©ç”¨ <code>Rollup</code> æ‰“åŒ…ï¼Œå¹¶åŸºäº Rollup æœ¬èº«æˆç†Ÿçš„æ‰“åŒ…èƒ½åŠ›è¿›è¡Œæ‰©å±•å’Œä¼˜åŒ–ï¼Œä¸»è¦åŒ…å« 3 ä¸ªæ–¹é¢:</p><ol><li><p>CSS ä»£ç åˆ†å‰²ã€‚å¦‚æœæŸä¸ªå¼‚æ­¥æ¨¡å—ä¸­å¼•å…¥äº†ä¸€äº› CSS ä»£ç ï¼ŒVite å°±ä¼šè‡ªåŠ¨å°†è¿™äº› CSS æŠ½å–å‡ºæ¥ç”Ÿæˆå•ç‹¬çš„æ–‡ä»¶ï¼Œæé«˜çº¿ä¸Šäº§ç‰©çš„<code>ç¼“å­˜å¤ç”¨ç‡</code>ã€‚</p></li><li><p>è‡ªåŠ¨é¢„åŠ è½½ã€‚Vite ä¼šè‡ªåŠ¨ä¸ºå…¥å£ chunk çš„ä¾èµ–è‡ªåŠ¨ç”Ÿæˆé¢„åŠ è½½æ ‡ç­¾<code>&lt;link rel=&quot;moduelpreload&quot;&gt;</code> ï¼Œå¦‚:</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">&lt;!-- çœç•¥å…¶å®ƒå†…å®¹ --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">&lt;!-- å…¥å£ chunk --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">  &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">crossorigin</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/assets/index.250e0340.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">&lt;!--  è‡ªåŠ¨é¢„åŠ è½½å…¥å£ chunk æ‰€ä¾èµ–çš„ chunk--&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">modulepreload</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/assets/vendor.293dca09.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>è¿™ç§é€‚å½“é¢„åŠ è½½çš„åšæ³•ä¼šè®©æµè§ˆå™¨æå‰ä¸‹è½½å¥½èµ„æºï¼Œä¼˜åŒ–é¡µé¢æ€§èƒ½ã€‚</p></li><li><p>å¼‚æ­¥ Chunk åŠ è½½ä¼˜åŒ–ã€‚åœ¨å¼‚æ­¥å¼•å…¥çš„ Chunk ä¸­ï¼Œé€šå¸¸ä¼šæœ‰ä¸€äº›å…¬ç”¨çš„æ¨¡å—ï¼Œå¦‚ç°æœ‰ä¸¤ä¸ªå¼‚æ­¥å¼•å…¥çš„ Chunk: <code>A</code> å’Œ <code>B</code>ï¼Œè€Œä¸”ä¸¤è€…æœ‰ä¸€ä¸ªå…¬å…±ä¾èµ– Cï¼Œå¦‚ä¸‹å›¾:</p></li></ol><p><img src="/awesome-node/assets/8-8.0a58465d.webp" alt="å¼‚æ­¥chunkåŠ è½½ä¼˜åŒ–"></p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒRollup æ‰“åŒ…ä¹‹åï¼Œä¼šå…ˆè¯·æ±‚ Aï¼Œç„¶åæµè§ˆå™¨åœ¨åŠ è½½ A çš„è¿‡ç¨‹ä¸­æ‰å†³å®šè¯·æ±‚å’ŒåŠ è½½ Cï¼Œä½† Vite è¿›è¡Œä¼˜åŒ–ä¹‹åï¼Œè¯·æ±‚ A çš„åŒæ—¶ä¼šè‡ªåŠ¨é¢„åŠ è½½ Cï¼Œé€šè¿‡ä¼˜åŒ– Rollup äº§ç‰©ä¾èµ–åŠ è½½æ–¹å¼èŠ‚çœäº†ä¸å¿…è¦çš„ç½‘ç»œå¼€é”€ã€‚</p><h3 id="å…¼å®¹æ’ä»¶æœºåˆ¶" tabindex="-1">å…¼å®¹æ’ä»¶æœºåˆ¶ <a class="header-anchor" href="#å…¼å®¹æ’ä»¶æœºåˆ¶" aria-label="Permalink to &quot;å…¼å®¹æ’ä»¶æœºåˆ¶&quot;">â€‹</a></h3><p>æ— è®ºæ˜¯å¼€å‘é˜¶æ®µè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼ŒVite éƒ½æ ¹æ¤äº Rollup çš„æ’ä»¶æœºåˆ¶å’Œç”Ÿæ€ï¼Œå¦‚ä¸‹é¢çš„æ¶æ„å›¾æ‰€ç¤º:</p><p><img src="/awesome-node/assets/8-9.ff139241.webp" alt="Rollupæ’ä»¶æœºåˆ¶"></p><p>åœ¨å¼€å‘é˜¶æ®µï¼ŒVite å€Ÿé‰´äº† <a href="https://github.com/preactjs/wmr" target="_blank" rel="noreferrer">WMR</a> çš„æ€è·¯ï¼Œè‡ªå·±å®ç°äº†ä¸€ä¸ª <code>Plugin Container</code>ï¼Œç”¨æ¥æ¨¡æ‹Ÿ Rollup è°ƒåº¦å„ä¸ª Vite æ’ä»¶çš„æ‰§è¡Œé€»è¾‘ï¼Œè€Œ Vite çš„æ’ä»¶å†™æ³•å®Œå…¨å…¼å®¹ Rollupï¼Œå› æ­¤åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å°†æ‰€æœ‰çš„ Vite æ’ä»¶ä¼ å…¥ Rollup ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</p><p>åè¿‡æ¥è¯´ï¼ŒRollup æ’ä»¶å´ä¸ä¸€å®šèƒ½å®Œå…¨å…¼å®¹ Vite(è¿™éƒ¨åˆ†æˆ‘ä»¬ä¼šåœ¨<strong>æ’ä»¶å¼€å‘</strong>å°èŠ‚å±•å¼€æ¥è¯´)ã€‚ä¸è¿‡ï¼Œç›®å‰ä»ç„¶æœ‰ä¸å°‘ Rollup æ’ä»¶å¯ä»¥ç›´æ¥å¤ç”¨åˆ° Vite ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡è¿™ä¸ªç«™ç‚¹æŸ¥çœ‹æ‰€æœ‰å…¼å®¹ Vite çš„ Rollup æ’ä»¶: <a href="https://vite-rollup-plugins.patak.dev/" target="_blank" rel="noreferrer">https://vite-rollup-plugins.patak.dev/</a> ã€‚</p><p>ç‹¼å”åœ¨<a href="https://mp.weixin.qq.com/s/mt2Uyh-lpHqHAHqjsen7zw" target="_blank" rel="noreferrer">ã€Šä»¥æ¡†æ¶å®šä½è®ºå‰ç«¯çš„å…ˆè¿›æ€§ã€‹</a> æåˆ°ç°ä»£å‰ç«¯æ¡†æ¶çš„å‡ å¤§åˆ†ç±»ï¼ŒVite å±äº<code>äººæœ‰æˆ‘ä¼˜</code>çš„ç±»å‹ï¼Œå› ä¸ºç±»ä¼¼çš„å·¥å…·ä¹‹å‰æœ‰ <a href="https://www.snowpack.dev/" target="_blank" rel="noreferrer">Snowpack</a>ï¼ŒVite è¯ç”Ÿä¹‹åè¡¥é½äº†ä½œä¸ºä¸€ä¸ª no-bundle æ„å»ºå·¥å…·çš„ Dev Server èƒ½åŠ›(å¦‚ HMR)ï¼Œç¡®å®æ¯”ç°æœ‰çš„å·¥å…·èƒ½åŠ›æ›´ä¼˜ã€‚ä½†æ›´é‡è¦çš„æ˜¯ï¼ŒVite åœ¨<strong>ç¤¾åŒºç”Ÿæ€</strong>æ–¹é¢æ¯” Snowpack æ›´å å…ˆå¤©ä¼˜åŠ¿ã€‚</p><p>Snowpack è‡ªç ”äº†ä¸€å¥—æ’ä»¶æœºåˆ¶ï¼Œç±»ä¼¼ Rollup çš„ Hook æœºåˆ¶ï¼Œå¯ä»¥çœ‹å‡ºå€Ÿé‰´äº† Rollup çš„æ’ä»¶æœºåˆ¶ï¼Œä½†å¹¶ä¸èƒ½å…¼å®¹ä»»ä½•ç°æœ‰çš„æ‰“åŒ…å·¥å…·ã€‚å¦‚æœéœ€è¦æ‰“åŒ…ï¼Œåªèƒ½è°ƒç”¨å…¶å®ƒæ‰“åŒ…å·¥å…·çš„ APIï¼Œè‡ªèº«ä¸æä¾›æ‰“åŒ…èƒ½åŠ›ã€‚</p><p>è€Œ Vite çš„åšæ³•æ˜¯ä»å¤´åˆ°å°¾æ ¹æ¤äºçš„ Rollup çš„ç”Ÿæ€ï¼Œè®¾è®¡äº†å’Œ Rollup éå¸¸å»åˆçš„æ’ä»¶æœºåˆ¶ï¼Œè€Œ Rollup ä½œä¸ºä¸€ä¸ªéå¸¸æˆç†Ÿçš„æ‰“åŒ…æ–¹æ¡ˆï¼Œä»è¯ç”Ÿè‡³ä»Šå·²ç»è¿­ä»£äº†<code>å…­å¹´å¤š</code>çš„æ—¶é—´ï¼Œnpm å¹´ä¸‹è½½é‡è¾¾åˆ°<code>ä¸Šäº¿æ¬¡</code>ï¼Œäº§ç‰©è´¨é‡å’Œç¨³å®šæ€§éƒ½ç»å†è¿‡å¤§è§„æ¨¡çš„éªŒè¯ã€‚æŸç§ç¨‹åº¦ä¸Šè¯´ï¼Œè¿™ç§æ ¹æ¤äºå·²æœ‰æˆç†Ÿå·¥å…·çš„æ€è·¯ä¹Ÿèƒ½æ‰“æ¶ˆæˆ–è€…é™ä½ç”¨æˆ·å†…å¿ƒçš„ç–‘è™‘ï¼Œæ›´æœ‰åˆ©äºå·¥å…·çš„æ¨å¹¿å’Œå‘å±•ã€‚</p><h2 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to &quot;å°ç»“&quot;">â€‹</a></h2><p>æœ¬å°èŠ‚çš„å†…å®¹ä¸­ï¼Œæˆ‘ç»™ä½ æ‹†è§£äº† Vite åº•å±‚åŒå¼•æ“çš„æ¶æ„ï¼Œåˆ†åˆ«ä»‹ç»äº† Esbuild å’Œ Rollup ç©¶ç«Ÿåœ¨ Vite ä¸­åšäº›äº†ä»€ä¹ˆï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡ <strong>Vite çš„æ•´ä½“æ¶æ„</strong>ä»¥åŠ <strong>Esbuild å’Œ Rollup åœ¨ Vite ä¸­çš„ä½œç”¨</strong>ã€‚</p><p>é¦–å…ˆï¼ŒEsbuild ä½œä¸ºæ„å»ºçš„æ€§èƒ½åˆ©å™¨ï¼ŒVite åˆ©ç”¨å…¶ Bundler çš„åŠŸèƒ½è¿›è¡Œä¾èµ–é¢„æ„å»ºï¼Œç”¨å…¶ Transformer çš„èƒ½åŠ›è¿›è¡Œ TS å’Œ JSX æ–‡ä»¶çš„è½¬è¯‘ï¼Œä¹Ÿç”¨åˆ°å®ƒçš„å‹ç¼©èƒ½åŠ›è¿›è¡Œ JS å’Œ CSS ä»£ç çš„å‹ç¼©ã€‚</p><p>æ¥ç€ï¼Œæˆ‘ç»™ä½ ä»‹ç»äº† Vite å’Œ Rollup çš„å…³ç³»ã€‚åœ¨ Vite å½“ä¸­ï¼Œæ— è®ºæ˜¯æ’ä»¶æœºåˆ¶ã€è¿˜æ˜¯åº•å±‚çš„æ‰“åŒ…æ‰‹æ®µï¼Œéƒ½åŸºäº Rollup æ¥å®ç°ï¼Œå¯ä»¥è¯´ Vite æ˜¯å¯¹äº Rollup ä¸€ç§åœºæ™¯åŒ–çš„æ·±åº¦æ‰©å±•ï¼Œå°† Rollup ä»ä¼ ç»Ÿçš„ JS åº“æ‰“åŒ…åœºæ™¯æ‰©å±•è‡³å®Œæ•´ Web åº”ç”¨æ‰“åŒ…ï¼Œç„¶åç»“åˆå¼€å‘é˜¶æ®µ <code>no-bundle</code> çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œæ‰“é€ å‡ºäº†è‡ªå·±ç‹¬å…·ä¸€æ ¼çš„æŠ€æœ¯å“ç‰Œã€‚</p><p>å› æ­¤ï¼Œä½ å¯ä»¥çœ‹å‡ºåŒå¼•æ“å¯¹äº Vite çš„é‡è¦æ€§ï¼Œå¦‚æœè¦æ·±å…¥å­¦ä¹ å’Œåº”ç”¨ Viteï¼Œé‚£ä¹ˆæŒæ¡ Esbuild å’Œ Rollup çš„åŸºç¡€ä½¿ç”¨å’Œæ’ä»¶å¼€å‘æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚åœ¨ä¸‹é¢çš„å‡ ä¸ªå°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·è¿›å…¥åŒå¼•æ“æœ¬èº«çš„å­¦ä¹ ã€‚</p><p>2023å¹´02æœˆ13æ—¥14:50:25</p></div></div></main><footer class="VPDocFooter" data-v-4dd2ec74 data-v-c74aa331><!--[--><!--]--><div class="edit-info" data-v-c74aa331><div class="edit-link" data-v-c74aa331><a class="VPLink link edit-link-button" href="https://github.com/jamessawyer/awesome-node/edit/main/docs/book/vite/8.md" target="_blank" rel="noreferrer" data-v-c74aa331 data-v-ff5dff0d><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-c74aa331><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> åœ¨GitHubç¼–è¾‘æ­¤é¡µ<!--]--><!----></a></div><div class="last-updated" data-v-c74aa331><p class="VPLastUpdated" data-v-c74aa331 data-v-5085530d>Last updated: <time datetime="2023-05-09T09:51:33.000Z" data-v-5085530d></time></p></div></div><div class="prev-next" data-v-c74aa331><div class="pager" data-v-c74aa331><a class="pager-link prev" href="/awesome-node/book/vite/7.html" data-v-c74aa331><span class="desc" data-v-c74aa331>Previous page</span><span class="title" data-v-c74aa331>7.é¢„æ„å»º</span></a></div><div class="has-prev pager" data-v-c74aa331><a class="pager-link next" href="/awesome-node/book/vite/9.html" data-v-c74aa331><span class="desc" data-v-c74aa331>Next page</span><span class="title" data-v-c74aa331>9.æ€§èƒ½æ¨æ‰‹: Esbuild</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blog_misc_module.md\":\"c0fa3295\",\"blog_misc_ts-and-express.md\":\"3be8b16c\",\"blog_dive_index.md\":\"5a8bbebf\",\"blog_first.md\":\"609cdb25\",\"blog_resource_advanced.md\":\"8c075f15\",\"blog_resource_basic.md\":\"d0b03eb7\",\"blog_translate_file-system-paths.md\":\"1abd9285\",\"book_vite_19.md\":\"62734e3c\",\"blog_translate_web-streams-on-node.md\":\"6b1415be\",\"book_babel_4.md\":\"ff58d8a3\",\"book_babel_5.md\":\"0e55c8d8\",\"book_babel_6.md\":\"21a1dc63\",\"book_patterns_module-system_index.md\":\"35ad5ee8\",\"book_patterns_module-system_module-define-patterns.md\":\"1d974f23\",\"book_patterns_module-system_module-system-in-js-and-node.md\":\"3b24c269\",\"book_patterns_module-system_summary.md\":\"a5dc2efd\",\"book_patterns_module-system_the-module-system-and-its-patterns.md\":\"2e1ea9b1\",\"book_patterns_module-system_the-need-for-modules.md\":\"4dbac85d\",\"book_patterns_the-module-system.md\":\"f708fc62\",\"book_patterns_the-node-platform.md\":\"3882cd93\",\"book_vite_1.md\":\"caaee5bc\",\"book_vite_10.md\":\"5ded6cda\",\"book_vite_12.md\":\"79e26ccf\",\"book_babel_3.md\":\"b0ce80db\",\"book_babel_1.md\":\"60fcb531\",\"book_babel_2.md\":\"6ef10a40\",\"book_vite_2.md\":\"841da259\",\"book_vite_3.md\":\"60d7e53f\",\"book_vite_4.md\":\"ef34adaa\",\"book_vite_18.md\":\"8c740798\",\"book_vite_11.md\":\"359fda42\",\"book_vite_14.md\":\"0ef5616e\",\"book_webpack_10.md\":\"22c1be80\",\"book_patterns_module-system_commonjs-modules.md\":\"f451cebb\",\"book_vite_7.md\":\"88112a11\",\"book_patterns_module-system_esm-cjs-interoperability.md\":\"402889a8\",\"book_vite_9.md\":\"6880d4e9\",\"book_patterns_module-system_esm.md\":\"c22c1414\",\"book_webpack_1.md\":\"373501e2\",\"book_webpack_2.md\":\"64441ce6\",\"core_events_index.md\":\"5e3fec3d\",\"framework_nestjs_index.md\":\"83ec0051\",\"book_vite_8.md\":\"a00e9400\",\"lib_fs-extra_copy.md\":\"2fe12c99\",\"v18doc_path.md\":\"35d8c404\",\"book_webpack_index.md\":\"bc083bf0\",\"book_webpack_3.md\":\"9ce50ef6\",\"core_stream_stream-visualization.md\":\"cc8cc961\",\"framework_express_index.md\":\"995a26b0\",\"lib_fs-extra_emptydir.md\":\"50a44740\",\"index.md\":\"29729b5b\",\"lib_fs-extra_ensuredir.md\":\"a0512888\",\"lib_fs-extra_ensurefile.md\":\"19c3d483\",\"lib_fs-extra_ensurelink.md\":\"6c2a491c\",\"lib_fs-extra_ensuresymlink.md\":\"a93386c5\",\"lib_fs-extra_fs-write-read-writev.md\":\"7e382441\",\"lib_fs-extra_index.md\":\"52ff46d1\",\"lib_fs-extra_move.md\":\"d4855f71\",\"lib_fs-extra_outputjson.md\":\"c1cf3498\",\"lib_fs-extra_outputfile.md\":\"81afe762\",\"lib_fs-extra_pathexists.md\":\"a087d3d3\",\"lib_fs-extra_writejson.md\":\"3fbc3db1\",\"lib_fs-extra_readjson.md\":\"5e6eb0fb\",\"lib_fs-extra_remove.md\":\"250edd7a\",\"manager_babel.md\":\"ef1a3597\",\"manager_basic.md\":\"aaf32992\",\"manager_recipe.md\":\"2f071b82\",\"blog_translate_fs-in-node.md\":\"52b43631\",\"book_vite_16.md\":\"c44e7478\",\"manager_vite.md\":\"b1455dc3\",\"manager_webpack.md\":\"c4cc40f8\",\"manager_webpack_dive-deep-bundling-process.md\":\"51fe6e09\",\"v18doc_file-system.md\":\"42ac24f5\",\"book_babel_index.md\":\"bc94e934\",\"book_vite_15.md\":\"90e95adc\",\"book_webpack_11.md\":\"9dc171ba\",\"book_patterns_callback-and-events.md\":\"772bf90a\",\"book_webpack_13.md\":\"bd05a3ce\",\"book_webpack_16.md\":\"b333d3c3\",\"book_webpack_12.md\":\"d560d93f\",\"book_webpack_18.md\":\"99763ca2\",\"book_webpack_14.md\":\"032aa620\",\"book_webpack_15.md\":\"ba7d8469\",\"book_vite_17.md\":\"c19c418c\",\"book_webpack_17.md\":\"41d8907a\",\"core_stream_index.md\":\"afac3c99\",\"core_stream_stream-in-practice.md\":\"f3a57d76\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Awesome Node\",\"description\":\"Node + Vite + Webpack + Babel\",\"base\":\"/awesome-node/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"outlineTitle\":\"ç›®å½•\",\"outline\":[2,3],\"editLink\":{\"text\":\"åœ¨GitHubç¼–è¾‘æ­¤é¡µ\",\"pattern\":\"https://github.com/jamessawyer/awesome-node/edit/main/docs/:path\"},\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"ğŸ“„Nodeæ–‡æ¡£\",\"activeMatch\":\"^/v18doc/\",\"link\":\"/v18doc/File-System\"},{\"text\":\"ğŸ“¦å·¥ç¨‹åŒ–\",\"link\":\"/manager/basic\"},{\"text\":\"ğŸ’«æ ¸å¿ƒæ¦‚å¿µ\",\"link\":\"/core/stream/index\"},{\"text\":\"ğŸ¤”blog\",\"link\":\"/blog/first\"},{\"text\":\"ğŸ“šä¹¦ç±\",\"items\":[{\"text\":\"Node Design Patterns\",\"link\":\"/book/patterns/the-node-platform\"},{\"text\":\"æ·±å…¥ç†è§£Vite\",\"link\":\"/book/vite/2\"},{\"text\":\"Webpack5æ ¸å¿ƒåŸç†\",\"link\":\"/book/webpack/1\"},{\"text\":\"Babelæ’ä»¶ç§˜ç±\",\"link\":\"/book/babel/2\"}]},{\"text\":\"ğŸ§‘â€ğŸš€æ¡†æ¶\",\"items\":[{\"text\":\"NestJS\",\"link\":\"/framework/nestjs/index\"},{\"text\":\"Express\",\"link\":\"/framework/express/index\"}]},{\"text\":\"ğŸ”¥å¸¸ç”¨åº“\",\"items\":[{\"text\":\"fs-extra\",\"link\":\"/lib/fs-extra/index\"}]}],\"sidebar\":{\"/v18doc/\":[{\"text\":\"Node v18.x ä¸­æ–‡æ–‡æ¡£\",\"items\":[{\"text\":\"File System\",\"link\":\"/v18doc/File-System\"},{\"text\":\"Path\",\"link\":\"/v18doc/Path\"}]}],\"/manager/\":[{\"text\":\"åŸºç¡€çŸ¥è¯†\",\"items\":[{\"text\":\"package.json\",\"link\":\"/manager/basic\"},{\"text\":\"Viteå­¦ä¹ \",\"link\":\"/manager/vite\"},{\"text\":\"Webpackå­¦ä¹ \",\"link\":\"/manager/webpack\"},{\"text\":\"babelç”Ÿæ€\",\"link\":\"/manager/babel\"}]},{\"text\":\"webpackç¿»è¯‘\",\"items\":[{\"text\":\"æ·±å…¥Webpackæ‰“åŒ…è¿‡ç¨‹\",\"link\":\"/manager/webpack/dive-deep-bundling-process\"}]},{\"text\":\"Recipe\",\"items\":[{\"text\":\"Nodeèµ„æº\",\"link\":\"/manager/recipe\"}]}],\"/core/\":[{\"text\":\"EventEmitter\",\"collapsible\":true,\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/core/events/index\"}]},{\"text\":\"Streams\",\"collapsible\":true,\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/core/stream/index\"},{\"text\":\"âš¡Streamå›¾è§£\",\"link\":\"/core/stream/stream-visualization\"},{\"text\":\"âš¡Streamå®æˆ˜\",\"link\":\"/core/stream/stream-in-practice\"}]}],\"/blog/\":[{\"text\":\"èµ„æº\",\"items\":[{\"text\":\"Advanced\",\"link\":\"/blog/resource/advanced\"}]},{\"text\":\"ğŸš€ å¥½æ–‡ç¿»è¯‘\",\"collapsible\":true,\"items\":[{\"text\":\"Path & URLçš„ç”¨æ³•\",\"link\":\"/blog/translate/file-system-paths\"},{\"text\":\"FS in Node\",\"link\":\"/blog/translate/fs-in-node\"},{\"text\":\"Web Streams on Node\",\"link\":\"/blog/translate/web-streams-on-node\"}]},{\"text\":\"MISC\",\"collapsible\":true,\"items\":[{\"text\":\"ESM & CJSæ¨¡å—\",\"link\":\"/blog/misc/module\"},{\"text\":\"Express + typescriptè®¾ç½®\",\"link\":\"/blog/misc/ts-and-express\"}]}],\"/book/patterns\":[{\"text\":\"Nodeè®¾è®¡æ¨¡å¼\",\"items\":[{\"text\":\"the node platform\",\"link\":\"/book/patterns/the-node-platform\"},{\"text\":\"callback and events\",\"link\":\"/book/patterns/callback-and-events\"}]},{\"text\":\"â…¡.æ¨¡å—ç³»ç»Ÿ\",\"collapsible\":true,\"items\":[{\"text\":\"ä»‹ç»\",\"link\":\"/book/patterns/module-system/index\"},{\"text\":\"æ¨¡å—ç³»ç»Ÿçš„å¿…è¦æ€§\",\"link\":\"/book/patterns/module-system/the-need-for-modules\"},{\"text\":\"JSå’ŒNodeä¸­çš„æ¨¡å—ç³»ç»Ÿ\",\"link\":\"/book/patterns/module-system/module-system-in-js-and-node\"},{\"text\":\"æ¨¡å—ç³»ç»Ÿå’Œå…¶æ¨¡å¼\",\"link\":\"/book/patterns/module-system/the-module-system-and-its-patterns\"},{\"text\":\"âš¡CommonJSæ¨¡å—\",\"link\":\"/book/patterns/module-system/commonjs-modules\"},{\"text\":\"ğŸ™†â€â™€ï¸CommonJSæ¨¡å—å¸¸ç”¨æ¨¡å¼å®šä¹‰\",\"link\":\"/book/patterns/module-system/module-define-patterns\"},{\"text\":\"ğŸš€ESM\",\"link\":\"/book/patterns/module-system/esm\"},{\"text\":\"ğŸš€ESMå’ŒCJSå·®å¼‚å’Œäº’æ“æ€§\",\"link\":\"/book/patterns/module-system/esm-cjs-interoperability\"},{\"text\":\"æ€»ç»“\",\"link\":\"/book/patterns/module-system/summary\"}]}],\"/book/vite\":[{\"text\":\"ğŸ”§æ·±å…¥ç†è§£Vite\",\"items\":[{\"text\":\"1.Viteå¼€ç¯‡\",\"link\":\"/book/vite/1\"},{\"text\":\"2.æ¨¡å—æ ‡å‡†\",\"link\":\"/book/vite/2\"},{\"text\":\"3.å¿«é€Ÿä¸Šæ‰‹Vite\",\"link\":\"/book/vite/3\"},{\"text\":\"4.æ ·å¼æ–¹æ¡ˆ\",\"link\":\"/book/vite/4\"},{\"text\":\"7.é¢„æ„å»º\",\"link\":\"/book/vite/7\"},{\"text\":\"8.åŒå¼•æ“æ¶æ„\",\"link\":\"/book/vite/8\"},{\"text\":\"9.æ€§èƒ½æ¨æ‰‹: Esbuild\",\"link\":\"/book/vite/9\"},{\"text\":\"10.RollupåŸºæœ¬ç”¨æ³•\",\"link\":\"/book/vite/10\"},{\"text\":\"11.æ·±å…¥ç†è§£Rollupæ’ä»¶æœºåˆ¶\",\"link\":\"/book/vite/11\"},{\"text\":\"12.Viteæ’ä»¶å¼€å‘\",\"link\":\"/book/vite/12\"},{\"text\":\"14.ä»£ç åˆ†å‰²\",\"link\":\"/book/vite/14\"},{\"text\":\"15.Polyfillå’Œè¯­æ³•é™çº§\",\"link\":\"/book/vite/15\"},{\"text\":\"16.Viteæ­å»ºSSRå·¥ç¨‹\",\"link\":\"/book/vite/16\"},{\"text\":\"17.è”é‚¦æ¨¡å—ä»¥åŠåŸç†\",\"link\":\"/book/vite/17\"},{\"text\":\"18.Pure ESMæ—¶ä»£\",\"link\":\"/book/vite/18\"},{\"text\":\"19.ç³»ç»Ÿå¯¹Viteé¡¹ç›®æ€§èƒ½ä¼˜åŒ–\",\"link\":\"/book/vite/19\"}]}],\"/book/webpack\":[{\"text\":\"Webpack5æ ¸å¿ƒåŸç†ä¸å®è·µ\",\"items\":[{\"text\":\"1.é‡æ–°è®¤è¯†Webpack\",\"link\":\"/book/webpack/1\"},{\"text\":\"2.å¦‚ä½•ç†è§£Webpacké…ç½®åº•å±‚ç»“æ„é€»è¾‘ï¼Ÿ\",\"link\":\"/book/webpack/2\"},{\"text\":\"3.é…ç½®Babel+TS+ESLintï¼Ÿ\",\"link\":\"/book/webpack/3\"},{\"text\":\"10.æ·±å…¥ç†è§£å›¾åƒåŠ è½½åŸç†å’Œæœ€ä½³å®è·µ\",\"link\":\"/book/webpack/10\"},{\"text\":\"11.æ·±å…¥ç†è§£webpackæ ¸å¿ƒé…ç½®ğŸ“š\",\"link\":\"/book/webpack/11\"},{\"text\":\"12.æ€§èƒ½ï¼š7æ¬¾æ€§èƒ½åˆ†æå·¥å…·âš¡\",\"link\":\"/book/webpack/12\"},{\"text\":\"13.å¦‚ä½•ä½¿ç”¨webpackç¼“å­˜æå‡æ€§èƒ½âš¡\",\"link\":\"/book/webpack/13\"},{\"text\":\"14.webpackå¹¶è¡Œæ„å»ºæ–¹å¼âš¡\",\"link\":\"/book/webpack/14\"},{\"text\":\"15.å¼€å‘æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡\",\"link\":\"/book/webpack/15\"},{\"text\":\"16.ä½¿ç”¨SplitChunkæå‡æ€§èƒ½âš¡\",\"link\":\"/book/webpack/16\"},{\"text\":\"17.ä¸æ­¢Terser: ä»£ç å‹ç¼©çš„é—¨é—¨é“é“âš¡\",\"link\":\"/book/webpack/17\"},{\"text\":\"18.åº”ç”¨æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡\",\"link\":\"/book/webpack/18\"}]}],\"/book/babel\":[{\"text\":\"Babelæ’ä»¶ç§˜ç±\",\"items\":[{\"text\":\"1.Babelçš„ä»‹ç»\",\"link\":\"/book/babel/1\"},{\"text\":\"2.Babelçš„ç¼–è¯‘æµç¨‹\",\"link\":\"/book/babel/2\"},{\"text\":\"3.Babelçš„AST\",\"link\":\"/book/babel/3\"},{\"text\":\"4.Babelçš„API\",\"link\":\"/book/babel/4\"},{\"text\":\"5.å®æˆ˜ï¼šæ’å…¥å‡½æ•°è°ƒç”¨å‚æ•°\",\"link\":\"/book/babel/5\"},{\"text\":\"6.JS Parserçš„å†å²\",\"link\":\"/book/babel/6\"}]}],\"/lib/fs-extra\":[{\"text\":\"fs-extra\",\"items\":[{\"text\":\"README\",\"link\":\"/lib/fs-extra/index\"},{\"text\":\"copy\",\"link\":\"/lib/fs-extra/copy\"},{\"text\":\"emptyDir\",\"link\":\"/lib/fs-extra/emptyDir\"},{\"text\":\"ensureFile\",\"link\":\"/lib/fs-extra/ensureFile\"},{\"text\":\"ensureDir\",\"link\":\"/lib/fs-extra/ensureDir\"},{\"text\":\"ensureLink\",\"link\":\"/lib/fs-extra/ensureLink\"},{\"text\":\"ensureSymlink\",\"link\":\"/lib/fs-extra/ensureSymlink\"},{\"text\":\"move\",\"link\":\"/lib/fs-extra/move\"},{\"text\":\"outputFile\",\"link\":\"/lib/fs-extra/outputFile\"},{\"text\":\"pathExists\",\"link\":\"/lib/fs-extra/pathExists\"},{\"text\":\"readJson\",\"link\":\"/lib/fs-extra/readJson\"},{\"text\":\"remove\",\"link\":\"/lib/fs-extra/remove\"},{\"text\":\"outputJson\",\"link\":\"/lib/fs-extra/outputJson\"},{\"text\":\"writeJson\",\"link\":\"/lib/fs-extra/writeJson\"},{\"text\":\"fs-write-read-writev\",\"link\":\"/lib/fs-extra/fs-write-read-writev\"}]}],\"/framework/nestjs\":[{\"text\":\"å­¦ä¹ NestJS\",\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/framework/nestjs/index\"}]}],\"/framework/express\":[{\"text\":\"Learn ExpressJS\",\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/framework/express/index\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>