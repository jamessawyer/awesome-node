<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpackå¹¶è¡Œæ„å»ºçš„æ–¹å¼ | Awesome Node</title>
    <meta name="description" content="Node + Vite + Webpack + Babel">
    <link rel="preload stylesheet" href="/awesome-node/assets/style.0c8602bd.css" as="style">
    <script type="module" src="/awesome-node/assets/app.67d59b9c.js"></script>
    <link rel="preload" href="/awesome-node/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/framework.d548c069.js">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/theme.dbaa7b1e.js">
  <link rel="modulepreload" href="/awesome-node/assets/book_webpack_14.md.37f07a7a.lean.js">
  <link rel="icon" href="/awesome-node/favicon.ico">
  <link rel="apple-touch-icon" href="/awesome-node/pwa-192x192.png" sizes="192x192">
  <meta name="keywords" content="Node, Vite, Webpack, Babel">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <link rel="manifest" href="/awesome-node/manifest.webmanifest">
  <script id="vite-plugin-pwa:register-sw" src="/awesome-node/registerSW.js"></script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-8f34776c><!--[--><!--]--><!--[--><span tabindex="-1" data-v-2d720ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-2d720ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-8f34776c data-v-01443edd><div class="VPNavBar has-sidebar" data-v-01443edd data-v-b4754877><div class="container" data-v-b4754877><div class="title" data-v-b4754877><div class="VPNavBarTitle has-sidebar" data-v-b4754877 data-v-fb14c992><a class="title" href="/awesome-node/" data-v-fb14c992><!--[--><!--]--><!--[--><img class="VPImage logo" src="/awesome-node/logo.svg" alt data-v-1c77ed73><!--]--><!--[-->Awesome Node<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-b4754877><div class="curtain" data-v-b4754877></div><div class="content-body" data-v-b4754877><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-b4754877><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-b4754877 data-v-d917e9f6><span id="main-nav-aria-label" class="visually-hidden" data-v-d917e9f6>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/v18doc/File-System.html" tabindex="0" data-v-d917e9f6 data-v-99ec7905 data-v-fb754a61><!--[-->ğŸ“„Nodeæ–‡æ¡£<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/manager/basic.html" tabindex="0" data-v-d917e9f6 data-v-99ec7905 data-v-fb754a61><!--[-->ğŸ“¦å·¥ç¨‹åŒ–<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/core/stream/index.html" tabindex="0" data-v-d917e9f6 data-v-99ec7905 data-v-fb754a61><!--[-->ğŸ’«æ ¸å¿ƒæ¦‚å¿µ<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/blog/first.html" tabindex="0" data-v-d917e9f6 data-v-99ec7905 data-v-fb754a61><!--[-->ğŸ¤”blog<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d917e9f6 data-v-ba1bd7cb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ba1bd7cb><span class="text" data-v-ba1bd7cb><!----> ğŸ“šä¹¦ç± <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-ba1bd7cb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-ba1bd7cb><div class="VPMenu" data-v-ba1bd7cb data-v-b7a4e30f><div class="items" data-v-b7a4e30f><!--[--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/book/patterns/the-node-platform.html" data-v-15ee09af data-v-fb754a61><!--[-->Node Design Patterns<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/book/vite/2.html" data-v-15ee09af data-v-fb754a61><!--[-->æ·±å…¥ç†è§£Vite<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/book/webpack/1.html" data-v-15ee09af data-v-fb754a61><!--[-->Webpack5æ ¸å¿ƒåŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/book/babel/2.html" data-v-15ee09af data-v-fb754a61><!--[-->Babelæ’ä»¶ç§˜ç±<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d917e9f6 data-v-ba1bd7cb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ba1bd7cb><span class="text" data-v-ba1bd7cb><!----> ğŸ§‘â€ğŸš€æ¡†æ¶ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-ba1bd7cb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-ba1bd7cb><div class="VPMenu" data-v-ba1bd7cb data-v-b7a4e30f><div class="items" data-v-b7a4e30f><!--[--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/framework/nestjs/index.html" data-v-15ee09af data-v-fb754a61><!--[-->NestJS<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/framework/express/index.html" data-v-15ee09af data-v-fb754a61><!--[-->Express<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d917e9f6 data-v-ba1bd7cb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ba1bd7cb><span class="text" data-v-ba1bd7cb><!----> ğŸ”¥å¸¸ç”¨åº“ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-ba1bd7cb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-ba1bd7cb><div class="VPMenu" data-v-ba1bd7cb data-v-b7a4e30f><div class="items" data-v-b7a4e30f><!--[--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/lib/fs-extra/index.html" data-v-15ee09af data-v-fb754a61><!--[-->fs-extra<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-b4754877 data-v-286f508e><label title="toggle dark mode" data-v-286f508e data-v-bf2b42d4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-bf2b42d4 data-v-cc487592><span class="check" data-v-cc487592><span class="icon" data-v-cc487592><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bf2b42d4><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bf2b42d4><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-b4754877 data-v-27906a10 data-v-ba1bd7cb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ba1bd7cb><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-ba1bd7cb><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-ba1bd7cb><div class="VPMenu" data-v-ba1bd7cb data-v-b7a4e30f><!----><!--[--><!--[--><!----><div class="group" data-v-27906a10><div class="item appearance" data-v-27906a10><p class="label" data-v-27906a10>Appearance</p><div class="appearance-action" data-v-27906a10><label title="toggle dark mode" data-v-27906a10 data-v-bf2b42d4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-bf2b42d4 data-v-cc487592><span class="check" data-v-cc487592><span class="icon" data-v-cc487592><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bf2b42d4><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bf2b42d4><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b4754877 data-v-01257d5d><span class="container" data-v-01257d5d><span class="top" data-v-01257d5d></span><span class="middle" data-v-01257d5d></span><span class="bottom" data-v-01257d5d></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-8f34776c data-v-e7bbf88d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e7bbf88d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-e7bbf88d><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-e7bbf88d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e7bbf88d data-v-c904460a><button data-v-c904460a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-8f34776c data-v-6f2a4e40><div class="curtain" data-v-6f2a4e40></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-6f2a4e40><span class="visually-hidden" id="sidebar-aria-label" data-v-6f2a4e40> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-6f2a4e40><section class="VPSidebarItem level-0 has-active" data-v-6f2a4e40 data-v-8d4ce368><div class="item" role="button" tabindex="0" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><h2 class="text" data-v-8d4ce368>Webpack5æ ¸å¿ƒåŸç†ä¸å®è·µ</h2><!----></div><div class="items" data-v-8d4ce368><!--[--><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/1.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>1.é‡æ–°è®¤è¯†Webpack</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/2.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>2.å¦‚ä½•ç†è§£Webpacké…ç½®åº•å±‚ç»“æ„é€»è¾‘ï¼Ÿ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/3.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>3.é…ç½®Babel+TS+ESLintï¼Ÿ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/10.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>10.æ·±å…¥ç†è§£å›¾åƒåŠ è½½åŸç†å’Œæœ€ä½³å®è·µ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/11.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>11.æ·±å…¥ç†è§£webpackæ ¸å¿ƒé…ç½®ğŸ“š</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/13.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>13.å¦‚ä½•ä½¿ç”¨webpackç¼“å­˜æå‡æ€§èƒ½âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/14.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>14.webpackå¹¶è¡Œæ„å»ºæ–¹å¼âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/15.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>15.å¼€å‘æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/16.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>16.ä½¿ç”¨SplitChunkæå‡æ€§èƒ½âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/18.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>18.åº”ç”¨æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-8f34776c data-v-750e2ac2><div class="VPDoc has-sidebar has-aside" data-v-750e2ac2 data-v-9f12d96c><!--[--><!--]--><div class="container" data-v-9f12d96c><div class="aside" data-v-9f12d96c><div class="aside-curtain" data-v-9f12d96c></div><div class="aside-container" data-v-9f12d96c><div class="aside-content" data-v-9f12d96c><div class="VPDocAside" data-v-9f12d96c data-v-1b88ca87><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-1b88ca87 data-v-10dcf3db><div class="content" data-v-10dcf3db><div class="outline-marker" data-v-10dcf3db></div><div class="outline-title" data-v-10dcf3db>ç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-10dcf3db><span class="visually-hidden" id="doc-outline-aria-label" data-v-10dcf3db> Table of Contents for current page </span><ul class="root" data-v-10dcf3db data-v-326bd3a1><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-1b88ca87></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-9f12d96c><div class="content-container" data-v-9f12d96c><!--[--><!--]--><!----><main class="main" data-v-9f12d96c><div style="position:relative;" class="vp-doc _awesome-node_book_webpack_14" data-v-9f12d96c><div><p>å—é™äº Node.js çš„å•çº¿ç¨‹æ¶æ„ï¼ŒåŸç”Ÿ Webpack å¯¹æ‰€æœ‰èµ„æºæ–‡ä»¶åšçš„æ‰€æœ‰è§£æã€è½¬è¯‘ã€åˆå¹¶æ“ä½œæœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨<strong>åŒä¸€ä¸ªçº¿ç¨‹å†…ä¸²è¡Œ</strong>æ‰§è¡Œï¼ŒCPU åˆ©ç”¨ç‡æä½ï¼Œå› æ­¤ï¼Œç†æ‰€å½“ç„¶åœ°ï¼Œç¤¾åŒºå‡ºç°äº†ä¸€äº›ä»¥å¤šè¿›ç¨‹æ–¹å¼è¿è¡Œ Webpackï¼Œæˆ– Webpack æ„å»ºè¿‡ç¨‹æŸéƒ¨åˆ†å·¥ä½œçš„æ–¹æ¡ˆ(ä»è€Œæå‡å•ä½æ—¶é—´åˆ©ç”¨ç‡)ï¼Œä¾‹å¦‚ï¼š</p><ul><li><a href="https://github.com/amireh/happypack" target="_blank" rel="noreferrer">HappyPack</a>ï¼šå¤šè¿›ç¨‹æ–¹å¼è¿è¡Œèµ„æºåŠ è½½(Loader)é€»è¾‘ï¼›</li><li><a href="https://webpack.js.org/loaders/thread-loader/" target="_blank" rel="noreferrer">Thread-loader</a>ï¼šWebpack å®˜æ–¹å‡ºå“ï¼ŒåŒæ ·ä»¥å¤šè¿›ç¨‹æ–¹å¼è¿è¡Œèµ„æºåŠ è½½é€»è¾‘ï¼›</li><li><a href="https://www.npmjs.com/package/parallel-webpack" target="_blank" rel="noreferrer">Parallel-Webpack</a>ï¼šå¤šè¿›ç¨‹æ–¹å¼è¿è¡Œå¤šä¸ª Webpack æ„å»ºå®ä¾‹ï¼›</li><li><a href="https://www.npmjs.com/package/terser-webpack-plugin#terseroptions" target="_blank" rel="noreferrer">TerserWebpackPlugin</a>ï¼šæ”¯æŒå¤šè¿›ç¨‹æ–¹å¼æ‰§è¡Œä»£ç å‹ç¼©ã€uglify åŠŸèƒ½ã€‚</li></ul><p>è¿™äº›æ–¹æ¡ˆçš„æ ¸å¿ƒè®¾è®¡éƒ½å¾ˆç±»ä¼¼ï¼šé’ˆå¯¹æŸç§è®¡ç®—ä»»åŠ¡åˆ›å»ºå­è¿›ç¨‹ï¼Œä¹‹åå°†è¿è¡Œæ‰€éœ€å‚æ•°é€šè¿‡ <code>IPC</code> ä¼ é€’åˆ°å­è¿›ç¨‹å¹¶å¯åŠ¨è®¡ç®—æ“ä½œï¼Œè®¡ç®—å®Œæ¯•åå­è¿›ç¨‹å†å°†ç»“æœé€šè¿‡ IPC ä¼ é€’å›ä¸»è¿›ç¨‹ï¼Œå¯„å®¿åœ¨ä¸»è¿›ç¨‹çš„ç»„ä»¶å®ä¾‹ï¼Œå†å°†ç»“æœæäº¤ç»™ Webpackã€‚</p><h2 id="happypack-å·²åœæ­¢ç»´æŠ¤" tabindex="-1">HappyPack(å·²åœæ­¢ç»´æŠ¤) <a class="header-anchor" href="#happypack-å·²åœæ­¢ç»´æŠ¤" aria-label="Permalink to &quot;HappyPack(å·²åœæ­¢ç»´æŠ¤)&quot;">â€‹</a></h2><p><a href="https://github.com/amireh/happypack" target="_blank" rel="noreferrer">HappyPack</a> èƒ½å¤Ÿå°†è€—æ—¶çš„<strong>æ–‡ä»¶åŠ è½½</strong>ï¼ˆLoaderï¼‰æ“ä½œæ‹†æ•£åˆ°å¤šä¸ªå­è¿›ç¨‹ä¸­å¹¶å‘æ‰§è¡Œï¼Œå­è¿›ç¨‹æ‰§è¡Œå®Œæ¯•åå†å°†ç»“æœåˆå¹¶å›ä¼ åˆ° Webpack è¿›ç¨‹ï¼Œä»è€Œæå‡æ„å»ºæ€§èƒ½ã€‚ä¸è¿‡ï¼ŒHappyPack çš„ç”¨æ³•ç¨å¾®æœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œéœ€è¦åŒæ—¶ï¼š</p><ul><li>ä½¿ç”¨ <code>happypack/loader</code> ä»£æ›¿åŸæœ¬çš„ Loader åºåˆ—ï¼›</li><li>ä½¿ç”¨ <code>HappyPack</code> æ’ä»¶æ³¨å…¥ä»£ç†æ‰§è¡Œ Loader åºåˆ—çš„é€»è¾‘ã€‚</li></ul><p>åŸºæœ¬ç”¨æ³•ï¼š</p><ol><li><p>å®‰è£…ä¾èµ–</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">happypack</span></span></code></pre></div></li><li><p>å°†åŸæœ‰ <code>loader</code> é…ç½®æ›¿æ¢ä¸º <code>happypack/loader</code>ï¼Œå¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line diff add"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack/loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// åŸå§‹é…ç½®å¦‚ï¼š</span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [  </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">presets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@babel/preset-env</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">] </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">        ] </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li><li><p>åˆ›å»º <code>happypack</code> æ’ä»¶å®ä¾‹ï¼Œå¹¶å°†åŸæœ‰ loader é…ç½®è¿ç§»åˆ°æ’ä»¶ä¸­ï¼Œå®Œæ•´é…ç½®ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line diff add"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HappyPack </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line diff add"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack/loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [  </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">presets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@babel/preset-env</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">] </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">        ] </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line diff add"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [  </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HappyPack</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// å°†åŸæœ¬å®šä¹‰åœ¨ `module.rules.use` ä¸­çš„ Loader é…ç½®è¿ç§»åˆ° HappyPack å®ä¾‹ä¸­</span></span>
<span class="line diff add"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">loaders</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [  </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">  </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">  </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">presets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@babel/preset-env</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]  </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">      ] </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">) </span></span>
<span class="line diff add"><span style="color:#A6ACCD;">  ] </span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li></ol><p>é…ç½®å®Œæ¯•åï¼Œå†æ¬¡å¯åŠ¨ <code>npx webpack</code> å‘½ä»¤ï¼Œå³å¯ä½¿ç”¨ HappyPack çš„å¤šè¿›ç¨‹èƒ½åŠ›æå‡æ„å»ºæ€§èƒ½ã€‚ä»¥ Three.js ä¸ºä¾‹ï¼Œè¯¥é¡¹ç›®åŒ…å« 362 ä»½ JS æ–‡ä»¶ï¼Œåˆè®¡çº¦ 3w è¡Œä»£ç ã€‚</p><p>å¼€å¯ HappyPack å‰ï¼Œæ„å»ºè€—æ—¶å¤§çº¦ä¸º 11000ms åˆ° 18000ms ä¹‹é—´ï¼Œå¼€å¯åè€—æ—¶é™ä½åˆ° 5800ms åˆ° 8000ms ä¹‹é—´ï¼Œæå‡çº¦47%ã€‚</p><p>ä¸Šè¿°ç¤ºä¾‹ä»…æ¼”ç¤ºäº†ä½¿ç”¨ HappyPack åŠ è½½å•ä¸€èµ„æºç±»å‹çš„åœºæ™¯ï¼Œå®è·µä¸­æˆ‘ä»¬è¿˜å¯ä»¥åˆ›å»ºå¤šä¸ª HappyPack æ’ä»¶å®ä¾‹ï¼Œæ¥åŠ è½½å¤šç§èµ„æºç±»å‹ â€”â€” åªéœ€è¦ç”¨ <code>id</code> å‚æ•°åšå¥½ Loader ä¸ Plugin å®ä¾‹çš„å…³è”å³å¯ï¼Œä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HappyPack </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨ `id` å‚æ•°æ ‡è¯†è¯¥ Loader å¯¹åº”çš„ HappyPack æ’ä»¶ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack/loader?id=js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">less</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack/loader?id=styles</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HappyPack</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// æ³¨æ„è¿™é‡Œè¦æ˜ç¡®æä¾› id å±æ€§</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HappyPack</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">styles</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">loaders</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">less-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>è¿™é‡Œçš„é‡ç‚¹æ˜¯ï¼š</p><ul><li><code>js</code>ã€<code>less</code> èµ„æºéƒ½ä½¿ç”¨ <code>happypack/loader</code> ä½œä¸ºå”¯ä¸€åŠ è½½å™¨ï¼Œå¹¶åˆ†åˆ«èµ‹äºˆ <code>id = &#39;js&#39; | &#39;styles&#39;</code> å‚æ•°ï¼›</li><li>åˆ›å»ºäº†ä¸¤ä¸ª <code>HappyPack</code> æ’ä»¶å®ä¾‹å¹¶åˆ†åˆ«é…ç½® <code>id</code> å±æ€§ï¼Œä»¥åŠç”¨äºå¤„ç† js ä¸ css çš„ <code>loaders</code> æ•°ç»„ï¼›</li><li>å¯åŠ¨åï¼Œ<code>happypack/loader</code> ä¸ <code>HappyPack</code> æ’ä»¶å®ä¾‹å°†é€šè¿‡ <code>id</code> å€¼äº§ç”Ÿå…³è”ï¼Œä»¥æ­¤å®ç°å¯¹ä¸åŒèµ„æºæ‰§è¡Œä¸åŒ Loader åºåˆ—ã€‚</li></ul><p>ä¸Šé¢è¿™ç§å¤šå®ä¾‹æ¨¡å¼è™½ç„¶èƒ½åº”å¯¹å¤šç§ç±»å‹èµ„æºçš„åŠ è½½éœ€æ±‚ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ï¼ŒHappyPack æ’ä»¶å®ä¾‹ <strong>è‡ªè¡Œç®¡ç†</strong> è‡ªèº«æ‰€æ¶ˆè´¹çš„è¿›ç¨‹ï¼Œéœ€è¦å¯¼è‡´é¢‘ç¹åˆ›å»ºã€é”€æ¯è¿›ç¨‹å®ä¾‹ â€”â€” è¿™æ˜¯éå¸¸æ˜‚è´µçš„æ“ä½œï¼Œåè€Œä¼šå¸¦æ¥æ–°çš„æ€§èƒ½æŸè€—ã€‚</p><p>ä¸ºæ­¤ï¼ŒHappyPack æä¾›äº†ä¸€å¥—ç®€å•æ˜“ç”¨çš„å…±äº«è¿›ç¨‹æ± æ¥å£ï¼Œåªéœ€è¦åˆ›å»º <code>HappyPack.ThreadPool</code> å¯¹è±¡ï¼Œå¹¶é€šè¿‡ <code>size</code> å‚æ•°é™å®šè¿›ç¨‹æ€»é‡ï¼Œä¹‹åå°†è¯¥ä¾‹é…ç½®åˆ°å„ä¸ª HappyPack æ’ä»¶çš„ <code>threadPool</code> å±æ€§ä¸Šå³å¯ï¼Œä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HappyPack </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> os </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node:os</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è®¾ç½®è¿›ç¨‹æ± å¤§å°</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> happyThreadPool </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> HappyPack</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ThreadPool</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">size</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cpus</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨ `id` å‚æ•°æ ‡è¯†è¯¥ Loader å¯¹åº”çš„ HappyPack æ’ä»¶ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack/loader?id=js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">less</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happypack/loader?id=styles</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HappyPack</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// æ³¨æ„è¿™é‡Œè¦æ˜ç¡®æä¾› id å±æ€§</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line diff add"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">threadPool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> happyThreadPool</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HappyPack</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">styles</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line diff add"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">threadPool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> happyThreadPool</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">loaders</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">less-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ä½¿ç”¨ <code>HappyPack.ThreadPool</code> æ¥å£åï¼ŒHappyPack ä¼šé¢„å…ˆåˆ›å»ºå¥½ä¸€ç»„å·¥ä½œè¿›ç¨‹ï¼Œæ‰€æœ‰æ’ä»¶å®ä¾‹çš„èµ„æºè½¬è¯‘ä»»åŠ¡ä¼šé€šè¿‡å†…ç½®çš„ <code>HappyThread</code> å¯¹è±¡è½¬å‘åˆ°ç©ºé—²è¿›ç¨‹åšå¤„ç†ï¼Œé¿å…é¢‘ç¹åˆ›å»ºã€é”€æ¯è¿›ç¨‹ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ HappyPack çš„æ‰§è¡Œæµç¨‹ï¼š</p><p><img src="/awesome-node/assets/14-1.12e857e2.webp" alt="HappyPackæµç¨‹"></p><p>æ ¸å¿ƒæ­¥éª¤ï¼š</p><ol><li><code>happypack/loader</code> æ¥å—åˆ°è½¬è¯‘è¯·æ±‚åï¼Œä» Webpack é…ç½®ä¸­è¯»å–å‡ºç›¸åº” HappyPack æ’ä»¶å®ä¾‹ï¼›</li><li>è°ƒç”¨æ’ä»¶å®ä¾‹çš„ <code>compile</code> æ–¹æ³•ï¼Œåˆ›å»º <code>HappyThread</code> å®ä¾‹ï¼ˆæˆ–ä» <code>HappyThreadPool</code> å–å‡ºç©ºé—²å®ä¾‹ï¼‰ï¼›</li><li><code>HappyThread</code> å†…éƒ¨è°ƒç”¨ <code>child_process.fork</code> åˆ›å»ºå­è¿›ç¨‹ï¼Œå¹¶æ‰§è¡Œ<code>HappyWorkerChannel</code> æ–‡ä»¶ï¼›</li><li><code>HappyWorkerChannel</code> åˆ›å»º <code>HappyWorker</code> ï¼Œå¼€å§‹æ‰§è¡Œ Loader è½¬è¯‘é€»è¾‘ï¼›</li></ol><p>ä¸­é—´æµç¨‹è¾—è½¬äº†å‡ å±‚ï¼Œæœ€ç»ˆç”± <code>HappyWorker</code> ç±»é‡æ–°å®ç°äº†ä¸€å¥—ä¸ Webpack Loader ç›¸ä¼¼çš„è½¬è¯‘é€»è¾‘ï¼Œä»£ç å¤æ‚åº¦è¾ƒé«˜ï¼Œå¤§å®¶ç¨ä½œäº†è§£å³å¯ã€‚</p><p>HappyPack è™½ç„¶ç¡®å®èƒ½æœ‰æ•ˆæå‡ Webpack çš„æ‰“åŒ…æ„å»ºé€Ÿåº¦ï¼Œä½†å®ƒæœ‰ä¸€äº›æ˜æ˜¾çš„ç¼ºç‚¹ï¼š</p><ul><li>ä½œè€…å·²ç»æ˜ç¡®è¡¨ç¤ºä¸ä¼šç»§ç»­ç»´æŠ¤ï¼Œæ‰©å±•æ€§ä¸ç¨³å®šæ€§ç¼ºä¹ä¿éšœï¼Œéšç€ Webpack æœ¬èº«çš„å‘å±•è¿­ä»£ï¼Œå¯ä»¥é¢„è§æ€»æœ‰ä¸€å¤© HappyPack æ— æ³•å®Œå…¨å…¼å®¹ WebpackğŸ˜…ï¼›</li><li>HappyPack åº•å±‚ä»¥è‡ªå·±çš„æ–¹å¼é‡æ–°å®ç°äº†åŠ è½½å™¨é€»è¾‘ï¼Œæºç ä¸ä½¿ç”¨æ–¹æ³•éƒ½ä¸å¦‚ Thread-loader æ¸…çˆ½ç®€å•ï¼Œè€Œä¸”ä¼šå¯¼è‡´ä¸€äº›æ„æƒ³ä¸åˆ°çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¦‚ <code>awesome-typescript-loader</code>ï¼›</li><li>HappyPack ä¸»è¦ä½œç”¨äºæ–‡ä»¶åŠ è½½é˜¶æ®µï¼Œå¹¶ä¸ä¼šå½±å“åç»­çš„äº§ç‰©ç”Ÿæˆã€åˆå¹¶ã€ä¼˜åŒ–ç­‰åŠŸèƒ½ï¼Œæ€§èƒ½æ”¶ç›Šæœ‰é™ã€‚</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>å®æµ‹ <code>webapck v5.79.0</code> &amp; <code>happypack v5.0.1</code> ç‰ˆæœ¬æ„å»ºæ—¶ä¼šæŠ¥é”™ï¼Œ<a href="https://github.com/amireh/happypack/issues/275" target="_blank" rel="noreferrer">build error#275</a></p></div><h2 id="thread-loader" tabindex="-1">Thread-loader <a class="header-anchor" href="#thread-loader" aria-label="Permalink to &quot;Thread-loader&quot;">â€‹</a></h2><p><a href="https://webpack.docschina.org/loaders/thread-loader/" target="_blank" rel="noreferrer">Thread-loader</a> ä¸ HappyPack åŠŸèƒ½ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»¥å¤šè¿›ç¨‹æ–¹å¼åŠ è½½æ–‡ä»¶çš„ Webpack ç»„ä»¶ï¼Œä¸¤è€…ä¸»è¦åŒºåˆ«ï¼š</p><ul><li>Thread-loader ç”± Webpack å®˜æ–¹æä¾›ï¼Œç›®å‰è¿˜å¤„äºæŒç»­è¿­ä»£ç»´æŠ¤çŠ¶æ€ï¼Œç†è®ºä¸Šæ›´å¯é ï¼›</li><li>Thread-loader åªæä¾›äº†ä¸€ä¸ª Loader ç»„ä»¶ï¼Œç”¨æ³•ç®€å•å¾ˆå¤šï¼›</li><li>HappyPack å¯åŠ¨åä¼šåˆ›å»ºä¸€å¥— Mock ä¸Šä¸‹æ–‡ç¯å¢ƒ â€”â€” åŒ…å« <code>emitFile</code> ç­‰æ¥å£ï¼Œå¹¶ä¼ é€’ç»™ Loaderï¼Œå› æ­¤å¯¹å¤§å¤šæ•° Loader æ¥è¯´ï¼Œè¿è¡Œåœ¨ HappyPack ä¸è¿è¡Œåœ¨ Webpack åŸç”Ÿç¯å¢ƒç›¸æ¯”æ²¡æœ‰å¤ªå¤§å·®å¼‚ï¼›ä½† Thread-loader å¹¶ä¸å…·å¤‡è¿™ä¸€ç‰¹æ€§ï¼Œæ‰€ä»¥è¦æ±‚ Loader å†…ä¸èƒ½è°ƒç”¨ç‰¹å®šä¸Šä¸‹æ–‡æ¥å£ï¼Œå…¼å®¹æ€§è¾ƒå·®ğŸ˜…ã€‚</li></ul><p>è¯´ä¸€åƒé“ä¸€ä¸‡ï¼Œå…ˆæ¥çœ‹çœ‹åŸºæœ¬ç”¨æ³•ï¼š</p><ol><li><p>å®‰è£…ä¾èµ–ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">thread-loader</span></span></code></pre></div></li><li><p>å°† Thread-loader æ”¾åœ¨ <code>use</code> æ•°ç»„<strong>é¦–ä½</strong>ï¼Œç¡®ä¿æœ€å…ˆè¿è¡Œï¼Œå¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">thread-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li></ol><p>å¯åŠ¨åï¼ŒThread-loader ä¼šåœ¨åŠ è½½æ–‡ä»¶æ—¶åˆ›å»ºæ–°çš„è¿›ç¨‹ï¼Œåœ¨å­è¿›ç¨‹ä¸­ä½¿ç”¨ <code>loader-runner</code> åº“è¿è¡Œ <code>thread-loader</code> ä¹‹åçš„ Loader ç»„ä»¶ï¼Œæ‰§è¡Œå®Œæ¯•åå†å°†ç»“æœå›ä¼ åˆ° Webpack ä¸»è¿›ç¨‹ï¼Œä»è€Œå®ç°æ€§èƒ½æ›´ä½³çš„æ–‡ä»¶åŠ è½½è½¬è¯‘æ•ˆæœã€‚</p><p>ä»¥ Three.js ä¸ºä¾‹ï¼Œä½¿ç”¨ Thread-loader å‰ï¼Œæ„å»ºè€—æ—¶å¤§çº¦ä¸º 11000ms åˆ° 18000ms ä¹‹é—´ï¼Œå¼€å¯åè€—æ—¶é™ä½åˆ° 8000ms å·¦å³ï¼Œæå‡çº¦37%ã€‚</p><p>æ­¤å¤–ï¼ŒThread-loader è¿˜æä¾›äº†ä¸€ç³»åˆ—ç”¨äºæ§åˆ¶å¹¶å‘é€»è¾‘çš„é…ç½®é¡¹ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><code>workers</code>ï¼šå­è¿›ç¨‹æ€»æ•°ï¼Œé»˜è®¤å€¼ä¸º <code>require(&#39;os&#39;).cpus() - 1</code>ï¼›</li><li><code>workerParallelJobs</code>ï¼šå•ä¸ªè¿›ç¨‹ä¸­å¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡æ•°ï¼›</li><li><code>poolTimeout</code>ï¼šå­è¿›ç¨‹å¦‚æœä¸€ç›´ä¿æŒç©ºé—²çŠ¶æ€ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´åä¼šè¢«å…³é—­ï¼›</li><li><code>poolRespawn</code>ï¼šæ˜¯å¦å…è®¸åœ¨å­è¿›ç¨‹å…³é—­åé‡æ–°åˆ›å»ºæ–°çš„å­è¿›ç¨‹ï¼Œä¸€èˆ¬è®¾ç½®ä¸º <code>false</code> å³å¯ï¼›</li><li><code>workerNodeArgs</code>ï¼šç”¨äºè®¾ç½®å¯åŠ¨å­è¿›ç¨‹æ—¶ï¼Œé¢å¤–é™„åŠ çš„å‚æ•°ã€‚</li></ul><p>ä½¿ç”¨æ–¹æ³•è·Ÿå…¶å®ƒ Loader ä¸€æ ·ï¼Œéƒ½æ˜¯é€šè¿‡ <code>use.options</code> å±æ€§ä¼ é€’ï¼Œå¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-Ln311" id="tab-2I2g4qt" checked="checked"><label for="tab-2I2g4qt">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">workers</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">workerParallelJobs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">              </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div></div></div><p>ä¸è¿‡ï¼ŒThread-loader ä¹ŸåŒæ ·é¢ä¸´ç€é¢‘ç¹çš„å­è¿›ç¨‹åˆ›å»ºã€é”€æ¯æ‰€å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œä¸ºæ­¤ï¼ŒThread-loader æä¾›äº† <code>warmup</code> æ¥å£ç”¨äºå‰ç½®åˆ›å»ºè‹¥å¹²å·¥ä½œå­è¿›ç¨‹ï¼Œé™ä½æ„å»ºæ—¶å»¶ï¼Œç”¨æ³•ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> threadLoader </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">threadLoader</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warmup</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¯ä¼ å…¥ä¸Šè¿° thread-loader å‚æ•°</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">workers</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">workerParallelJobs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  [</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å­è¿›ç¨‹ä¸­éœ€è¦é¢„åŠ è½½çš„ node æ¨¡å—</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">babel-preset-es2015</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sass-loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>æ‰§è¡Œæ•ˆæœä¸ <code>HappyPack.ThreadPool</code> ç›¸ä¼¼ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚</p><p>ä¸ HappyPack ç›¸æ¯”ï¼ŒThread-loader æœ‰ä¸¤ä¸ªçªå‡ºçš„ä¼˜ç‚¹ï¼Œä¸€æ˜¯äº§è‡ª Webpack å®˜æ–¹å›¢é˜Ÿï¼Œåç»­æœ‰é•¿æœŸç»´æŠ¤è®¡åˆ’ï¼Œç¨³å®šæ€§æœ‰ä¿éšœï¼›äºŒæ˜¯ç”¨æ³•æ›´ç®€å•ã€‚ä½†å®ƒä¸å¯é¿å…çš„ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p><ul><li>åœ¨ Thread-loader ä¸­è¿è¡Œçš„ Loader ä¸èƒ½è°ƒç”¨ <code>emitAsset</code> ç­‰æ¥å£ï¼Œè¿™ä¼šå¯¼è‡´ <code>style-loader</code> è¿™ä¸€ç±»åŠ è½½å™¨æ— æ³•æ­£å¸¸å·¥ä½œï¼Œè§£å†³æ–¹æ¡ˆæ˜¯å°†è¿™ç±»ç»„ä»¶æ”¾ç½®åœ¨ <code>thread-loader</code> ä¹‹å‰ï¼Œå¦‚ <code>[&#39;style-loader&#39;, &#39;thread-loader&#39;, &#39;css-loader&#39;]</code>ï¼›</li><li>Loader ä¸­ä¸èƒ½è·å– <code>compilation</code>ã€<code>compiler</code> ç­‰å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿæ— æ³•è·å– Webpack é…ç½®ã€‚</li></ul><p>è¿™ä¼šå¯¼è‡´ä¸€äº› Loader æ— æ³•ä¸ Thread-loader å…±åŒä½¿ç”¨ï¼Œå¤§å®¶éœ€è¦ä»”ç»†åŠ ä»¥ç”„åˆ«ã€æµ‹è¯•ã€‚</p><h2 id="parallel-webpack" tabindex="-1">Parallel-Webpack <a class="header-anchor" href="#parallel-webpack" aria-label="Permalink to &quot;Parallel-Webpack&quot;">â€‹</a></h2><p>Thread-loaderã€HappyPack è¿™ç±»ç»„ä»¶æ‰€æä¾›çš„å¹¶è¡Œèƒ½åŠ›éƒ½ä»…ä½œç”¨äºæ–‡ä»¶åŠ è½½è¿‡ç¨‹ï¼Œå¯¹åç»­ AST è§£æã€ä¾èµ–æ”¶é›†ã€æ‰“åŒ…ã€ä¼˜åŒ–ä»£ç ç­‰è¿‡ç¨‹å‡æ²¡æœ‰å½±å“ï¼Œç†è®ºæ”¶ç›Šè¿˜æ˜¯æ¯”è¾ƒæœ‰é™çš„ã€‚å¯¹æ­¤ï¼Œç¤¾åŒºè¿˜æä¾›äº†å¦ä¸€ç§å¹¶è¡Œåº¦æ›´é«˜ï¼Œä»¥å¤šä¸ªç‹¬ç«‹è¿›ç¨‹è¿è¡Œ Webpack å®ä¾‹çš„æ–¹æ¡ˆ â€”â€” <a href="https://github.com/trivago/parallel-webpack" target="_blank" rel="noreferrer">Parallel-Webpack</a>ï¼ŒåŸºæœ¬ç”¨æ³•ï¼š</p><ol><li><p>å®‰è£…ä¾èµ–ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">parallel-webpack</span></span></code></pre></div></li><li><p>åœ¨ <code>webpack.config.js</code> é…ç½®æ–‡ä»¶ä¸­å¯¼å‡ºå¤šä¸ª Webpack é…ç½®å¯¹è±¡ï¼Œå¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pageA.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pageA.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pageB.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pageB.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">]</span></span></code></pre></div></li><li><p>æ‰§è¡Œ <code>npx parallel-webpack</code> å‘½ä»¤</p></li></ol><p>Parallel-Webpack ä¼šä¸ºé…ç½®æ–‡ä»¶ä¸­å¯¼å‡ºçš„æ¯ä¸ª Webpack é…ç½®å¯¹è±¡å¯åŠ¨ä¸€ä¸ªç‹¬ç«‹çš„æ„å»ºè¿›ç¨‹ï¼Œä»è€Œå®ç°å¹¶è¡Œç¼–è¯‘çš„æ•ˆæœã€‚åº•å±‚åŸç†å¾ˆç®€å•ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯åœ¨ Webpack ä¸Šå¥—äº†ä¸ªå£³ï¼š</p><ul><li>æ ¹æ®ä¼ å…¥çš„é…ç½®é¡¹æ•°é‡ï¼Œè°ƒç”¨ <code>worker-farm</code> åˆ›å»ºå¤æ•°ä¸ªå·¥ä½œè¿›ç¨‹ï¼›</li><li>å·¥ä½œè¿›ç¨‹å†…è°ƒç”¨ Webpack æ‰§è¡Œæ„å»ºï¼›</li><li>å·¥ä½œè¿›ç¨‹æ‰§è¡Œå®Œæ¯•åï¼Œè°ƒç”¨ <code>node-ipc</code> å‘ä¸»è¿›ç¨‹å‘é€ç»“æŸä¿¡å·ã€‚</li></ul><p>è¿™ç§æ–¹å¼åœ¨éœ€è¦åŒæ—¶æ‰§è¡Œå¤šä»½é…ç½®çš„ç¼–è¯‘æ—¶ç‰¹åˆ«æœ‰æ•ˆï¼Œä½†è‹¥é…ç½®æ–‡ä»¶æœ¬èº«åªæ˜¯å¯¼å‡ºäº†å•ä¸ªé…ç½®å¯¹è±¡åˆ™æ„ä¹‰ä¸å¤§ã€‚</p><p>ä¸ºäº†æ›´å¥½åœ°æ”¯æŒå¤šç§é…ç½®çš„ç¼–è¯‘ï¼ŒParallel-Webpack è¿˜æä¾›äº† <code>createVariants</code> å‡½æ•°ï¼Œç”¨äºæ ¹æ®ç»™å®šå˜é‡ç»„åˆï¼Œç”Ÿæˆå¤šä»½ Webpack é…ç½®å¯¹è±¡ï¼Œå¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> createVariants </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">parallel-webpack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">createVariants</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> webpack </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> baseOptions </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./index.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// é…ç½®å˜é‡ç»„åˆ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å±æ€§åä¸º webpack é…ç½®å±æ€§ï¼›å±æ€§å€¼ä¸ºå¯é€‰çš„å˜é‡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¸‹è¿°å˜é‡ç»„åˆå°†æœ€ç»ˆäº§ç”Ÿ 2*2*4 = 16 ç§å½¢æ€çš„é…ç½®å¯¹è±¡</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> variants </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">minified</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">debug</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">commonjs2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">var</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">umd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">amd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createConfig</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">options</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">plugins</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">webpack</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">DefinePlugin</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      DEBUG</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">debug</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  ]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    output</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      path</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      filename</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyLib.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span></span>
<span class="line"><span style="color:#F07178;">                (</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">minified</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.min</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span></span>
<span class="line"><span style="color:#F07178;">                (</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">debug</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.debug</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    plugins</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">plugins</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createVariants</span><span style="color:#A6ACCD;">(baseOptions</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> variants</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> createConfig)</span></span></code></pre></div><p>ä¸Šè¿°ç¤ºä¾‹ä½¿ç”¨ <code>createVariants</code> å‡½æ•°ï¼Œæ ¹æ® <code>variants</code> å˜é‡æ­é…å‡º 16 ç§ä¸åŒçš„ <code>minified</code>ã€<code>debug</code>ã€<code>target</code> ç»„åˆï¼Œæœ€ç»ˆç”Ÿæˆå¦‚ä¸‹äº§ç‰©ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Building </span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;"> targets </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> parallel</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.umd.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.umd.min.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.umd.debug.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.umd.min.debug.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.amd.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.amd.min.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.amd.debug.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.amd.min.debug.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.commonjs2.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.commonjs2.min.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.commonjs2.debug.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.commonjs2.min.debug.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.var.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.var.min.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.var.debug.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">WEBPACK</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Started building MyLib.var.min.debug.js</span></span></code></pre></div><p>è™½ç„¶ï¼Œparallel-webpack ç›¸å¯¹äº Thread-loaderã€HappyPack æœ‰æ›´é«˜çš„å¹¶è¡Œåº¦ï¼Œä½†è¿›ç¨‹å®ä¾‹ä¹‹é—´å¹¶æ²¡æœ‰åšä»»ä½•å½¢å¼çš„é€šè®¯ï¼Œè¿™å¯èƒ½å¯¼è‡´ç›¸åŒçš„å·¥ä½œåœ¨ä¸åŒè¿›ç¨‹ â€”â€” æˆ–è€…è¯´ä¸åŒ CPU æ ¸ä¸Šè¢«é‡å¤æ‰§è¡Œã€‚</p><p>ä¾‹å¦‚éœ€è¦å¯¹åŒä¸€ä»½ä»£ç åŒæ—¶æ‰“åŒ…å‡ºå‹ç¼©å’Œéå‹ç¼©ç‰ˆæœ¬æ—¶ï¼Œåœ¨ parallel-webpack æ–¹æ¡ˆä¸‹ï¼Œå‰ç½®çš„èµ„æºåŠ è½½ã€ä¾èµ–è§£æã€AST åˆ†æç­‰æ“ä½œä¼šè¢«é‡å¤æ‰§è¡Œï¼Œä»…ä»…æœ€ç»ˆé˜¶æ®µç”Ÿæˆä»£ç æ—¶æœ‰æ‰€å·®å¼‚ã€‚</p><p>è¿™ç§æŠ€æœ¯å®ç°ï¼Œå¯¹å• entry çš„é¡¹ç›®æ²¡æœ‰ä»»ä½•æ”¶ç›Šï¼Œåªä¼šå¾’å¢è¿›ç¨‹åˆ›å»ºæˆæœ¬ï¼›<strong>ä½†ç‰¹åˆ«é€‚åˆ MPA ç­‰å¤š entry åœºæ™¯ï¼Œæˆ–è€…éœ€è¦åŒæ—¶ç¼–è¯‘å‡º esmã€umdã€amd ç­‰å¤šç§äº§ç‰©å½¢æ€çš„ç±»åº“åœºæ™¯ğŸ‰ã€‚</strong></p><h2 id="å¹¶è¡Œå‹ç¼©" tabindex="-1">å¹¶è¡Œå‹ç¼© <a class="header-anchor" href="#å¹¶è¡Œå‹ç¼©" aria-label="Permalink to &quot;å¹¶è¡Œå‹ç¼©&quot;">â€‹</a></h2><p>Webpack4 é»˜è®¤ä½¿ç”¨ <a href="https://www.npmjs.com/package/uglifyjs-webpack-plugin" target="_blank" rel="noreferrer">Uglify-js</a> å®ç°ä»£ç å‹ç¼©ï¼ŒWebpack5 ä¹‹ååˆ™å‡çº§ä¸º <a href="https://webpack.js.org/plugins/terser-webpack-plugin/" target="_blank" rel="noreferrer">Terser</a> â€”â€” ä¸€ç§<a href="https://blog.logrocket.com/terser-vs-uglify-vs-babel-minify-comparing-javascript-minifiers/" target="_blank" rel="noreferrer">æ€§èƒ½</a>ä¸å…¼å®¹æ€§æ›´å¥½çš„ JavaScript ä»£ç å‹ç¼©æ··æ·†å·¥å…·ï¼Œä¸¤ç§ç»„ä»¶éƒ½åŸç”Ÿå®ç°äº†å¤šè¿›ç¨‹å¹¶è¡Œå‹ç¼©èƒ½åŠ›ã€‚</p><p>ä»¥ Terser ä¸ºä¾‹ï¼ŒTerserWebpackPlugin æ’ä»¶é»˜è®¤å·²å¼€å¯å¹¶è¡Œå‹ç¼©ï¼Œå¼€å‘è€…ä¹Ÿå¯ä»¥é€šè¿‡ <code>parallel</code> å‚æ•°ï¼ˆé»˜è®¤å€¼ä¸º <code>require(&#39;os&#39;).cpus() - 1</code>ï¼‰è®¾ç½®å…·ä½“çš„å¹¶å‘è¿›ç¨‹æ•°é‡ï¼Œå¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> TerserPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">terser-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">minimize</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">minimizer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TerserPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">parallel</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// number | boolean</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ä¸Šè¿°é…ç½®å³å¯è®¾å®šæœ€å¤§å¹¶è¡Œè¿›ç¨‹æ•°ä¸º 2ã€‚æ­¤å¤–ï¼ŒWebpack4 æ‰€ä½¿ç”¨çš„ <code>uglifyjs-webpack-plugin</code> ä¹Ÿæä¾›äº†ç±»ä¼¼çš„åŠŸèƒ½ï¼Œç”¨æ³•ä¸ Terser ç›¸åŒï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚</p><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p>å—é™äº JavaScript çš„å•çº¿ç¨‹æ¶æ„ï¼ŒWebpack æ„å»ºæ—¶å¹¶ä¸èƒ½å……åˆ†ä½¿ç”¨ç°ä»£è®¡ç®—æœºçš„å¤šæ ¸ CPU èƒ½åŠ›ï¼Œä¸ºæ­¤ç¤¾åŒºæä¾›äº†è‹¥å¹²åŸºäºå¤šè¿›ç¨‹å®ç°çš„å¹¶è¡Œæ„å»ºç»„ä»¶ï¼ŒåŒ…æ‹¬æ–‡ä¸­ä»‹ç»çš„ HappyPackã€Thread-loaderã€Parallel-Webpackã€Terserã€‚</p><ul><li>å¯¹äº Webpack4 ä¹‹å‰çš„é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ HappyPack å®ç°å¹¶è¡Œæ–‡ä»¶åŠ è½½ï¼›</li><li>Webpack4 ä¹‹ååˆ™å»ºè®®ä½¿ç”¨ Thread-loaderï¼›</li><li>å¤šå®ä¾‹å¹¶è¡Œæ„å»ºåœºæ™¯å»ºè®®ä½¿ç”¨ Parallel-Webpack å®ç°å¹¶è¡Œï¼›</li><li>ç”Ÿäº§ç¯å¢ƒä¸‹è¿˜å¯é…åˆ <code>terser-webpack-plugin</code> çš„å¹¶è¡Œå‹ç¼©åŠŸèƒ½ï¼Œæå‡æ•´ä½“æ•ˆç‡ã€‚</li></ul><p>ç†è®ºä¸Šï¼Œå¹¶è¡Œç¡®å®èƒ½å¤Ÿæå‡ç³»ç»Ÿè¿è¡Œæ•ˆç‡ï¼Œä½† Node å•çº¿ç¨‹æ¶æ„ä¸‹ï¼Œæ‰€è°“çš„å¹¶è¡Œè®¡ç®—éƒ½åªèƒ½ä¾æ‰˜ä¸æ´¾ç”Ÿå­è¿›ç¨‹æ‰§è¡Œï¼Œè€Œåˆ›å»ºè¿›ç¨‹è¿™ä¸ªåŠ¨ä½œæœ¬èº«å°±æœ‰ä¸å°çš„æ¶ˆè€— â€”â€” å¤§çº¦ 600msï¼Œå¯¹äºå°å‹é¡¹ç›®ï¼Œæ„å»ºæˆæœ¬å¯èƒ½å¯èƒ½å¾ˆä½ï¼Œå¼•å…¥å¤šè¿›ç¨‹æŠ€æœ¯åè€Œå¯¼è‡´æ•´ä½“æˆæœ¬å¢åŠ ï¼Œå› æ­¤å»ºè®®å¤§å®¶æŒ‰å®é™…éœ€æ±‚æ–Ÿé…Œä½¿ç”¨ä¸Šè¿°å¤šè¿›ç¨‹æ–¹æ¡ˆã€‚</p><h2 id="æ€è€ƒé¢˜" tabindex="-1">æ€è€ƒé¢˜ <a class="header-anchor" href="#æ€è€ƒé¢˜" aria-label="Permalink to &quot;æ€è€ƒé¢˜&quot;">â€‹</a></h2><p>æœ‰æ²¡æœ‰å¯èƒ½ä½¿ç”¨ Node <a href="https://nodejs.org/api/worker_threads.html" target="_blank" rel="noreferrer">Worker</a> å®ç°å¤šçº¿ç¨‹å½¢å¼çš„ Webpack å¹¶è¡Œæ„å»ºï¼Ÿç¤¾åŒºæ˜¯å¦å·²ç»æœ‰ç›¸å…³ç»„ä»¶ï¼Ÿä¸å¤šè¿›ç¨‹ç›¸æ¯”ï¼Œå¯èƒ½å­˜åœ¨æ€ä¹ˆæ ·çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</p><details class="details custom-block"><summary>chatgptå›ç­”</summary><p>1ï¸âƒ£ <strong>æœ‰æ²¡æœ‰å¯èƒ½ä½¿ç”¨ Node Workerå®ç°å¤šçº¿ç¨‹å½¢å¼çš„ Webpack å¹¶è¡Œæ„å»ºï¼Ÿ</strong></p><p>æ˜¯çš„ï¼Œå¯ä»¥ä½¿ç”¨ Node.js çš„ Worker Threads æ¨¡å—æ¥å®ç°å¤šçº¿ç¨‹å½¢å¼çš„ Webpack å¹¶è¡Œæ„å»ºã€‚Worker Threads å¯ä»¥åˆ›å»ºå¤šä¸ª Node.js å­çº¿ç¨‹ï¼Œå¹¶åœ¨è¿™äº›å­çº¿ç¨‹ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œä»è€Œæé«˜ç¨‹åºçš„æ€§èƒ½ã€‚</p><p>å…·ä½“åœ°ï¼Œå¯ä»¥å°† Webpack æ„å»ºè¿‡ç¨‹æ‹†åˆ†æˆå¤šä¸ªå­ä»»åŠ¡ï¼Œç„¶åå°†æ¯ä¸ªå­ä»»åŠ¡æ”¾åˆ°ä¸åŒçš„å­çº¿ç¨‹ä¸­è¿›è¡Œå¤„ç†ã€‚æ¯ä¸ªå­çº¿ç¨‹å¯ä»¥ç‹¬ç«‹åœ°è¿›è¡Œæ¨¡å—çš„è§£æã€åŠ è½½å’Œè½¬æ¢ç­‰æ“ä½œï¼Œæœ€åå†å°†ç»“æœåˆå¹¶èµ·æ¥ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Worker Threads å®ç°å¤šçº¿ç¨‹å½¢å¼çš„ Webpack å¹¶è¡Œæ„å»ºï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> Worker</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> isMainThread</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parentPort </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">worker_threads</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> webpack </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å®šä¹‰ Webpack é…ç½®</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bundle.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> __dirname </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/dist</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (isMainThread) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ä¸»çº¿ç¨‹è´Ÿè´£å¯åŠ¨å­çº¿ç¨‹</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">worker</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Worker</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__filename</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">worker</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">message</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">result</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å­çº¿ç¨‹è´Ÿè´£æ‰§è¡Œ Webpack æ„å»º</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">webpack</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">stats</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stats</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hasErrors</span><span style="color:#F07178;">()) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">parentPort</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">postMessage</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> error</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stats</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toJson</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">errors</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">parentPort</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">postMessage</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> result</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Build completed successfully!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ Worker Threads æ„å»º Webpack æ˜¯ä¸€ç§æ¯”è¾ƒåº•å±‚çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œéœ€è¦è€ƒè™‘åˆ°çº¿ç¨‹å®‰å…¨ã€è¿›ç¨‹é—´é€šä¿¡ç­‰é—®é¢˜ã€‚åŒæ—¶ï¼Œä¹Ÿéœ€è¦æ ¹æ®å…·ä½“é¡¹ç›®çš„éœ€æ±‚å’Œç¡¬ä»¶ç¯å¢ƒï¼Œæƒè¡¡ä½¿ç”¨å¤šçº¿ç¨‹å¸¦æ¥çš„æ€§èƒ½æå‡å’Œä»£ç å¤æ‚åº¦å¢åŠ çš„é£é™©ã€‚</p><p>2ï¸âƒ£ <strong>ç¤¾åŒºæ˜¯å¦å·²ç»æœ‰ç›¸å…³ç»„ä»¶ï¼Ÿ</strong></p><p>æ˜¯çš„ï¼Œç¤¾åŒºå·²ç»æœ‰ä¸€äº›ç›¸å…³çš„ç»„ä»¶å¯ä»¥å®ç° Webpack çš„å¤šçº¿ç¨‹æ„å»ºã€‚ä»¥ä¸‹æ˜¯å…¶ä¸­æ¯”è¾ƒå¸¸è§çš„å‡ ç§ç»„ä»¶ï¼š</p><ol><li>thread-loader</li></ol><p>thread-loader æ˜¯ä¸€ä¸ª Webpack Loaderï¼Œå®ƒå¯ä»¥å°†å…¶ä»– Loader æ‰§è¡Œè¿‡ç¨‹æ”¾åˆ° Worker çº¿ç¨‹ä¸­è¿›è¡Œï¼Œä»è€Œæé«˜æ„å»ºé€Ÿåº¦ã€‚ä½¿ç”¨ thread-loader åªéœ€è¦åœ¨åŸæœ‰ Loader çš„åŸºç¡€ä¸ŠåŠ ä¸Š thread-loader å³å¯ã€‚</p><ol start="2"><li>parallel-webpack</li></ol><p>parallel-webpack å¯ä»¥è®© Webpack æ”¯æŒå¤šè¿›ç¨‹å¹¶è¡Œæ„å»ºï¼Œä»è€Œæé«˜æ„å»ºé€Ÿåº¦ã€‚parallel-webpack ä½¿ç”¨ Node.js çš„ Child Process API æ¥åˆ›å»ºå­è¿›ç¨‹ï¼Œå¹¶åˆ©ç”¨ IPC å®ç°è¿›ç¨‹é—´é€šä¿¡ã€‚</p><ol start="3"><li>happypack</li></ol><p>happypack æ˜¯ä¸€ä¸ª Webpack Pluginï¼Œå®ƒå¯ä»¥å°†å¤šä¸ª Loader çš„æ‰§è¡Œè¿‡ç¨‹æ”¾åˆ° Worker çº¿ç¨‹ä¸­è¿›è¡Œï¼Œä»è€Œæé«˜æ„å»ºé€Ÿåº¦ã€‚happypack çš„åŸç†ä¸ thread-loader ç±»ä¼¼ï¼Œä½†æ˜¯ happypack å¯ä»¥æ”¯æŒæ›´å¤æ‚çš„ Loader é“¾ã€‚</p><ol start="4"><li>webpack-parallel-uglify-plugin</li></ol><p>webpack-parallel-uglify-plugin æ˜¯ä¸€ä¸ªå‹ç¼© JavaScript ä»£ç çš„ Webpack Pluginï¼Œå®ƒå¯ä»¥ä½¿ç”¨å¤šè¿›ç¨‹å¹¶è¡Œæ–¹å¼å‹ç¼©æ–‡ä»¶ï¼Œä»è€Œæé«˜å‹ç¼©é€Ÿåº¦ã€‚</p><p>ä»¥ä¸Šç»„ä»¶éƒ½å¯ä»¥æœ‰æ•ˆåœ°æé«˜ Webpack çš„æ„å»ºé€Ÿåº¦ï¼Œå…·ä½“é€‰æ‹©å“ªä¸ªç»„ä»¶å–å†³äºé¡¹ç›®çš„éœ€æ±‚å’Œå¼€å‘è€…çš„ä¸ªäººå–œå¥½ã€‚</p><p>3ï¸âƒ£ <strong>ä¸å¤šè¿›ç¨‹ç›¸æ¯”ï¼Œå¯èƒ½å­˜åœ¨æ€ä¹ˆæ ·çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</strong></p><p>ä½¿ç”¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹æ¥å®ç° Webpack çš„å¹¶è¡Œæ„å»ºï¼Œéƒ½æœ‰å…¶ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„ä¼˜ç¼ºç‚¹ï¼š</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ol><li>æé«˜æ„å»ºé€Ÿåº¦ï¼šå¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œä»è€Œæé«˜æ„å»ºé€Ÿåº¦ã€‚</li><li>å……åˆ†åˆ©ç”¨ CPU èµ„æºï¼šå¯¹äºè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œå¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹å¯ä»¥å……åˆ†åˆ©ç”¨ CPU èµ„æºï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</li><li>æ‰©å±•æ€§å¥½ï¼šå¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹çš„æ–¹æ¡ˆå…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§ï¼Œå¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚å¢åŠ æˆ–å‡å°‘è¿›ç¨‹æ•°ç›®ï¼Œä»è€Œé€‚åº”ä¸åŒçš„ç¡¬ä»¶ç¯å¢ƒå’Œå·¥ä½œè´Ÿè½½ã€‚</li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ol><li>å¢åŠ å¤æ‚åº¦ï¼šä½¿ç”¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹ä¼šå¢åŠ ä»£ç çš„å¤æ‚åº¦ï¼Œéœ€è¦è€ƒè™‘åˆ°çº¿ç¨‹å®‰å…¨ã€è¿›ç¨‹é—´é€šä¿¡ç­‰é—®é¢˜ã€‚</li><li>éœ€è¦é¢å¤–é…ç½®ï¼šç”±äºå¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹éœ€è¦ä¸ Webpack è‰¯å¥½åœ°é›†æˆï¼Œå› æ­¤éœ€è¦è¿›è¡Œé¢å¤–çš„é…ç½®ï¼Œå¯èƒ½ä¼šå¢åŠ å¼€å‘éš¾åº¦ã€‚</li><li>å¯èƒ½å¯¼è‡´å†…å­˜æ¶ˆè€—è¿‡å¤§ï¼šå½“è¿›ç¨‹æ•°é‡è¿‡å¤šæ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ¶ˆè€—è¿‡å¤§ï¼Œä»è€Œå½±å“ç³»ç»Ÿç¨³å®šæ€§å’Œæ€§èƒ½ã€‚</li></ol><p>æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹æ¥å®ç° Webpack çš„å¹¶è¡Œæ„å»ºæ˜¯ä¸€ç§æœ‰æ•ˆçš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ„å»ºé€Ÿåº¦å’Œæ€§èƒ½ã€‚ä½†æ˜¯éœ€è¦æƒè¡¡å…¶ä¼˜ç¼ºç‚¹ï¼Œæ ¹æ®å…·ä½“é¡¹ç›®çš„éœ€æ±‚å’Œç¡¬ä»¶ç¯å¢ƒé€‰æ‹©æœ€é€‚åˆçš„ä¼˜åŒ–æ–¹æ¡ˆã€‚</p></details><p>2023å¹´04æœˆ18æ—¥11:47:16</p></div></div></main><footer class="VPDocFooter" data-v-9f12d96c data-v-cf20ad54><!--[--><!--]--><div class="edit-info" data-v-cf20ad54><div class="edit-link" data-v-cf20ad54><a class="VPLink link edit-link-button" href="https://github.com/jamessawyer/awesome-node/edit/main/docs/book/webpack/14.md" target="_blank" rel="noreferrer" data-v-cf20ad54 data-v-fb754a61><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-cf20ad54><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> åœ¨GitHubç¼–è¾‘æ­¤é¡µ<!--]--><!----></a></div><div class="last-updated" data-v-cf20ad54><p class="VPLastUpdated" data-v-cf20ad54 data-v-080fba91>Last updated: <time datetime="2023-04-18T06:00:25.000Z" data-v-080fba91></time></p></div></div><div class="prev-next" data-v-cf20ad54><div class="pager" data-v-cf20ad54><a class="pager-link prev" href="/awesome-node/book/webpack/13.html" data-v-cf20ad54><span class="desc" data-v-cf20ad54>Previous page</span><span class="title" data-v-cf20ad54>13.å¦‚ä½•ä½¿ç”¨webpackç¼“å­˜æå‡æ€§èƒ½âš¡</span></a></div><div class="has-prev pager" data-v-cf20ad54><a class="pager-link next" href="/awesome-node/book/webpack/15.html" data-v-cf20ad54><span class="desc" data-v-cf20ad54>Next page</span><span class="title" data-v-cf20ad54>15.å¼€å‘æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blog_first.md\":\"2bf8b515\",\"blog_misc_ts-and-express.md\":\"67ee2855\",\"blog_dive_index.md\":\"3610968b\",\"blog_misc_module.md\":\"f210edd8\",\"blog_resource_advanced.md\":\"54f011d6\",\"book_babel_2.md\":\"0dd1c31f\",\"book_babel_1.md\":\"54fe3bc1\",\"book_babel_3.md\":\"f7855ca9\",\"book_patterns_callback-and-events.md\":\"d783ca07\",\"book_patterns_module-system_esm-cjs-interoperability.md\":\"f5654871\",\"book_patterns_module-system_index.md\":\"d7eb2879\",\"book_babel_6.md\":\"ff3a43cf\",\"book_patterns_module-system_the-module-system-and-its-patterns.md\":\"593e3fb4\",\"book_patterns_module-system_the-need-for-modules.md\":\"3c8e134d\",\"book_webpack_1.md\":\"9be538ad\",\"book_webpack_10.md\":\"ba4b1713\",\"book_webpack_13.md\":\"cdf62c37\",\"book_vite_1.md\":\"786af77e\",\"book_patterns_module-system_module-define-patterns.md\":\"4cbdd628\",\"book_patterns_module-system_esm.md\":\"4d9b490c\",\"blog_resource_basic.md\":\"d8bb9527\",\"book_patterns_the-module-system.md\":\"93cfffe0\",\"book_vite_11.md\":\"957f8abf\",\"book_vite_15.md\":\"e01e5c43\",\"book_vite_10.md\":\"93b33dc3\",\"book_patterns_module-system_module-system-in-js-and-node.md\":\"644c19ba\",\"book_webpack_11.md\":\"8937b87f\",\"book_babel_4.md\":\"01b8b70b\",\"book_vite_16.md\":\"7ca2f9de\",\"book_vite_17.md\":\"49c4a8b1\",\"book_patterns_the-node-platform.md\":\"e24fe822\",\"book_vite_4.md\":\"27f0bab0\",\"book_babel_5.md\":\"1a0e60de\",\"blog_translate_fs-in-node.md\":\"d2b032e6\",\"book_vite_2.md\":\"ef488354\",\"book_vite_14.md\":\"20f8170d\",\"book_vite_8.md\":\"8a7c3cfb\",\"book_babel_index.md\":\"b7b873d4\",\"book_vite_19.md\":\"b5da8e28\",\"book_webpack_14.md\":\"37f07a7a\",\"book_patterns_module-system_summary.md\":\"9578bad4\",\"book_vite_7.md\":\"d79537f8\",\"book_webpack_15.md\":\"8102af96\",\"book_webpack_16.md\":\"448126cc\",\"book_webpack_18.md\":\"34ec1534\",\"book_webpack_2.md\":\"1f3d2289\",\"book_webpack_3.md\":\"753a1a26\",\"book_webpack_index.md\":\"60931b25\",\"core_events_index.md\":\"980fd414\",\"core_stream_index.md\":\"ad8f3ddd\",\"core_stream_stream-in-practice.md\":\"84ea3412\",\"blog_translate_file-system-paths.md\":\"e6b99874\",\"framework_express_index.md\":\"8e95e5d3\",\"framework_nestjs_index.md\":\"2384d0ea\",\"core_stream_stream-visualization.md\":\"4f344ace\",\"book_vite_18.md\":\"bfc56df2\",\"lib_fs-extra_copy.md\":\"f9a00ce4\",\"lib_fs-extra_emptydir.md\":\"128f78eb\",\"book_vite_3.md\":\"e8fc3e46\",\"lib_fs-extra_ensuredir.md\":\"6225738b\",\"lib_fs-extra_ensurefile.md\":\"40bf6099\",\"lib_fs-extra_ensuresymlink.md\":\"394b7c24\",\"lib_fs-extra_ensurelink.md\":\"e8099603\",\"lib_fs-extra_fs-write-read-writev.md\":\"99b5a0de\",\"lib_fs-extra_index.md\":\"3509223a\",\"manager_vite.md\":\"f0005d4c\",\"manager_webpack.md\":\"8bbac9d0\",\"v18doc_file-system.md\":\"6ab733e1\",\"v18doc_path.md\":\"e7145255\",\"index.md\":\"399afa2e\",\"blog_translate_web-streams-on-node.md\":\"c687686f\",\"book_vite_9.md\":\"0a82feee\",\"book_vite_12.md\":\"7585f5cd\",\"lib_fs-extra_remove.md\":\"f19caaa7\",\"lib_fs-extra_writejson.md\":\"6649db7c\",\"manager_babel.md\":\"08682559\",\"manager_basic.md\":\"22168d57\",\"lib_fs-extra_outputjson.md\":\"28eeb304\",\"lib_fs-extra_pathexists.md\":\"6ab4d78d\",\"lib_fs-extra_readjson.md\":\"9102322e\",\"book_patterns_module-system_commonjs-modules.md\":\"b1b4e556\",\"lib_fs-extra_move.md\":\"31a7d29a\",\"lib_fs-extra_outputfile.md\":\"8727d74b\",\"manager_recipe.md\":\"7ad1af70\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Awesome Node\",\"description\":\"Node + Vite + Webpack + Babel\",\"base\":\"/awesome-node/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"outlineTitle\":\"ç›®å½•\",\"outline\":[2,3],\"editLink\":{\"text\":\"åœ¨GitHubç¼–è¾‘æ­¤é¡µ\",\"pattern\":\"https://github.com/jamessawyer/awesome-node/edit/main/docs/:path\"},\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"ğŸ“„Nodeæ–‡æ¡£\",\"activeMatch\":\"^/v18doc/\",\"link\":\"/v18doc/File-System\"},{\"text\":\"ğŸ“¦å·¥ç¨‹åŒ–\",\"link\":\"/manager/basic\"},{\"text\":\"ğŸ’«æ ¸å¿ƒæ¦‚å¿µ\",\"link\":\"/core/stream/index\"},{\"text\":\"ğŸ¤”blog\",\"link\":\"/blog/first\"},{\"text\":\"ğŸ“šä¹¦ç±\",\"items\":[{\"text\":\"Node Design Patterns\",\"link\":\"/book/patterns/the-node-platform\"},{\"text\":\"æ·±å…¥ç†è§£Vite\",\"link\":\"/book/vite/2\"},{\"text\":\"Webpack5æ ¸å¿ƒåŸç†\",\"link\":\"/book/webpack/1\"},{\"text\":\"Babelæ’ä»¶ç§˜ç±\",\"link\":\"/book/babel/2\"}]},{\"text\":\"ğŸ§‘â€ğŸš€æ¡†æ¶\",\"items\":[{\"text\":\"NestJS\",\"link\":\"/framework/nestjs/index\"},{\"text\":\"Express\",\"link\":\"/framework/express/index\"}]},{\"text\":\"ğŸ”¥å¸¸ç”¨åº“\",\"items\":[{\"text\":\"fs-extra\",\"link\":\"/lib/fs-extra/index\"}]}],\"sidebar\":{\"/v18doc/\":[{\"text\":\"Node v18.x ä¸­æ–‡æ–‡æ¡£\",\"items\":[{\"text\":\"File System\",\"link\":\"/v18doc/File-System\"},{\"text\":\"Path\",\"link\":\"/v18doc/Path\"}]}],\"/manager/\":[{\"text\":\"åŸºç¡€çŸ¥è¯†\",\"items\":[{\"text\":\"package.json\",\"link\":\"/manager/basic\"},{\"text\":\"Viteå­¦ä¹ \",\"link\":\"/manager/vite\"},{\"text\":\"Webpackå­¦ä¹ \",\"link\":\"/manager/webpack\"},{\"text\":\"babelç”Ÿæ€\",\"link\":\"/manager/babel\"}]},{\"text\":\"Recipe\",\"items\":[{\"text\":\"Nodeèµ„æº\",\"link\":\"/manager/recipe\"}]}],\"/core/\":[{\"text\":\"EventEmitter\",\"collapsible\":true,\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/core/events/index\"}]},{\"text\":\"Streams\",\"collapsible\":true,\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/core/stream/index\"},{\"text\":\"âš¡Streamå›¾è§£\",\"link\":\"/core/stream/stream-visualization\"},{\"text\":\"âš¡Streamå®æˆ˜\",\"link\":\"/core/stream/stream-in-practice\"}]}],\"/blog/\":[{\"text\":\"èµ„æº\",\"items\":[{\"text\":\"Advanced\",\"link\":\"/blog/resource/advanced\"}]},{\"text\":\"ğŸš€ å¥½æ–‡ç¿»è¯‘\",\"collapsible\":true,\"items\":[{\"text\":\"Path & URLçš„ç”¨æ³•\",\"link\":\"/blog/translate/file-system-paths\"},{\"text\":\"FS in Node\",\"link\":\"/blog/translate/fs-in-node\"},{\"text\":\"Web Streams on Node\",\"link\":\"/blog/translate/web-streams-on-node\"}]},{\"text\":\"MISC\",\"collapsible\":true,\"items\":[{\"text\":\"ESM & CJSæ¨¡å—\",\"link\":\"/blog/misc/module\"},{\"text\":\"Express + typescriptè®¾ç½®\",\"link\":\"/blog/misc/ts-and-express\"}]}],\"/book/patterns\":[{\"text\":\"Nodeè®¾è®¡æ¨¡å¼\",\"items\":[{\"text\":\"the node platform\",\"link\":\"/book/patterns/the-node-platform\"},{\"text\":\"callback and events\",\"link\":\"/book/patterns/callback-and-events\"}]},{\"text\":\"â…¡.æ¨¡å—ç³»ç»Ÿ\",\"collapsible\":true,\"items\":[{\"text\":\"ä»‹ç»\",\"link\":\"/book/patterns/module-system/index\"},{\"text\":\"æ¨¡å—ç³»ç»Ÿçš„å¿…è¦æ€§\",\"link\":\"/book/patterns/module-system/the-need-for-modules\"},{\"text\":\"JSå’ŒNodeä¸­çš„æ¨¡å—ç³»ç»Ÿ\",\"link\":\"/book/patterns/module-system/module-system-in-js-and-node\"},{\"text\":\"æ¨¡å—ç³»ç»Ÿå’Œå…¶æ¨¡å¼\",\"link\":\"/book/patterns/module-system/the-module-system-and-its-patterns\"},{\"text\":\"âš¡CommonJSæ¨¡å—\",\"link\":\"/book/patterns/module-system/commonjs-modules\"},{\"text\":\"ğŸ™†â€â™€ï¸CommonJSæ¨¡å—å¸¸ç”¨æ¨¡å¼å®šä¹‰\",\"link\":\"/book/patterns/module-system/module-define-patterns\"},{\"text\":\"ğŸš€ESM\",\"link\":\"/book/patterns/module-system/esm\"},{\"text\":\"ğŸš€ESMå’ŒCJSå·®å¼‚å’Œäº’æ“æ€§\",\"link\":\"/book/patterns/module-system/esm-cjs-interoperability\"},{\"text\":\"æ€»ç»“\",\"link\":\"/book/patterns/module-system/summary\"}]}],\"/book/vite\":[{\"text\":\"ğŸ”§æ·±å…¥ç†è§£Vite\",\"items\":[{\"text\":\"1.Viteå¼€ç¯‡\",\"link\":\"/book/vite/1\"},{\"text\":\"2.æ¨¡å—æ ‡å‡†\",\"link\":\"/book/vite/2\"},{\"text\":\"3.å¿«é€Ÿä¸Šæ‰‹Vite\",\"link\":\"/book/vite/3\"},{\"text\":\"4.æ ·å¼æ–¹æ¡ˆ\",\"link\":\"/book/vite/4\"},{\"text\":\"7.é¢„æ„å»º\",\"link\":\"/book/vite/7\"},{\"text\":\"8.åŒå¼•æ“æ¶æ„\",\"link\":\"/book/vite/8\"},{\"text\":\"9.æ€§èƒ½æ¨æ‰‹: Esbuild\",\"link\":\"/book/vite/9\"},{\"text\":\"10.RollupåŸºæœ¬ç”¨æ³•\",\"link\":\"/book/vite/10\"},{\"text\":\"11.æ·±å…¥ç†è§£Rollupæ’ä»¶æœºåˆ¶\",\"link\":\"/book/vite/11\"},{\"text\":\"12.Viteæ’ä»¶å¼€å‘\",\"link\":\"/book/vite/12\"},{\"text\":\"14.ä»£ç åˆ†å‰²\",\"link\":\"/book/vite/14\"},{\"text\":\"15.Polyfillå’Œè¯­æ³•é™çº§\",\"link\":\"/book/vite/15\"},{\"text\":\"16.Viteæ­å»ºSSRå·¥ç¨‹\",\"link\":\"/book/vite/16\"},{\"text\":\"17.è”é‚¦æ¨¡å—ä»¥åŠåŸç†\",\"link\":\"/book/vite/17\"},{\"text\":\"18.Pure ESMæ—¶ä»£\",\"link\":\"/book/vite/18\"},{\"text\":\"19.ç³»ç»Ÿå¯¹Viteé¡¹ç›®æ€§èƒ½ä¼˜åŒ–\",\"link\":\"/book/vite/19\"}]}],\"/book/webpack\":[{\"text\":\"Webpack5æ ¸å¿ƒåŸç†ä¸å®è·µ\",\"items\":[{\"text\":\"1.é‡æ–°è®¤è¯†Webpack\",\"link\":\"/book/webpack/1\"},{\"text\":\"2.å¦‚ä½•ç†è§£Webpacké…ç½®åº•å±‚ç»“æ„é€»è¾‘ï¼Ÿ\",\"link\":\"/book/webpack/2\"},{\"text\":\"3.é…ç½®Babel+TS+ESLintï¼Ÿ\",\"link\":\"/book/webpack/3\"},{\"text\":\"10.æ·±å…¥ç†è§£å›¾åƒåŠ è½½åŸç†å’Œæœ€ä½³å®è·µ\",\"link\":\"/book/webpack/10\"},{\"text\":\"11.æ·±å…¥ç†è§£webpackæ ¸å¿ƒé…ç½®ğŸ“š\",\"link\":\"/book/webpack/11\"},{\"text\":\"13.å¦‚ä½•ä½¿ç”¨webpackç¼“å­˜æå‡æ€§èƒ½âš¡\",\"link\":\"/book/webpack/13\"},{\"text\":\"14.webpackå¹¶è¡Œæ„å»ºæ–¹å¼âš¡\",\"link\":\"/book/webpack/14\"},{\"text\":\"15.å¼€å‘æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡\",\"link\":\"/book/webpack/15\"},{\"text\":\"16.ä½¿ç”¨SplitChunkæå‡æ€§èƒ½âš¡\",\"link\":\"/book/webpack/16\"},{\"text\":\"18.åº”ç”¨æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡\",\"link\":\"/book/webpack/18\"}]}],\"/book/babel\":[{\"text\":\"Babelæ’ä»¶ç§˜ç±\",\"items\":[{\"text\":\"1.Babelçš„ä»‹ç»\",\"link\":\"/book/babel/1\"},{\"text\":\"2.Babelçš„ç¼–è¯‘æµç¨‹\",\"link\":\"/book/babel/2\"},{\"text\":\"3.Babelçš„AST\",\"link\":\"/book/babel/3\"},{\"text\":\"4.Babelçš„API\",\"link\":\"/book/babel/4\"},{\"text\":\"5.å®æˆ˜ï¼šæ’å…¥å‡½æ•°è°ƒç”¨å‚æ•°\",\"link\":\"/book/babel/5\"},{\"text\":\"6.JS Parserçš„å†å²\",\"link\":\"/book/babel/6\"}]}],\"/lib/fs-extra\":[{\"text\":\"fs-extra\",\"items\":[{\"text\":\"README\",\"link\":\"/lib/fs-extra/index\"},{\"text\":\"copy\",\"link\":\"/lib/fs-extra/copy\"},{\"text\":\"emptyDir\",\"link\":\"/lib/fs-extra/emptyDir\"},{\"text\":\"ensureFile\",\"link\":\"/lib/fs-extra/ensureFile\"},{\"text\":\"ensureDir\",\"link\":\"/lib/fs-extra/ensureDir\"},{\"text\":\"ensureLink\",\"link\":\"/lib/fs-extra/ensureLink\"},{\"text\":\"ensureSymlink\",\"link\":\"/lib/fs-extra/ensureSymlink\"},{\"text\":\"move\",\"link\":\"/lib/fs-extra/move\"},{\"text\":\"outputFile\",\"link\":\"/lib/fs-extra/outputFile\"},{\"text\":\"pathExists\",\"link\":\"/lib/fs-extra/pathExists\"},{\"text\":\"readJson\",\"link\":\"/lib/fs-extra/readJson\"},{\"text\":\"remove\",\"link\":\"/lib/fs-extra/remove\"},{\"text\":\"outputJson\",\"link\":\"/lib/fs-extra/outputJson\"},{\"text\":\"writeJson\",\"link\":\"/lib/fs-extra/writeJson\"},{\"text\":\"fs-write-read-writev\",\"link\":\"/lib/fs-extra/fs-write-read-writev\"}]}],\"/framework/nestjs\":[{\"text\":\"å­¦ä¹ NestJS\",\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/framework/nestjs/index\"}]}],\"/framework/express\":[{\"text\":\"Learn ExpressJS\",\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/framework/express/index\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>