<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æè‡´åº”ç”¨æ€§èƒ½ä¼˜åŒ–æŠ€å·§ | Awesome Node</title>
    <meta name="description" content="Node + Vite + Webpack + Babel">
    <link rel="preload stylesheet" href="/awesome-node/assets/style.0c8602bd.css" as="style">
    <script type="module" src="/awesome-node/assets/app.7b1bdb00.js"></script>
    <link rel="preload" href="/awesome-node/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/framework.d548c069.js">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/theme.1a5a2334.js">
  <link rel="modulepreload" href="/awesome-node/assets/book_webpack_18.md.fd07702e.lean.js">
  <link rel="icon" href="/awesome-node/favicon.ico">
  <link rel="apple-touch-icon" href="/awesome-node/pwa-192x192.png" sizes="192x192">
  <meta name="keywords" content="Node, Vite, Webpack, Babel">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <link rel="manifest" href="/awesome-node/manifest.webmanifest">
  <script id="vite-plugin-pwa:register-sw" src="/awesome-node/registerSW.js"></script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-8f34776c><!--[--><!--]--><!--[--><span tabindex="-1" data-v-2d720ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-2d720ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-8f34776c data-v-01443edd><div class="VPNavBar has-sidebar" data-v-01443edd data-v-b4754877><div class="container" data-v-b4754877><div class="title" data-v-b4754877><div class="VPNavBarTitle has-sidebar" data-v-b4754877 data-v-fb14c992><a class="title" href="/awesome-node/" data-v-fb14c992><!--[--><!--]--><!--[--><img class="VPImage logo" src="/awesome-node/logo.svg" alt data-v-1c77ed73><!--]--><!--[-->Awesome Node<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-b4754877><div class="curtain" data-v-b4754877></div><div class="content-body" data-v-b4754877><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-b4754877><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-b4754877 data-v-d917e9f6><span id="main-nav-aria-label" class="visually-hidden" data-v-d917e9f6>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/v18doc/File-System.html" tabindex="0" data-v-d917e9f6 data-v-99ec7905 data-v-fb754a61><!--[-->ğŸ“„Nodeæ–‡æ¡£<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/manager/basic.html" tabindex="0" data-v-d917e9f6 data-v-99ec7905 data-v-fb754a61><!--[-->ğŸ“¦å·¥ç¨‹åŒ–<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/core/stream/index.html" tabindex="0" data-v-d917e9f6 data-v-99ec7905 data-v-fb754a61><!--[-->ğŸ’«æ ¸å¿ƒæ¦‚å¿µ<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/blog/first.html" tabindex="0" data-v-d917e9f6 data-v-99ec7905 data-v-fb754a61><!--[-->ğŸ¤”blog<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d917e9f6 data-v-ba1bd7cb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ba1bd7cb><span class="text" data-v-ba1bd7cb><!----> ğŸ“šä¹¦ç± <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-ba1bd7cb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-ba1bd7cb><div class="VPMenu" data-v-ba1bd7cb data-v-b7a4e30f><div class="items" data-v-b7a4e30f><!--[--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/book/patterns/the-node-platform.html" data-v-15ee09af data-v-fb754a61><!--[-->Node Design Patterns<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/book/vite/2.html" data-v-15ee09af data-v-fb754a61><!--[-->æ·±å…¥ç†è§£Vite<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/book/webpack/1.html" data-v-15ee09af data-v-fb754a61><!--[-->Webpack5æ ¸å¿ƒåŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/book/babel/2.html" data-v-15ee09af data-v-fb754a61><!--[-->Babelæ’ä»¶ç§˜ç±<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d917e9f6 data-v-ba1bd7cb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ba1bd7cb><span class="text" data-v-ba1bd7cb><!----> ğŸ§‘â€ğŸš€æ¡†æ¶ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-ba1bd7cb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-ba1bd7cb><div class="VPMenu" data-v-ba1bd7cb data-v-b7a4e30f><div class="items" data-v-b7a4e30f><!--[--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/framework/nestjs/index.html" data-v-15ee09af data-v-fb754a61><!--[-->NestJS<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/framework/express/index.html" data-v-15ee09af data-v-fb754a61><!--[-->Express<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d917e9f6 data-v-ba1bd7cb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ba1bd7cb><span class="text" data-v-ba1bd7cb><!----> ğŸ”¥å¸¸ç”¨åº“ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-ba1bd7cb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-ba1bd7cb><div class="VPMenu" data-v-ba1bd7cb data-v-b7a4e30f><div class="items" data-v-b7a4e30f><!--[--><!--[--><div class="VPMenuLink" data-v-b7a4e30f data-v-15ee09af><a class="VPLink link" href="/awesome-node/lib/fs-extra/index.html" data-v-15ee09af data-v-fb754a61><!--[-->fs-extra<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-b4754877 data-v-286f508e><label title="toggle dark mode" data-v-286f508e data-v-bf2b42d4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-bf2b42d4 data-v-cc487592><span class="check" data-v-cc487592><span class="icon" data-v-cc487592><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bf2b42d4><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bf2b42d4><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-b4754877 data-v-27906a10 data-v-ba1bd7cb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ba1bd7cb><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-ba1bd7cb><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-ba1bd7cb><div class="VPMenu" data-v-ba1bd7cb data-v-b7a4e30f><!----><!--[--><!--[--><!----><div class="group" data-v-27906a10><div class="item appearance" data-v-27906a10><p class="label" data-v-27906a10>Appearance</p><div class="appearance-action" data-v-27906a10><label title="toggle dark mode" data-v-27906a10 data-v-bf2b42d4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-bf2b42d4 data-v-cc487592><span class="check" data-v-cc487592><span class="icon" data-v-cc487592><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bf2b42d4><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bf2b42d4><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b4754877 data-v-01257d5d><span class="container" data-v-01257d5d><span class="top" data-v-01257d5d></span><span class="middle" data-v-01257d5d></span><span class="bottom" data-v-01257d5d></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-8f34776c data-v-e7bbf88d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e7bbf88d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-e7bbf88d><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-e7bbf88d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e7bbf88d data-v-c904460a><button data-v-c904460a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-8f34776c data-v-6f2a4e40><div class="curtain" data-v-6f2a4e40></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-6f2a4e40><span class="visually-hidden" id="sidebar-aria-label" data-v-6f2a4e40> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-6f2a4e40><section class="VPSidebarItem level-0 has-active" data-v-6f2a4e40 data-v-8d4ce368><div class="item" role="button" tabindex="0" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><h2 class="text" data-v-8d4ce368>Webpack5æ ¸å¿ƒåŸç†ä¸å®è·µ</h2><!----></div><div class="items" data-v-8d4ce368><!--[--><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/1.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>1.é‡æ–°è®¤è¯†Webpack</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/2.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>2.å¦‚ä½•ç†è§£Webpacké…ç½®åº•å±‚ç»“æ„é€»è¾‘ï¼Ÿ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/3.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>3.é…ç½®Babel+TS+ESLintï¼Ÿ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/10.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>10.æ·±å…¥ç†è§£å›¾åƒåŠ è½½åŸç†å’Œæœ€ä½³å®è·µ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/11.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>11.æ·±å…¥ç†è§£webpackæ ¸å¿ƒé…ç½®ğŸ“š</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/13.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>13.å¦‚ä½•ä½¿ç”¨webpackç¼“å­˜æå‡æ€§èƒ½âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/15.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>15.å¼€å‘æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/16.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>16.ä½¿ç”¨SplitChunkæå‡æ€§èƒ½âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-8d4ce368 data-v-8d4ce368><div class="item" data-v-8d4ce368><div class="indicator" data-v-8d4ce368></div><a class="VPLink link link" href="/awesome-node/book/webpack/18.html" data-v-8d4ce368 data-v-fb754a61><!--[--><p class="text" data-v-8d4ce368>18.åº”ç”¨æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-8f34776c data-v-750e2ac2><div class="VPDoc has-sidebar has-aside" data-v-750e2ac2 data-v-9f12d96c><!--[--><!--]--><div class="container" data-v-9f12d96c><div class="aside" data-v-9f12d96c><div class="aside-curtain" data-v-9f12d96c></div><div class="aside-container" data-v-9f12d96c><div class="aside-content" data-v-9f12d96c><div class="VPDocAside" data-v-9f12d96c data-v-1b88ca87><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-1b88ca87 data-v-10dcf3db><div class="content" data-v-10dcf3db><div class="outline-marker" data-v-10dcf3db></div><div class="outline-title" data-v-10dcf3db>ç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-10dcf3db><span class="visually-hidden" id="doc-outline-aria-label" data-v-10dcf3db> Table of Contents for current page </span><ul class="root" data-v-10dcf3db data-v-326bd3a1><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-1b88ca87></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-9f12d96c><div class="content-container" data-v-9f12d96c><!--[--><!--]--><!----><main class="main" data-v-9f12d96c><div style="position:relative;" class="vp-doc _awesome-node_book_webpack_18" data-v-9f12d96c><div><p>å‰é¢ç« èŠ‚æˆ‘ä»¬å·²ç»è¯¦ç»†æ¢è®¨ Webpack ä¸­å¦‚ä½•ä½¿ç”¨åˆ†åŒ…ã€ä»£ç å‹ç¼©æå‡åº”ç”¨æ‰§è¡Œæ€§èƒ½ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸å°‘æ™®é€‚ã€ç»†ç¢çš„æ–¹æ³•ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé™ä½åº”ç”¨ä½“ç§¯ï¼Œæå‡ç½‘ç»œåˆ†å‘æ€§èƒ½ï¼ŒåŒ…æ‹¬ï¼š</p><ol><li>ä½¿ç”¨åŠ¨æ€åŠ è½½ï¼Œå‡å°‘é¦–å±èµ„æºåŠ è½½é‡ï¼›</li><li>ä½¿ç”¨ <code>externals</code>ã€Tree-Shakingã€Scope Hoisting ç‰¹æ€§ï¼Œå‡å°‘åº”ç”¨ä½“ç§¯ï¼›</li><li>æ­£ç¡®ä½¿ç”¨ <code>[hash]</code> å ä½ç¬¦ï¼Œä¼˜åŒ– HTTP èµ„æºç¼“å­˜æ•ˆç‡ï¼›</li><li>ç­‰ç­‰ã€‚</li></ol><p>ä¸‹é¢æˆ‘ä»¬ä¸€ä¸€å±•å¼€ï¼Œè§£é‡Šæ¯æ¡æœ€ä½³å®è·µä»¥åŠèƒŒåçš„é€»è¾‘ã€‚</p><h2 id="åŠ¨æ€åŠ è½½" tabindex="-1">åŠ¨æ€åŠ è½½ <a class="header-anchor" href="#åŠ¨æ€åŠ è½½" aria-label="Permalink to &quot;åŠ¨æ€åŠ è½½&quot;">â€‹</a></h2><p>Webpack é»˜è®¤ä¼šå°†åŒä¸€ä¸ª Entry ä¸‹çš„æ‰€æœ‰æ¨¡å—å…¨éƒ¨æ‰“åŒ…æˆä¸€ä¸ªäº§ç‰©æ–‡ä»¶ â€”â€” åŒ…æ‹¬é‚£äº›ä¸é¡µé¢ <a href="https://web.dev/critical-rendering-path/" target="_blank" rel="noreferrer">å…³é”®æ¸²æŸ“è·¯å¾„</a> æ— å…³çš„ä»£ç ï¼Œè¿™ä¼šå¯¼è‡´é¡µé¢åˆå§‹åŒ–æ—¶éœ€è¦èŠ±è´¹å¤šä½™æ—¶é—´å»ä¸‹è½½è¿™éƒ¨åˆ†æš‚æ—¶ç”¨ä¸ä¸Šçš„ä»£ç ï¼Œå½±å“é¦–å±æ¸²æŸ“æ€§èƒ½ï¼Œä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> someBigMethod </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./someBigMethod</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">someButton</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">someBigMethod</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>é€»è¾‘ä¸Šï¼Œç›´åˆ°ç‚¹å‡»é¡µé¢çš„ <code>someButton</code> æŒ‰é’®æ—¶æ‰ä¼šè°ƒç”¨ <code>someBigMethod</code> æ–¹æ³•ï¼Œå› æ­¤è¿™éƒ¨åˆ†ä»£ç æ²¡å¿…è¦å‡ºç°åœ¨é¦–å±èµ„æºåˆ—è¡¨ä¸­ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Webpack çš„åŠ¨æ€åŠ è½½åŠŸèƒ½å°†è¯¥æ¨¡å—æ›´æ”¹ä¸ºå¼‚æ­¥å¯¼å…¥ï¼Œä¿®æ”¹ä¸Šè¿°ä»£ç ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">someButton</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">someBitMehtod</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">import</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./someBigMethod</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">someBigMethod</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>æ­¤æ—¶ï¼Œé‡æ–°æ„å»ºå°†äº§ç”Ÿé¢å¤–çš„äº§ç‰©æ–‡ä»¶ <code>src_someBigMethod_js.js</code>ï¼Œè¿™ä¸ªæ–‡ä»¶ç›´åˆ°æ‰§è¡Œ <code>import</code> è¯­å¥æ—¶ â€”â€” ä¹Ÿå°±æ˜¯ä¸Šä¾‹ <code>someButton</code> è¢«ç‚¹å‡»æ—¶æ‰è¢«åŠ è½½åˆ°æµè§ˆå™¨ï¼Œä¹Ÿå°±ä¸ä¼šå½±å“åˆ°å…³é”®æ¸²æŸ“è·¯å¾„äº†ã€‚</p><p>åŠ¨æ€åŠ è½½æ˜¯ Webpack å†…ç½®èƒ½åŠ›ä¹‹ä¸€ï¼Œæˆ‘ä»¬ä¸éœ€è¦åšä»»ä½•é¢å¤–é…ç½®å°±å¯ä»¥é€šè¿‡åŠ¨æ€å¯¼å…¥è¯­å¥(<code>import</code>ã€<code>require.ensure</code>)è½»æ˜“å®ç°ã€‚</p><p>ğŸš¨ä½†è¯·æ³¨æ„ï¼Œè¿™ä¸€ç‰¹æ€§æœ‰æ—¶å€™åè€Œä¼šå¸¦æ¥ä¸€äº›æ–°çš„æ€§èƒ½é—®é¢˜ï¼š</p><ul><li><strong>ä¸€æ˜¯è¿‡åº¦ä½¿ç”¨ä¼šä½¿äº§ç‰©å˜å¾—è¿‡åº¦ç»†ç¢ï¼Œäº§ç‰©æ–‡ä»¶è¿‡å¤šï¼Œè¿è¡Œæ—¶ HTTP é€šè®¯æ¬¡æ•°ä¹Ÿä¼šå˜å¤š</strong>ï¼Œåœ¨ HTTP 1.x ç¯å¢ƒä¸‹è¿™å¯èƒ½åè€Œä¼šé™ä½ç½‘ç»œæ€§èƒ½ï¼Œå¾—ä¸å¿å¤±ï¼›</li><li><strong>äºŒæ˜¯ä½¿ç”¨æ—¶ Webpack éœ€è¦åœ¨å®¢æˆ·ç«¯æ³¨å…¥ä¸€å¤§æ®µç”¨äºæ”¯æŒåŠ¨æ€åŠ è½½ç‰¹æ€§çš„ Runtime</strong>ï¼š</li></ul><p><img src="/awesome-node/assets/18-1.4ad11f70.webp" alt="webpack runtime"></p><p>è¿™æ®µä»£ç å³ä½¿ç»è¿‡å‹ç¼©ä¹Ÿé«˜è¾¾ 2.5KB å·¦å³ï¼Œå¦‚æœåŠ¨æ€å¯¼å…¥çš„ä»£ç é‡å°‘äºè¿™æ®µ Runtime ä»£ç çš„ä½“ç§¯ï¼Œé‚£å°±å®Œå…¨æ˜¯ä¸€ç¬”èµ”æœ¬ä¹°å–äº†ã€‚</p><ul><li>ğŸŒ° <a href="https://github.com/Tecvan-fe/webpack-book-samples/tree/main/perf-lazy-load" target="_blank" rel="noreferrer">perf-lazy-load - @github</a></li></ul><p>å› æ­¤ï¼Œè¯·åŠ¡å¿…æ…é‡ï¼Œå¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬æ²¡å¿…è¦ä¸ºå°æ¨¡å—ä½¿ç”¨åŠ¨æ€åŠ è½½èƒ½åŠ›ï¼<code>ç›®å‰ç¤¾åŒºæ¯”è¾ƒå¸¸è§çš„ç”¨æ³•æ˜¯é…åˆ SPA çš„å‰ç«¯è·¯ç”±èƒ½åŠ›å®ç°é¡µé¢çº§åˆ«çš„åŠ¨æ€åŠ è½½</code>ï¼Œä¾‹å¦‚åœ¨ Vue ä¸­ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createRouter</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createWebHashHistory</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vue-router</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Home </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./Home.vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Foo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#676E95;font-style:italic;">/* webpackChunkName: &quot;sub-pages&quot; */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./Foo.vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Bar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#676E95;font-style:italic;">/* webpackChunkName: &quot;sub-pages&quot; */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./Bar.vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åŸºç¡€é¡µé¢</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> routes </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/bar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Bar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">component</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Bar </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/foo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Foo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">component</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Foo </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Home</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">component</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Home </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> router </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createRouter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">history</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createWebHashHistory</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  routes</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> router</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>ç¤ºä¾‹ä¸­ï¼Œ<code>Home/Foo/Bar</code> ä¸‰ä¸ªç»„ä»¶å‡é€šè¿‡ <code>import()</code> è¯­å¥åŠ¨æ€å¯¼å…¥ï¼Œè¿™ä½¿å¾—ä»…å½“é¡µé¢åˆ‡æ¢åˆ°ç›¸åº”è·¯ç”±æ—¶æ‰ä¼šåŠ è½½å¯¹åº”ç»„ä»¶ä»£ç ã€‚å¦å¤–ï¼Œ<code>Foo</code> ä¸ <code>Bar</code> ç»„ä»¶çš„å¯¼å…¥è¯­å¥æ¯”è¾ƒç‰¹æ®Šï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#676E95;font-style:italic;">/* webpackChunkName: &quot;sub-pages&quot; */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./Bar.vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><code>webpackChunkName</code> ç”¨äºæŒ‡å®šè¯¥å¼‚æ­¥æ¨¡å—çš„ Chunk åç§°ï¼Œç›¸åŒ Chunk åç§°çš„æ¨¡å—æœ€ç»ˆä¼šæ‰“åŒ…åœ¨ä¸€èµ·ï¼Œè¿™ä¸€ç‰¹æ€§èƒ½å¸®åŠ©å¼€å‘è€…å°†ä¸€äº›å…³è”åº¦è¾ƒé«˜ï¼Œæˆ–æ¯”è¾ƒç»†ç¢çš„æ¨¡å—åˆå¹¶åˆ°åŒä¸€ä¸ªäº§ç‰©æ–‡ä»¶ï¼Œèƒ½å¤Ÿç”¨äºç®¡ç†æœ€ç»ˆäº§ç‰©æ•°é‡ã€‚</p><ul><li>ğŸŒ° <a href="https://github.com/Tecvan-fe/webpack-book-samples/tree/main/perf-vue-lazy-load" target="_blank" rel="noreferrer">perf-vue-lazy-load - @github</a></li></ul><h2 id="httpç¼“å­˜ä¼˜åŒ–" tabindex="-1">HTTPç¼“å­˜ä¼˜åŒ– <a class="header-anchor" href="#httpç¼“å­˜ä¼˜åŒ–" aria-label="Permalink to &quot;HTTPç¼“å­˜ä¼˜åŒ–&quot;">â€‹</a></h2><p>æ³¨æ„ï¼ŒWebpack åªæ˜¯ä¸€ä¸ªå·¥ç¨‹åŒ–æ„å»ºå·¥å…·ï¼Œæ²¡æœ‰èƒ½åŠ›å†³å®šåº”ç”¨æœ€ç»ˆåœ¨ç½‘ç»œåˆ†å‘æ—¶çš„ç¼“å­˜è§„åˆ™ï¼Œä½†æˆ‘ä»¬å¯ä»¥è°ƒæ•´äº§ç‰©æ–‡ä»¶çš„åç§°(é€šè¿‡ Hash)ä¸å†…å®¹(é€šè¿‡ <a href="https://webpack.js.org/guides/code-splitting/" target="_blank" rel="noreferrer">Code Splitting</a>)ï¼Œä½¿å…¶æ›´é€‚é… HTTP æŒä¹…åŒ–ç¼“å­˜ç­–ç•¥ã€‚Code Splitting ç›¸å…³çŸ¥è¯†å·²ç»åœ¨ <a href="https://juejin.cn/book/7115598540721618944/section/7119035452643868672" target="_blank" rel="noreferrer">å‰é¢ç« èŠ‚</a> åšäº†è¯¦å°½ä»‹ç»ï¼Œæœ¬æ–‡æ¥ç€èŠèŠæ–‡ä»¶å Hash è§„åˆ™ã€‚</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Hash æ˜¯ä¸€ç§å°†ä»»æ„é•¿åº¦çš„æ¶ˆæ¯å‹ç¼©åˆ°æŸä¸€å›ºå®šé•¿åº¦çš„æ¶ˆæ¯æ‘˜è¦çš„å‡½æ•°ï¼Œä¸åŒæ˜æ–‡è®¡ç®—å‡ºçš„æ‘˜è¦å€¼ä¸åŒï¼Œæ‰€ä»¥å¸¸å¸¸è¢«ç”¨ä½œå†…å®¹å”¯ä¸€æ ‡è¯†ã€‚</p></div><p>ğŸ“šWebpack æä¾›äº†ä¸€ç§æ¨¡æ¿å­—ç¬¦ä¸²(<a href="https://webpack.js.org/configuration/output/#template-strings" target="_blank" rel="noreferrer">Template String</a>)èƒ½åŠ›ï¼Œç”¨äºæ ¹æ®æ„å»ºæƒ…å†µåŠ¨æ€æ‹¼æ¥äº§ç‰©æ–‡ä»¶åç§°(<a href="https://webpack.js.org/configuration/output/#outputfilename" target="_blank" rel="noreferrer">output.filename</a>)ï¼Œè§„åˆ™ç¨å¾®æœ‰ç‚¹å¤æ‚ï¼Œä½†ä»æ€§èƒ½è§’åº¦çœ‹ï¼Œæ¯”è¾ƒå€¼å¾—å…³æ³¨çš„æ˜¯å…¶ä¸­çš„å‡ ä¸ª Hash å ä½ç¬¦ï¼ŒåŒ…æ‹¬ï¼š</p><ol><li><code>[fullhash]</code>ï¼šæ•´ä¸ªé¡¹ç›®çš„å†…å®¹ Hash å€¼ï¼Œé¡¹ç›®ä¸­ä»»æ„æ¨¡å—å˜åŒ–éƒ½ä¼šäº§ç”Ÿæ–°çš„ <code>fullhash</code>ï¼›</li><li><code>[chunkhash]</code>ï¼šäº§ç‰©å¯¹åº” Chunk çš„ Hashï¼ŒChunk ä¸­ä»»æ„æ¨¡å—å˜åŒ–éƒ½ä¼šäº§ç”Ÿæ–°çš„ <code>chunkhash</code>ï¼›</li><li><code>[contenthash]</code>ï¼šäº§ç‰©å†…å®¹ Hash å€¼ï¼Œä»…å½“äº§ç‰©å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šäº§ç”Ÿæ–°çš„ <code>contenthash</code>ï¼Œå› æ­¤å®ç”¨æ€§è¾ƒé«˜ã€‚âœ…</li></ol><p>ç”¨æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ <code>output.filename</code> å€¼ä¸­æ’å…¥ç›¸åº”å ä½ç¬¦å³å¯ï¼Œå¦‚ <code>&quot;[name]-[contenthash].js&quot;</code>ã€‚æˆ‘ä»¬æ¥çœ‹ä¸ªå®Œæ•´ä¾‹å­ï¼Œå‡è®¾å¯¹äºä¸‹è¿°æºç ç»“æ„ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-Vkp5-" id="tab-nGk-oit" checked="checked"><label for="tab-nGk-oit">src/index.js</label><input type="radio" name="group-Vkp5-" id="tab-mWRGAgY"><label for="tab-mWRGAgY">src/foo.js</label><input type="radio" name="group-Vkp5-" id="tab-PJNeWlE"><label for="tab-PJNeWlE">src/index.css</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./index.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">body </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">font</span><span style="color:#89DDFF;">-</span><span style="color:#FFCB6B;">size</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> 14</span><span style="color:#A6ACCD;">px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div><p>webpacké…ç½®</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-1Kc03" id="tab-75NW6I6" checked="checked"><label for="tab-75NW6I6">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node:path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> MiniCssExtractPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mini-css-extract-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">foo</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/foo.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name]-[contenthash].js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clean</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">css</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [MiniCssExtractPlugin</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">loader</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MiniCssExtractPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name]-[contenthash].css</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div><p>ç¤ºä¾‹åŒ…å« <code>index.js</code> ä¸ <code>foo.js</code> ä¸¤ä¸ªå…¥å£ï¼Œä¸”åˆ†åˆ«åœ¨ <code>ouput.filename</code> ä¸ <code>MiniCssExtractPlugin.filename</code> ä¸­ä½¿ç”¨ <code>[contenthash]</code> å ä½ç¬¦ï¼Œæœ€ç»ˆæ„å»ºç»“æœï¼š</p><p><img src="/awesome-node/assets/18-2.4d6bfa1f.webp" alt="webpackå„ç§hash"></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ä¹Ÿå¯ä»¥é€šè¿‡å ä½ç¬¦ä¼ å…¥ Hash ä½æ•°ï¼Œå¦‚ <code>[contenthash:7]</code> ï¼Œå³å¯é™å®šç”Ÿæˆçš„ Hash é•¿åº¦ã€‚</p></div><p>å¯ä»¥çœ‹åˆ°æ¯ä¸ªäº§ç‰©æ–‡ä»¶åéƒ½ä¼šå¸¦ä¸Šä¸€æ®µç”±äº§ç‰©å†…å®¹è®¡ç®—å‡ºçš„å”¯ä¸€ Hash å€¼ï¼Œæ–‡ä»¶å†…å®¹ä¸å˜ï¼ŒHash ä¹Ÿä¸ä¼šå˜åŒ–ï¼Œè¿™å°±å¾ˆé€‚åˆç”¨ä½œ HTTP <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#expires_or_max-age" target="_blank" rel="noreferrer">æŒä¹…ç¼“å­˜</a> èµ„æºï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># HTTP Response header</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Cache-Control:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">max-age=</span><span style="color:#F78C6C;">31536000</span></span></code></pre></div><p>æ­¤æ—¶ï¼Œäº§ç‰©æ–‡ä»¶ä¸ä¼šè¢«é‡å¤ä¸‹è½½ï¼Œä¸€ç›´åˆ°æ–‡ä»¶å†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œå¼•èµ· Hash å˜åŒ–ç”Ÿæˆä¸åŒ URL è·¯å¾„ä¹‹åï¼Œæ‰éœ€è¦è¯·æ±‚æ–°çš„èµ„æºæ–‡ä»¶ï¼Œèƒ½æœ‰æ•ˆæå‡ç½‘ç»œæ€§èƒ½ï¼Œå› æ­¤ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹åº”å°½é‡ä½¿ç”¨ <code>[contenthash]</code> ç”Ÿæˆæœ‰ç‰ˆæœ¬æ„ä¹‰çš„æ–‡ä»¶åã€‚</p><ul><li>ğŸŒ° <a href="https://github.com/Tecvan-fe/webpack-book-samples/tree/main/perf-hash" target="_blank" rel="noreferrer">perf-hash - @github</a></li></ul><p>ğŸš¨Hash è§„åˆ™å¾ˆå¥½ç”¨ï¼Œä¸è¿‡æœ‰ä¸€ä¸ªè¾¹é™… Case éœ€è¦æ³¨æ„ï¼š<strong>å¼‚æ­¥æ¨¡å—å˜åŒ–ä¼šå¼•èµ·ä¸» Chunk Hash åŒæ­¥å‘ç”Ÿå˜åŒ–</strong>ï¼Œä¾‹å¦‚å¯¹äºä¸‹é¢è¿™ç§æ¨¡å—å…³ç³»ï¼š</p><p><img src="/awesome-node/assets/18-3.562cb9e7.webp" alt="æ¨¡å—å…³ç³»"></p><p><code>src</code> ç›®å½•ä»£ç ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-dY7vZ" id="tab-DzunTXt" checked="checked"><label for="tab-DzunTXt">index.js</label><input type="radio" name="group-dY7vZ" id="tab-82327zH"><label for="tab-82327zH">sync-a.js</label><input type="radio" name="group-dY7vZ" id="tab-k9BnOMr"><label for="tab-k9BnOMr">sync-b.js</label><input type="radio" name="group-dY7vZ" id="tab-HasuRet"><label for="tab-HasuRet">sync-c.js</label><input type="radio" name="group-dY7vZ" id="tab-Ao4WhBt"><label for="tab-Ao4WhBt">async-a.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./sync-a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// åŒæ­¥</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./sync-b</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./async-a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// å¼‚æ­¥</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sync-a</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sync-b</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sync-c</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./sync-c</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">async-a</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div></div></div><p>æ„å»ºåå°†ç”Ÿæˆå…¥å£ <code>index.js</code> ä¸å¼‚æ­¥æ¨¡å— <code>async-a.js</code> ä¸¤ä¸ª Chunk å¯¹åº”çš„äº§ç‰©ï¼š</p><p><img src="/awesome-node/assets/18-4.bb22d4a6.webp" alt="async chunks"></p><p>æ­¤æ—¶ï¼Œè‹¥å¼‚æ­¥æ¨¡å— <code>async-a</code> æˆ–å…¶å­æ¨¡å— <code>sync-c</code> å‘ç”Ÿå˜åŒ–</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line diff remove"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sync-c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line diff add"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sync-c-diff</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span></code></pre></div><p>ç†è®ºä¸Šåº”è¯¥åªä¼šå½±å“ <code>src_async-a</code> çš„ Hash å€¼ï¼Œä½†å®é™…æ•ˆæœå´æ˜¯ï¼š</p><p><img src="/awesome-node/assets/18-5.e68d084d.webp" alt="async chunkså˜æ›´çš„å½±å“"></p><p>çˆ¶çº§ Chunk(<code>index</code>)ä¹Ÿå—åˆ°äº†å½±å“ï¼Œç”Ÿæˆæ–°çš„ Hash å€¼ï¼Œè¿™æ˜¯å› ä¸ºåœ¨ <code>index</code> ä¸­éœ€è¦è®°å½•å¼‚æ­¥ Chunk çš„çœŸå®è·¯å¾„ï¼š</p><p><img src="/awesome-node/assets/18-6.d934f981.webp" alt="async chunkså˜æ›´çš„å½±å“"></p><p>ğŸš€å¼‚æ­¥ Chunk çš„è·¯å¾„å˜åŒ–è‡ªç„¶ä¹Ÿå°±å¯¼è‡´äº†çˆ¶çº§ Chunk å†…å®¹å˜åŒ–ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ <code>optimization.runtimeChunk</code> å°†è¿™éƒ¨åˆ†ä»£ç æŠ½å–ä¸ºå•ç‹¬çš„ Runtime Chunkï¼Œä¾‹å¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-bo8fC" id="tab-8FToM7k" checked="checked"><label for="tab-8FToM7k">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[name]-[contenthash].js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å°†è¿è¡Œæ—¶ä»£ç æŠ½å–åˆ° `runtime` æ–‡ä»¶ä¸­</span></span>
<span class="line diff add"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">runtimeChunk</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">runtime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div></div></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>åç»­ç« èŠ‚ä¸­æˆ‘ä»¬ä¼šä¸“é—¨è®²è§£ Initial Chunkã€Async Chunkã€Runtime Chunk ä¸‰ç§æ¦‚å¿µã€‚</p></div><p>ä¹‹åï¼Œ<code>async-a.js</code> æ¨¡å—çš„å˜æ›´åªä¼šå½±å“ Runtime Chunk å†…å®¹ï¼Œä¸å†å½±å“ä¸» Chunkã€‚</p><p><img src="/awesome-node/assets/18-7.6177717f.webp" alt="runtime"></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ç»¼ä¸Šï¼Œå»ºè®®è‡³å°‘ä¸ºç”Ÿæˆç¯å¢ƒå¯åŠ¨ <code>[contenthash]</code> åŠŸèƒ½ï¼Œå¹¶æ­é… <code>optimization.runtimeChunk</code> å°†è¿è¡Œæ—¶ä»£ç æŠ½ç¦»ä¸ºå•ç‹¬äº§ç‰©æ–‡ä»¶ã€‚</p></div><h2 id="ä½¿ç”¨å¤–ç½®ä¾èµ–" tabindex="-1">ä½¿ç”¨å¤–ç½®ä¾èµ– <a class="header-anchor" href="#ä½¿ç”¨å¤–ç½®ä¾èµ–" aria-label="Permalink to &quot;ä½¿ç”¨å¤–ç½®ä¾èµ–&quot;">â€‹</a></h2><p>è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œå‡å¦‚æˆ‘ä»¬æ‰‹å¤´ä¸Šæœ‰ 10 ä¸ªç”¨ React æ„å»ºçš„ SPA åº”ç”¨ï¼Œè¿™ 10 ä¸ªåº”ç”¨éƒ½éœ€è¦å„è‡ªå®‰è£…ã€æ‰“åŒ…ã€éƒ¨ç½²ã€åˆ†å‘åŒä¸€å¥—ç›¸ä¼¼çš„ React åŸºç¡€ä¾èµ–ï¼Œæœ€ç»ˆç”¨æˆ·åœ¨è®¿é—®è¿™äº›åº”ç”¨æ—¶ä¹Ÿéœ€è¦é‡å¤åŠ è½½ç›¸åŒåŸºç¡€åŒ…ä»£ç ï¼Œé‚£æœ‰æ²¡æœ‰åŠæ³•èŠ‚çœè¿™éƒ¨åˆ†æµé‡å‘¢ï¼Ÿæœ‰ â€”â€” ä½¿ç”¨ Webpack çš„ <code>externals</code> ç‰¹æ€§ã€‚</p><p><code>externals</code> çš„ä¸»è¦ä½œç”¨æ˜¯å°†éƒ¨åˆ†æ¨¡å—æ’é™¤åœ¨ Webpack æ‰“åŒ…ç³»ç»Ÿä¹‹å¤–ï¼Œä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">externals</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">lodash</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">_</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>ä½¿ç”¨ä¸Šè¿°é…ç½®åï¼ŒWebpack ä¼š <strong>é¢„è®¾</strong> è¿è¡Œç¯å¢ƒä¸­å·²ç»å†…ç½® Lodash åº“ â€”â€” æ— è®ºæ˜¯é€šè¿‡ CDN è¿˜æ˜¯å…¶å®ƒæ–¹å¼æ³¨å…¥ï¼Œæ‰€ä»¥ä¸éœ€è¦å†å°†è¿™äº›æ¨¡å—æ‰“åŒ…åˆ°äº§ç‰©ä¸­ï¼š</p><p><img src="/awesome-node/assets/18-8.2a2ae835.webp" alt="ä½¿ç”¨å’Œä¸ä½¿ç”¨externalå¯¹æ¯”"></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>externals</code> ä¸ä»…é€‚ç”¨äºä¼˜åŒ–äº§ç‰©æ€§èƒ½ï¼Œåœ¨ç‰¹å®šç¯å¢ƒä¸‹è¿˜èƒ½ç”¨äºè·³è¿‡è‹¥å¹²è¿è¡Œæ—¶æ¨¡å—ï¼Œä¾‹å¦‚ Node ä¸­çš„ <code>fs/net</code> ç­‰ï¼Œé¿å…å°†è¿™éƒ¨åˆ†æºç é”™è¯¯æ‰“åŒ…è¿› Bundleï¼Œè¯¦æƒ…å¯å‚è€ƒ <a href="https://www.npmjs.com/package/webpack-node-externals" target="_blank" rel="noreferrer">webpack-node-externals</a> å·¥å…·ã€‚</p></div><p>ğŸš€æ³¨æ„ï¼Œä½¿ç”¨ <code>externals</code> æ—¶å¿…é¡»ç¡®ä¿è¿™äº›å¤–ç½®ä¾èµ–ä»£ç å·²ç»è¢«æ­£ç¡®æ³¨å…¥åˆ°ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ï¼Œè¿™åœ¨ Web åº”ç”¨ä¸­é€šå¸¸å¯ä»¥é€šè¿‡ CDN æ–¹å¼å®ç°ï¼Œä¾‹å¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-YAyxu" id="tab-Tdtpfn_" checked="checked"><label for="tab-Tdtpfn_">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node:path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HtmlWebpackPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name]-[contenthash].js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clean</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">externals</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">react</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">React</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">lodash</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HtmlWebpackPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">templateContent</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;head&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;title&gt;External demo&lt;/title&gt;</span></span>
<span class="line highlighted"><span style="color:#C3E88D;">        &lt;script defer crossorigin src=&quot;https://www.unpkg.com/react@18.2.0/umd/react.production.min.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="line highlighted"><span style="color:#C3E88D;">        &lt;script defer crossorigin src=&quot;https://unpkg.com/browse/lodash@4.17.21/lodash.min.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;/head&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;body&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;/body&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;/html&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      </span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div><p>ç¤ºä¾‹ä¸­ï¼Œ<code>externals</code> å£°æ˜äº† <code>react</code> ä¸ <code>lodash</code> ä¸¤ä¸ªå¤–ç½®ä¾èµ–ï¼Œå¹¶åœ¨åç»­çš„ <code>html-webpack-plugin</code> æ¨¡æ¿ä¸­æ³¨å…¥è¿™ä¸¤ä¸ªæ¨¡å—çš„ CDN å¼•ç”¨ï¼Œä»¥æ­¤æ„æˆå®Œæ•´ Web åº”ç”¨ã€‚</p><p>è™½ç„¶ç»“æœä¸Šçœ‹æµè§ˆå™¨è¿˜æ˜¯å¾—æ¶ˆè€—è¿™éƒ¨åˆ†æµé‡ï¼Œä½†ç»“åˆ CDN ç³»ç»Ÿç‰¹æ€§:</p><ol><li>ä¸€æ˜¯èƒ½å¤Ÿå°±è¿‘è·å–èµ„æºï¼Œç¼©çŸ­ç½‘ç»œé€šè®¯é“¾è·¯ï¼›</li><li>äºŒæ˜¯èƒ½å¤Ÿå°†èµ„æºåˆ†å‘ä»»åŠ¡å‰ç½®åˆ°èŠ‚ç‚¹æœåŠ¡å™¨ï¼Œå‡è½»åŸæœåŠ¡å™¨ QPS è´Ÿæ‹…ï¼›</li><li>ä¸‰æ˜¯ç”¨æˆ·è®¿é—®ä¸åŒç«™ç‚¹èƒ½å…±äº«åŒä¸€ä»½ CDN èµ„æºå‰¯æœ¬ã€‚æ‰€ä»¥ç½‘ç»œæ€§èƒ½æ•ˆæœå¾€å¾€ä¼šæ¯”é‡å¤æ‰“åŒ…å¥½å¾ˆå¤šã€‚</li></ol><h2 id="ä½¿ç”¨tree-shakingåˆ é™¤å¤šä½™æ¨¡å—å¯¼å‡º" tabindex="-1">ä½¿ç”¨Tree-Shakingåˆ é™¤å¤šä½™æ¨¡å—å¯¼å‡º <a class="header-anchor" href="#ä½¿ç”¨tree-shakingåˆ é™¤å¤šä½™æ¨¡å—å¯¼å‡º" aria-label="Permalink to &quot;ä½¿ç”¨Tree-Shakingåˆ é™¤å¤šä½™æ¨¡å—å¯¼å‡º&quot;">â€‹</a></h2><p>Tree-Shaking è¾ƒæ—©å‰ç”± <a href="https://github.com/Rich-Harris" target="_blank" rel="noreferrer">Rich Harris</a> åœ¨ Rollup ä¸­ç‡å…ˆå®ç°ï¼ŒWebpack è‡ª 2.0 ç‰ˆæœ¬å¼€å§‹æ¥å…¥ï¼Œæ˜¯ä¸€ç§åŸºäº ES Module è§„èŒƒçš„ Dead Code Elimination æŠ€æœ¯ï¼Œå®ƒä¼šåœ¨è¿è¡Œè¿‡ç¨‹ä¸­é™æ€åˆ†ææ¨¡å—ä¹‹é—´çš„å¯¼å…¥å¯¼å‡ºï¼Œåˆ¤æ–­å“ªäº›æ¨¡å—å¯¼å‡ºå€¼æ²¡æœ‰è¢«å…¶å®ƒæ¨¡å—ä½¿ç”¨ â€”â€” ç›¸å½“äºæ¨¡å—å±‚é¢çš„ Dead Codeï¼Œå¹¶å°†å…¶åˆ é™¤ã€‚</p><p>åœ¨ Webpack ä¸­ï¼Œå¯åŠ¨ Tree Shaking åŠŸèƒ½å¿…é¡»åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ol><li>é…ç½® <code>optimization.usedExports</code> ä¸º <code>true</code>ï¼Œæ ‡è®°æ¨¡å—å¯¼å…¥å¯¼å‡ºåˆ—è¡¨ï¼›</li><li>å¯åŠ¨ä»£ç ä¼˜åŒ–åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å®ç°ï¼š <ol><li>é…ç½® <code>mode = production</code></li><li>é…ç½® <code>optimization.minimize = true</code></li><li>æä¾› <code>optimization.minimizer</code> æ•°ç»„</li></ol></li></ol><p>ä¾‹å¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-AOOms" id="tab-sVtBflt" checked="checked"><label for="tab-sVtBflt">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">usedExports</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div><p>ä¹‹åï¼ŒWebpack ä¼šå¯¹æ‰€æœ‰ä½¿ç”¨ ESM æ–¹æ¡ˆçš„æ¨¡å—å¯åŠ¨ Tree-Shakingï¼Œä¾‹å¦‚å¯¹äºä¸‹é¢çš„ä»£ç ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-FFCH3" id="tab-Jv1U-t9" checked="checked"><label for="tab-Jv1U-t9">index.js</label><input type="radio" name="group-FFCH3" id="tab-RM3VqmY"><label for="tab-RM3VqmY">bar.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bar</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./bar</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> bar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> foo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre></div></div></div><p><code>bar.js</code> æ¨¡å—å¯¼å‡ºäº† <code>bar</code> ã€<code>foo</code> ï¼Œä½†åªæœ‰ <code>bar</code> å€¼è¢« <code>index</code> æ¨¡å—ä½¿ç”¨ï¼Œç»è¿‡ Tree Shaking å¤„ç†åï¼Œ<code>foo</code> å˜é‡ä¼šè¢«è§†ä½œæ— ç”¨ä»£ç åˆ é™¤ï¼Œæœ€ç»ˆæœ‰æ•ˆçš„ä»£ç ç»“æ„ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-P9Gfr" id="tab-9Fdd5g4" checked="checked"><label for="tab-9Fdd5g4">bar.js</label><input type="radio" name="group-P9Gfr" id="tab-mvCajkq"><label for="tab-mvCajkq">index.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> bar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line diff remove"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> foo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bar</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./bar</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar)</span></span></code></pre></div></div></div><p>åœ¨åé¢ç« èŠ‚ä¸­æˆ‘ä»¬ä¼šå±•å¼€è®²è§£ Tree-Shaking çš„å®ç°ç»†èŠ‚åŠæ³¨æ„äº‹é¡¹ï¼Œæ­¤å¤„å…ˆç•¥è¿‡ã€‚</p><h2 id="ä½¿ç”¨scope-hoistingåˆå¹¶æ¨¡å—" tabindex="-1">ä½¿ç”¨Scope Hoistingåˆå¹¶æ¨¡å— <a class="header-anchor" href="#ä½¿ç”¨scope-hoistingåˆå¹¶æ¨¡å—" aria-label="Permalink to &quot;ä½¿ç”¨Scope Hoistingåˆå¹¶æ¨¡å—&quot;">â€‹</a></h2><p>é»˜è®¤æƒ…å†µä¸‹ Webpack ä¼šå°†æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªä¸ªå•ç‹¬çš„å‡½æ•°ï¼Œä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// common.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// index.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> common </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(common)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>ç»è¿‡ Webpack æ‰“åŒ…åä¼šç”Ÿæˆï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/common.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  (</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">__unused_webpack_module</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">__webpack_exports__</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">__webpack_require__</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">     </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">__WEBPACK_DEFAULT_EXPORT__</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">     </span><span style="color:#A6ACCD;">__webpack_require__</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">d</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__webpack_exports__</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#676E95;font-style:italic;">/* harmony export */</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">default</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">__WEBPACK_DEFAULT_EXPORT__</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#676E95;font-style:italic;">/* harmony export */</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  (</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">__unused_webpack_module</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">__webpack_exports__</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">__webpack_require__</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_common__WEBPACK_IMPORTED_MODULE_0__</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">__webpack_require__</span><span style="color:#F07178;">( </span><span style="color:#676E95;font-style:italic;">/*! ./common */</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/common.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">_common__WEBPACK_IMPORTED_MODULE_0__</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>è¿™ç§å¤„ç†æ–¹å¼éœ€è¦å°†æ¯ä¸€ä¸ªæ¨¡å—éƒ½åŒ…è£¹è¿›ä¸€æ®µç›¸ä¼¼çš„å‡½æ•°æ¨¡æ¿ä»£ç ä¸­ï¼Œå¥½çœ‹æ˜¯å¥½çœ‹ï¼Œä½†æµªè´¹ç½‘ç»œæµé‡å•Šã€‚ä¸ºæ­¤ï¼ŒWebpack æä¾›äº† <code>Scope Hoisting</code> åŠŸèƒ½ï¼Œç”¨äº <strong>å°†ç¬¦åˆæ¡ä»¶çš„å¤šä¸ªæ¨¡å—åˆå¹¶åˆ°åŒä¸€ä¸ªå‡½æ•°ç©ºé—´</strong> ä¸­ï¼Œä»è€Œå‡å°‘äº§ç‰©ä½“ç§¯ï¼Œä¼˜åŒ–æ€§èƒ½ã€‚ä¾‹å¦‚ä¸Šè¿°ç¤ºä¾‹ç»è¿‡ Scope Hoisting ä¼˜åŒ–åï¼Œç”Ÿæˆä»£ç ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">__unused_webpack_module</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">__webpack_exports__</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">__webpack_require__</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">// CONCATENATED MODULE: ./src/common.js</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#676E95;font-style:italic;">/* harmony default export */</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">common</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">// CONCATENATED MODULE: ./src/index.js</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">common</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>Webpack æä¾›äº†ä¸‰ç§å¼€å¯ Scope Hoisting çš„æ–¹æ³•ï¼š</p><ol><li>ä½¿ç”¨ <code>mode = &#39;production&#39;</code> å¼€å¯ç”Ÿäº§æ¨¡å¼ï¼›</li><li>ä½¿ç”¨ <code>optimization.concatenateModules</code> é…ç½®é¡¹ï¼›</li><li>ç›´æ¥ä½¿ç”¨ <code>ModuleConcatenationPlugin</code> æ’ä»¶ã€‚</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> ModuleConcatenationPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack/lib/optimize/ModuleConcatenationPlugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 1ï¸âƒ£ æ–¹æ³•1ï¼š å°† `mode` è®¾ç½®ä¸º productionï¼Œå³å¯å¼€å¯</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 2ï¸âƒ£ æ–¹æ³•2ï¼š å°† `optimization.concatenateModules` è®¾ç½®ä¸º true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">concatenateModules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">usedExports</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">providedExports</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 3ï¸âƒ£ æ–¹æ³•3ï¼š ç›´æ¥ä½¿ç”¨ `ModuleConcatenationPlugin` æ’ä»¶</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ModuleConcatenationPlugin</span><span style="color:#A6ACCD;">()]</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>ä¸‰ç§æ–¹æ³•æœ€ç»ˆéƒ½ä¼šè°ƒç”¨ <code>ModuleConcatenationPlugin</code> å®Œæˆæ¨¡å—åˆ†æä¸åˆå¹¶æ“ä½œã€‚</p><p>ä¸ Tree-Shaking ç±»ä¼¼ï¼ŒScope Hoisting åº•å±‚åŸºäº ES Module æ–¹æ¡ˆçš„ <a href="https://stackoverflow.com/questions/52965907/what-is-the-meaning-of-static-import-in-es6" target="_blank" rel="noreferrer">é™æ€ç‰¹æ€§</a>ï¼Œæ¨æ–­æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå¹¶è¿›ä¸€æ­¥åˆ¤æ–­æ¨¡å—ä¸æ¨¡å—èƒ½å¦åˆå¹¶ï¼Œå› æ­¤åœ¨ä»¥ä¸‹åœºæ™¯ä¸‹ä¼šå¤±æ•ˆï¼š</p><blockquote><p>1ï¸âƒ£ <strong>é ESM æ¨¡å—</strong></p></blockquote><p>é‡åˆ° AMDã€CMD ä¸€ç±»æ¨¡å—æ—¶ï¼Œç”±äºå¯¼å…¥å¯¼å‡ºå†…å®¹çš„åŠ¨æ€æ€§ï¼ŒWebpack æ— æ³•ç¡®ä¿æ¨¡å—åˆå¹¶åä¸ä¼šäº§ç”Ÿæ„æ–™ä¹‹å¤–çš„å‰¯ä½œç”¨ï¼Œå› æ­¤ä¼šå…³é—­ Scope Hoisting åŠŸèƒ½ã€‚è¿™ä¸€é—®é¢˜åœ¨å¯¼å…¥ NPM åŒ…å°¤å…¶å¸¸è§ï¼Œè®¸å¤šæ¡†æ¶éƒ½ä¼šè‡ªè¡Œæ‰“åŒ…åå†ä¸Šä¼ åˆ° NPMï¼Œå¹¶ä¸”é»˜è®¤å¯¼å‡ºçš„æ˜¯å…¼å®¹æ€§æ›´ä½³çš„ CommonJS åŒ…ï¼Œå› è€Œæ— æ³•ä½¿ç”¨ Scope Hoisting åŠŸèƒ½ï¼Œæ­¤æ—¶å¯é€šè¿‡ <code>mainFileds</code> å±æ€§å°è¯•å¼•å…¥æ¡†æ¶çš„ ESM ç‰ˆæœ¬ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">resolve</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä¼˜å…ˆä½¿ç”¨ jsnext:main ä¸­æŒ‡å‘çš„ ES6 æ¨¡å—åŒ–è¯­æ³•çš„æ–‡ä»¶</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">mainFields</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsnext:main</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">browser</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><blockquote><p>2ï¸âƒ£ <strong>æ¨¡å—è¢«å¤šä¸ª Chunk å¼•ç”¨</strong></p></blockquote><p>å¦‚æœä¸€ä¸ªæ¨¡å—è¢«å¤šä¸ª Chunk åŒæ—¶å¼•ç”¨ï¼Œä¸ºé¿å…é‡å¤æ‰“åŒ…ï¼ŒScope Hoisting åŒæ ·ä¼šå¤±æ•ˆï¼Œä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// common.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// async.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> common </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// index.js </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> common </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./async</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>ç¤ºä¾‹ä¸­ï¼Œå…¥å£ <code>index.js</code> ä¸å¼‚æ­¥æ¨¡å— <code>async.js</code> åŒæ—¶ä¾èµ– <code>common.js</code> æ–‡ä»¶ï¼Œ<code>common.js</code> æ— æ³•è¢«åˆå¹¶å…¥ä»»ä¸€ Chunkï¼Œè€Œæ˜¯ä½œä¸ºç”Ÿæˆä¸ºå•ç‹¬çš„ä½œç”¨åŸŸï¼Œæœ€ç»ˆæ‰“åŒ…ç»“æœï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/common.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  (</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">__WEBPACK_DEFAULT_EXPORT__</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  (</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_common__WEBPACK_IMPORTED_MODULE_0__</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">__webpack_require__</span><span style="color:#F07178;">( </span><span style="color:#676E95;font-style:italic;">/*! ./common */</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/common.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">__webpack_require__</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">e</span><span style="color:#F07178;">( </span><span style="color:#676E95;font-style:italic;">/*! import() */</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src_async_js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__webpack_require__</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__webpack_require__</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">/*! ./async */</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/async.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span></code></pre></div><h2 id="ç›‘æ§äº§ç‰©ä½“ç§¯" tabindex="-1">ç›‘æ§äº§ç‰©ä½“ç§¯ <a class="header-anchor" href="#ç›‘æ§äº§ç‰©ä½“ç§¯" aria-label="Permalink to &quot;ç›‘æ§äº§ç‰©ä½“ç§¯&quot;">â€‹</a></h2><p>ç»¼åˆæœ€è¿‘å‡ ç« è®¨è®ºçš„ Code Splittingã€å‹ç¼©ã€ç¼“å­˜ä¼˜åŒ–ã€Tree-Shaking ç­‰æŠ€æœ¯ï¼Œä¸éš¾çœ‹å‡ºæ‰€è°“çš„åº”ç”¨æ€§èƒ½ä¼˜åŒ–å‡ ä¹éƒ½ä¸ç½‘ç»œæœ‰å…³ï¼Œè¿™æ˜¯å› ä¸ºç°ä»£è®¡ç®—æœºç½‘ç»œç¯å¢ƒéå¸¸å¤æ‚ã€ä¸ç¨³å®šï¼Œè™½ç„¶æœ‰å ªæ¯”æœ¬åœ°ç£ç›˜ååé€Ÿåº¦çš„ 5G ç½‘ç»œï¼Œä½†ä¹Ÿè¿˜å­˜åœ¨å¤§é‡ä½é€Ÿ 2Gã€3G ç½‘ç»œç”¨æˆ·ï¼Œæ•´ä½“è€Œè¨€é€šè¿‡ç½‘ç»œå®ç°å¼‚åœ°æ•°æ®äº¤æ¢ä¾ç„¶æ˜¯ä¸€ç§ç›¸å¯¹ä½æ•ˆçš„ IO æ‰‹æ®µï¼Œæœ‰å¯èƒ½æˆä¸º Web åº”ç”¨æ‰§è¡Œé“¾æ¡ä¸­æœ€å¤§çš„æ€§èƒ½ç“¶é¢ˆã€‚</p><p>å› æ­¤ï¼Œç«™åœ¨ç”Ÿäº§è€…è§’åº¦æˆ‘ä»¬æœ‰å¿…è¦å°½å¯èƒ½ä¼˜åŒ–ä»£ç åœ¨ç½‘ç»œä¸Šåˆ†å‘çš„æ•ˆç‡ï¼Œç”¨å°½å¯èƒ½å°‘çš„ç½‘ç»œæµé‡äº¤ä»˜åº”ç”¨åŠŸèƒ½ã€‚æ‰€å¹¸ Webpack ä¸“é—¨ä¸ºæ­¤æä¾›äº†ä¸€å¥— <a href="https://github.com/webpack/webpack/issues/3216" target="_blank" rel="noreferrer">æ€§èƒ½ç›‘æ§æ–¹æ¡ˆ</a>ï¼Œå½“æ„å»ºç”Ÿæˆçš„äº§ç‰©ä½“ç§¯è¶…è¿‡é˜ˆå€¼æ—¶æŠ›å‡ºå¼‚å¸¸è­¦å‘Šï¼Œä»¥æ­¤å¸®åŠ©æˆ‘ä»¬æ—¶åˆ»å…³æ³¨èµ„æºä½“ç§¯ï¼Œé¿å…å› é¡¹ç›®è¿­ä»£å¢é•¿å¸¦æ¥è¿‡å¤§çš„ç½‘ç»œä¼ è¾“ï¼Œç”¨æ³•ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-RAbNp" id="tab-q8wKkfY" checked="checked"><label for="tab-q8wKkfY">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">performance</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è®¾ç½®æ‰€æœ‰äº§ç‰©ä½“ç§¯é˜ˆå€¼</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">maxAssetSize</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">172</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è®¾ç½® entry äº§ç‰©ä½“ç§¯é˜ˆå€¼</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">maxEntrypointSize</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">244</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æŠ¥é”™æ–¹å¼ï¼Œæ”¯æŒ `error` | `warning` | false</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hints</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è¿‡æ»¤éœ€è¦ç›‘æ§çš„æ–‡ä»¶ç±»å‹</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">assetFilter</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">assetFilename</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">assetFilename</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">endsWith</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div><p>ğŸŒ° <a href="https://github1s.com/Tecvan-fe/webpack-book-samples/blob/main/perf-budget/webpack.config.js" target="_blank" rel="noreferrer">perf-budget - @github</a></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node:path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HtmlWebpackPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name]-[contenthash].js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clean</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">performance</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">maxAssetSize</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">172</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hints</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ä»£ç ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ./src/index.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(_</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>è‹¥æ­¤æ—¶äº§ç‰©ä½“ç§¯è¶…è¿‡ <code>172KB</code>ï¼Œåˆ™æŠ¥é”™ï¼š</p><p><img src="/awesome-node/assets/18-9.f20a7327.webp" alt="performance hints"></p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>è¿™é‡Œçš„æŠ¥é”™ä¸ä¼šé˜»æ–­æ„å»ºåŠŸèƒ½ï¼Œ ä¾ç„¶èƒ½æ­£å¸¸æ‰“åŒ…å‡ºåº”ç”¨äº§ç‰©ã€‚</p></div><p>é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥è®¾ç½®å¤šå¤§çš„é˜ˆå€¼å‘¢ï¼Ÿè¿™å–å†³äºé¡¹ç›®å…·ä½“åœºæ™¯ï¼Œä¸è¿‡ï¼Œä¸€ä¸ªæ¯”è¾ƒå¥½çš„ <a href="https://web.dev/your-first-performance-budget/#budget-for-quantity-based-metrics" target="_blank" rel="noreferrer">ç»éªŒæ³•åˆ™</a> æ˜¯ç¡®ä¿ <a href="https://web.dev/critical-rendering-path/" target="_blank" rel="noreferrer">å…³é”®è·¯å¾„</a> èµ„æºä½“ç§¯å§‹ç»ˆå°äº <code>170KB</code>ï¼Œè¶…è¿‡è¿™ä¸ªä½“ç§¯å°±åº”è¯¥ä½¿ç”¨ä¸Šé¢ä»‹ç»çš„è‹¥å¹²æ–¹æ³•åšå¥½è£å‰ªä¼˜åŒ–ã€‚</p><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p>å‹ç¼©ã€Tree-Shakingã€Scope Hoisting éƒ½åœ¨å‡å°‘äº§ç‰©ä½“ç§¯ï¼›Code Splittingã€å¤–ç½®ä¾èµ–ã€<code>[hash]</code> åˆ™æœ‰åŠ©äºæå‡ HTTP ç¼“å­˜æ•ˆç‡ï¼›åŠ¨æ€åŠ è½½åˆ™èƒ½å¤Ÿç¡®ä¿å…³é”®è·¯å¾„æœ€å°èµ„æºä¾èµ–ã€‚ç§ç§æªæ–½å„è‡ªä»ä¸åŒè§’åº¦åŠªåŠ›ä¼˜åŒ–åº”ç”¨ä»£ç åœ¨ç½‘ç»œä¸Šçš„åˆ†å‘æ•ˆç‡ï¼Œæ¯•ç«Ÿç½‘ç»œé€šè®¯æœ‰æ—¶å€™çœŸçš„å¾ˆè´µï¼</p><p>ä¸è¿‡è½¯ä»¶ä¸–ç•Œæ²¡æœ‰é“¶å¼¹ï¼Œè¿‡åº¦çš„ä¼˜åŒ–æœ‰æ—¶å€™å¯èƒ½å¸¦æ¥åæ•ˆæœï¼Œå»ºè®®å¤§å®¶å‚è€ƒ <a href="https://web.dev/vitals/" target="_blank" rel="noreferrer">Web Vitals</a> æ¨¡å‹ï¼Œå§‹ç»ˆå…³æ³¨ã€å¯¹æ¯”åº”ç”¨çš„çº¿ä¸Šè¡¨ç°ï¼Œç¡®ä¿æœ€ä½³ç”¨æˆ·ä½“éªŒã€‚</p><h2 id="æ€è€ƒé¢˜" tabindex="-1">æ€è€ƒé¢˜ <a class="header-anchor" href="#æ€è€ƒé¢˜" aria-label="Permalink to &quot;æ€è€ƒé¢˜&quot;">â€‹</a></h2><p>ä¸ºä½• Tree-Shaking å¼ºä¾èµ–äº ESM æ¨¡å—æ–¹æ¡ˆï¼ŸESM ä¸å…¶å®ƒæ–¹æ¡ˆå¦‚ AMDã€CMD ç­‰ï¼Œæœ‰ä½•åŒºåˆ«ï¼Ÿ</p><details class="details custom-block"><summary>chatgptå›ç­”</summary><blockquote><p>1ï¸âƒ£ ä¸ºä½• Tree-Shaking å¼ºä¾èµ–äº ESM æ¨¡å—æ–¹æ¡ˆï¼Ÿ</p></blockquote><p>JavaScript Tree-Shaking æ˜¯æŒ‡é€šè¿‡<strong>é™æ€åˆ†æ</strong>ï¼Œå»é™¤æœªè¢«ä½¿ç”¨çš„ä»£ç ï¼ˆé€šå¸¸æ˜¯å‡½æ•°æˆ–å˜é‡ï¼‰ï¼Œä»¥å‡å°‘ç”Ÿæˆçš„JavaScriptä»£ç é‡ã€‚</p><p>ESM (ES Modules) æ˜¯ä¸€ç§ECMAScriptè§„èŒƒï¼Œç”¨äºç»„ç»‡å’ŒåŠ è½½JavaScriptæ¨¡å—ã€‚ESMä¸­å®šä¹‰äº†â€œé™æ€è§£æâ€è§„åˆ™ï¼Œå³åœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¯ä¸ªæ¨¡å—æ‰€ä¾èµ–çš„å…¶ä»–æ¨¡å—ï¼Œè€Œä¸”è¿™äº›ä¾èµ–å…³ç³»ä¸ä¼šåœ¨è¿è¡Œæ—¶æ”¹å˜ã€‚è¿™ä½¿å¾—ESMå¯ä»¥åœ¨ç¼–è¯‘æ—¶å¯¹æ¨¡å—è¿›è¡Œé™æ€åˆ†æï¼Œæ‰¾å‡ºæœªè¢«ä½¿ç”¨çš„ä»£ç ï¼Œå¹¶å°†å…¶å‰”é™¤æ‰ã€‚</p><p>å› æ­¤ï¼ŒJavaScript Tree-Shakingå¼ºä¾èµ–äºESMæ¨¡å—æ–¹æ¡ˆï¼Œæ˜¯å› ä¸ºåªæœ‰ ESM æ‰èƒ½æä¾›é™æ€è§£æçš„ç‰¹æ€§ï¼Œæ‰èƒ½è®© Tree-Shaking èƒ½å¤Ÿæ­£ç¡®åœ°æ‰¾å‡ºæœªè¢«ä½¿ç”¨çš„ä»£ç å¹¶æ¶ˆé™¤å®ƒä»¬ã€‚è€Œ CommonJS å’Œ AMD ç­‰æ¨¡å—æ–¹æ¡ˆåˆ™æ— æ³•æä¾›è¿™æ ·çš„ç‰¹æ€§ï¼Œå› ä¸ºå®ƒä»¬å…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½æ¨¡å—ï¼Œå¯¼è‡´æ— æ³•åœ¨ç¼–è¯‘æ—¶ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä¹Ÿå°±éš¾ä»¥è¿›è¡Œé™æ€åˆ†æå’Œ Tree-Shakingã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¹¶éæ‰€æœ‰çš„ ESM å®ç°éƒ½èƒ½æ”¯æŒ Tree-Shakingã€‚ä¾‹å¦‚ï¼Œåœ¨ TypeScript ä¸­ä½¿ç”¨ ESM æ—¶ï¼Œå°±éœ€è¦å¼€å¯ &quot;module&quot;: &quot;esnext&quot; é€‰é¡¹ï¼Œä»¥ç¡®ä¿ç¼–è¯‘å™¨èƒ½å¤Ÿæ­£ç¡®åœ°è¿›è¡Œé™æ€åˆ†æå’Œ Tree-ShakingğŸ’¡ã€‚</p><blockquote><p>2ï¸âƒ£ESM ä¸å…¶å®ƒæ–¹æ¡ˆå¦‚ AMDã€CMD ç­‰ï¼Œæœ‰ä½•åŒºåˆ«ï¼Ÿ</p></blockquote><p>ESM (ES Modules)ã€AMDï¼ˆAsynchronous Module Definitionï¼‰å’Œ CMD ï¼ˆCommon Module Definitionï¼‰éƒ½æ˜¯ç”¨äºç»„ç»‡å’ŒåŠ è½½JavaScriptæ¨¡å—çš„æ–¹æ¡ˆã€‚å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä¸»è¦åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li>è¯­æ³•</li></ol><p>ESM çš„è¯­æ³•ä½¿ç”¨ <code>import</code> å’Œ <code>export</code> å…³é”®å­—æ¥å®šä¹‰æ¨¡å—ï¼Œè€Œ AMD å’Œ CMD åˆ™åˆ†åˆ«ä½¿ç”¨ <code>define</code> å’Œ <code>require</code> å‡½æ•°æ¥å®šä¹‰æ¨¡å—å’ŒåŠ è½½æ¨¡å—ã€‚</p><ol start="2"><li>ä¾èµ–å…³ç³»</li></ol><p>ESM å®šä¹‰çš„ä¾èµ–å…³ç³»æ˜¯é™æ€çš„ï¼Œåœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¯ä¸ªæ¨¡å—æ‰€ä¾èµ–çš„å…¶ä»–æ¨¡å—ï¼Œè€Œä¸”è¿™äº›ä¾èµ–å…³ç³»ä¸ä¼šåœ¨è¿è¡Œæ—¶æ”¹å˜ã€‚è€Œ AMD å’Œ CMD åˆ™å…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½æ¨¡å—ï¼Œå¯¼è‡´æ— æ³•åœ¨ç¼–è¯‘æ—¶ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ã€‚</p><ol start="3"><li>åŠ è½½æ–¹å¼</li></ol><p>ESM çš„åŠ è½½æ–¹å¼æ˜¯åŒæ­¥çš„ï¼Œå³é‡åˆ° <code>import</code> è¯­å¥æ—¶ä¼šç«‹å³åŠ è½½ä¾èµ–çš„æ¨¡å—ï¼Œè€Œ AMD å’Œ CMD åˆ™æ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—ã€‚</p><ol start="4"><li>å…¼å®¹æ€§</li></ol><p>ESM æ˜¯ ECMAScript è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œåœ¨ç°ä»£æµè§ˆå™¨ä¸­å¾—åˆ°äº†å¹¿æ³›æ”¯æŒã€‚è€Œ AMD å’Œ CMD åˆ™éœ€è¦é€šè¿‡åº“æˆ–æ¡†æ¶çš„æ”¯æŒæ‰èƒ½è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒESM ç›¸æ¯”äº AMD å’Œ CMDï¼Œå…·æœ‰æ›´ä¸ºç®€æ´çš„è¯­æ³•ã€æ›´ä¸ºæ˜ç¡®çš„ä¾èµ–å…³ç³»å’Œæ›´ä¸ºé«˜æ•ˆçš„åŠ è½½æ–¹å¼ã€‚åŒæ—¶ï¼ŒESM è¿˜å¯ä»¥è¿›è¡Œé™æ€åˆ†æå’Œ Tree-Shaking ä¼˜åŒ–ï¼Œè¿™ä½¿å¾— ESM æˆä¸ºäº†ç›®å‰æœ€ä¸ºæµè¡Œçš„ JavaScript æ¨¡å—æ–¹æ¡ˆä¹‹ä¸€ã€‚</p></details><p>2023å¹´04æœˆ13æ—¥14:34:20</p></div></div></main><footer class="VPDocFooter" data-v-9f12d96c data-v-cf20ad54><!--[--><!--]--><div class="edit-info" data-v-cf20ad54><div class="edit-link" data-v-cf20ad54><a class="VPLink link edit-link-button" href="https://github.com/jamessawyer/awesome-node/edit/main/docs/book/webpack/18.md" target="_blank" rel="noreferrer" data-v-cf20ad54 data-v-fb754a61><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-cf20ad54><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> åœ¨GitHubç¼–è¾‘æ­¤é¡µ<!--]--><!----></a></div><div class="last-updated" data-v-cf20ad54><p class="VPLastUpdated" data-v-cf20ad54 data-v-080fba91>Last updated: <time datetime="2023-04-17T06:10:06.000Z" data-v-080fba91></time></p></div></div><div class="prev-next" data-v-cf20ad54><div class="pager" data-v-cf20ad54><a class="pager-link prev" href="/awesome-node/book/webpack/16.html" data-v-cf20ad54><span class="desc" data-v-cf20ad54>Previous page</span><span class="title" data-v-cf20ad54>16.ä½¿ç”¨SplitChunkæå‡æ€§èƒ½âš¡</span></a></div><div class="has-prev pager" data-v-cf20ad54><!----></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blog_resource_basic.md\":\"f3eed286\",\"blog_first.md\":\"535e1a03\",\"blog_resource_advanced.md\":\"3260ab2b\",\"blog_misc_ts-and-express.md\":\"91e01928\",\"blog_misc_module.md\":\"587917a9\",\"blog_dive_index.md\":\"3b7da6b7\",\"book_patterns_module-system_index.md\":\"2e602eff\",\"book_patterns_module-system_module-define-patterns.md\":\"2fd57183\",\"book_patterns_module-system_module-system-in-js-and-node.md\":\"28d43869\",\"book_patterns_module-system_summary.md\":\"87aee7a2\",\"book_patterns_module-system_the-module-system-and-its-patterns.md\":\"4177fd85\",\"book_patterns_module-system_the-need-for-modules.md\":\"f8ad5c2f\",\"book_patterns_the-module-system.md\":\"ad482f56\",\"book_patterns_the-node-platform.md\":\"97fe1416\",\"book_babel_2.md\":\"0ddc770a\",\"book_vite_1.md\":\"f9b52f68\",\"book_vite_10.md\":\"42652e1e\",\"book_patterns_module-system_commonjs-modules.md\":\"29691db4\",\"book_vite_14.md\":\"c7749539\",\"book_babel_3.md\":\"06f75f00\",\"book_babel_4.md\":\"3a74ee5b\",\"book_babel_6.md\":\"abe46d44\",\"blog_translate_file-system-paths.md\":\"9f26515f\",\"book_vite_11.md\":\"95e67125\",\"book_patterns_module-system_esm.md\":\"bbfdb0d6\",\"book_webpack_16.md\":\"0c9be86b\",\"book_webpack_18.md\":\"fd07702e\",\"book_webpack_2.md\":\"30f6571c\",\"book_webpack_3.md\":\"0f75d2ab\",\"manager_basic.md\":\"96131f3b\",\"blog_translate_fs-in-node.md\":\"928eccdc\",\"book_babel_1.md\":\"cdde9a07\",\"book_vite_15.md\":\"ce707933\",\"lib_fs-extra_writejson.md\":\"0e8fe3ab\",\"book_vite_12.md\":\"e60d95f3\",\"book_babel_5.md\":\"2953db2a\",\"book_patterns_module-system_esm-cjs-interoperability.md\":\"a88f4751\",\"book_vite_17.md\":\"fa359671\",\"book_vite_18.md\":\"59d5461e\",\"book_vite_19.md\":\"c796b54b\",\"book_vite_2.md\":\"08815375\",\"book_vite_3.md\":\"9f195094\",\"book_vite_4.md\":\"ef1f82fe\",\"book_vite_7.md\":\"478c5381\",\"blog_translate_web-streams-on-node.md\":\"84401eec\",\"book_vite_8.md\":\"c1125057\",\"book_vite_9.md\":\"a165979b\",\"book_webpack_1.md\":\"4319af15\",\"book_webpack_10.md\":\"a158e20a\",\"book_webpack_11.md\":\"2905fe89\",\"book_webpack_13.md\":\"9d68172a\",\"book_webpack_15.md\":\"3208d8ad\",\"book_webpack_index.md\":\"984e3aab\",\"core_events_index.md\":\"b2e89c86\",\"core_stream_index.md\":\"292fc0fd\",\"core_stream_stream-in-practice.md\":\"71d95cc9\",\"core_stream_stream-visualization.md\":\"27c1323c\",\"framework_nestjs_index.md\":\"60c758c4\",\"index.md\":\"09223d06\",\"lib_fs-extra_copy.md\":\"cb55fc9d\",\"lib_fs-extra_emptydir.md\":\"5ecccd69\",\"lib_fs-extra_ensuredir.md\":\"47ba3eda\",\"lib_fs-extra_ensurefile.md\":\"2b5c42bb\",\"lib_fs-extra_ensurelink.md\":\"bc133d29\",\"lib_fs-extra_ensuresymlink.md\":\"e21abebd\",\"lib_fs-extra_fs-write-read-writev.md\":\"5f3dccfb\",\"lib_fs-extra_index.md\":\"d0f3909d\",\"lib_fs-extra_move.md\":\"b48d547e\",\"lib_fs-extra_outputfile.md\":\"e359a5ad\",\"lib_fs-extra_outputjson.md\":\"c7343e90\",\"lib_fs-extra_pathexists.md\":\"78751514\",\"lib_fs-extra_remove.md\":\"71f6d73a\",\"manager_babel.md\":\"fb77e7b5\",\"lib_fs-extra_readjson.md\":\"3020687d\",\"manager_webpack.md\":\"c99d4939\",\"v18doc_file-system.md\":\"401c0228\",\"v18doc_path.md\":\"ccb0f3b2\",\"manager_recipe.md\":\"4ae8688a\",\"book_patterns_callback-and-events.md\":\"35cdba8b\",\"book_babel_index.md\":\"ec300df9\",\"framework_express_index.md\":\"736961c0\",\"manager_vite.md\":\"08b58953\",\"book_vite_16.md\":\"20b12454\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Awesome Node\",\"description\":\"Node + Vite + Webpack + Babel\",\"base\":\"/awesome-node/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"outlineTitle\":\"ç›®å½•\",\"outline\":[2,3],\"editLink\":{\"text\":\"åœ¨GitHubç¼–è¾‘æ­¤é¡µ\",\"pattern\":\"https://github.com/jamessawyer/awesome-node/edit/main/docs/:path\"},\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"ğŸ“„Nodeæ–‡æ¡£\",\"activeMatch\":\"^/v18doc/\",\"link\":\"/v18doc/File-System\"},{\"text\":\"ğŸ“¦å·¥ç¨‹åŒ–\",\"link\":\"/manager/basic\"},{\"text\":\"ğŸ’«æ ¸å¿ƒæ¦‚å¿µ\",\"link\":\"/core/stream/index\"},{\"text\":\"ğŸ¤”blog\",\"link\":\"/blog/first\"},{\"text\":\"ğŸ“šä¹¦ç±\",\"items\":[{\"text\":\"Node Design Patterns\",\"link\":\"/book/patterns/the-node-platform\"},{\"text\":\"æ·±å…¥ç†è§£Vite\",\"link\":\"/book/vite/2\"},{\"text\":\"Webpack5æ ¸å¿ƒåŸç†\",\"link\":\"/book/webpack/1\"},{\"text\":\"Babelæ’ä»¶ç§˜ç±\",\"link\":\"/book/babel/2\"}]},{\"text\":\"ğŸ§‘â€ğŸš€æ¡†æ¶\",\"items\":[{\"text\":\"NestJS\",\"link\":\"/framework/nestjs/index\"},{\"text\":\"Express\",\"link\":\"/framework/express/index\"}]},{\"text\":\"ğŸ”¥å¸¸ç”¨åº“\",\"items\":[{\"text\":\"fs-extra\",\"link\":\"/lib/fs-extra/index\"}]}],\"sidebar\":{\"/v18doc/\":[{\"text\":\"Node v18.x ä¸­æ–‡æ–‡æ¡£\",\"items\":[{\"text\":\"File System\",\"link\":\"/v18doc/File-System\"},{\"text\":\"Path\",\"link\":\"/v18doc/Path\"}]}],\"/manager/\":[{\"text\":\"åŸºç¡€çŸ¥è¯†\",\"items\":[{\"text\":\"package.json\",\"link\":\"/manager/basic\"},{\"text\":\"Viteå­¦ä¹ \",\"link\":\"/manager/vite\"},{\"text\":\"Webpackå­¦ä¹ \",\"link\":\"/manager/webpack\"},{\"text\":\"babelç”Ÿæ€\",\"link\":\"/manager/babel\"}]},{\"text\":\"Recipe\",\"items\":[{\"text\":\"Nodeèµ„æº\",\"link\":\"/manager/recipe\"}]}],\"/core/\":[{\"text\":\"EventEmitter\",\"collapsible\":true,\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/core/events/index\"}]},{\"text\":\"Streams\",\"collapsible\":true,\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/core/stream/index\"},{\"text\":\"âš¡Streamå›¾è§£\",\"link\":\"/core/stream/stream-visualization\"},{\"text\":\"âš¡Streamå®æˆ˜\",\"link\":\"/core/stream/stream-in-practice\"}]}],\"/blog/\":[{\"text\":\"èµ„æº\",\"items\":[{\"text\":\"Advanced\",\"link\":\"/blog/resource/advanced\"}]},{\"text\":\"ğŸš€ å¥½æ–‡ç¿»è¯‘\",\"collapsible\":true,\"items\":[{\"text\":\"Path & URLçš„ç”¨æ³•\",\"link\":\"/blog/translate/file-system-paths\"},{\"text\":\"FS in Node\",\"link\":\"/blog/translate/fs-in-node\"},{\"text\":\"Web Streams on Node\",\"link\":\"/blog/translate/web-streams-on-node\"}]},{\"text\":\"MISC\",\"collapsible\":true,\"items\":[{\"text\":\"ESM & CJSæ¨¡å—\",\"link\":\"/blog/misc/module\"},{\"text\":\"Express + typescriptè®¾ç½®\",\"link\":\"/blog/misc/ts-and-express\"}]}],\"/book/patterns\":[{\"text\":\"Nodeè®¾è®¡æ¨¡å¼\",\"items\":[{\"text\":\"the node platform\",\"link\":\"/book/patterns/the-node-platform\"},{\"text\":\"callback and events\",\"link\":\"/book/patterns/callback-and-events\"}]},{\"text\":\"â…¡.æ¨¡å—ç³»ç»Ÿ\",\"collapsible\":true,\"items\":[{\"text\":\"ä»‹ç»\",\"link\":\"/book/patterns/module-system/index\"},{\"text\":\"æ¨¡å—ç³»ç»Ÿçš„å¿…è¦æ€§\",\"link\":\"/book/patterns/module-system/the-need-for-modules\"},{\"text\":\"JSå’ŒNodeä¸­çš„æ¨¡å—ç³»ç»Ÿ\",\"link\":\"/book/patterns/module-system/module-system-in-js-and-node\"},{\"text\":\"æ¨¡å—ç³»ç»Ÿå’Œå…¶æ¨¡å¼\",\"link\":\"/book/patterns/module-system/the-module-system-and-its-patterns\"},{\"text\":\"âš¡CommonJSæ¨¡å—\",\"link\":\"/book/patterns/module-system/commonjs-modules\"},{\"text\":\"ğŸ™†â€â™€ï¸CommonJSæ¨¡å—å¸¸ç”¨æ¨¡å¼å®šä¹‰\",\"link\":\"/book/patterns/module-system/module-define-patterns\"},{\"text\":\"ğŸš€ESM\",\"link\":\"/book/patterns/module-system/esm\"},{\"text\":\"ğŸš€ESMå’ŒCJSå·®å¼‚å’Œäº’æ“æ€§\",\"link\":\"/book/patterns/module-system/esm-cjs-interoperability\"},{\"text\":\"æ€»ç»“\",\"link\":\"/book/patterns/module-system/summary\"}]}],\"/book/vite\":[{\"text\":\"ğŸ”§æ·±å…¥ç†è§£Vite\",\"items\":[{\"text\":\"1.Viteå¼€ç¯‡\",\"link\":\"/book/vite/1\"},{\"text\":\"2.æ¨¡å—æ ‡å‡†\",\"link\":\"/book/vite/2\"},{\"text\":\"3.å¿«é€Ÿä¸Šæ‰‹Vite\",\"link\":\"/book/vite/3\"},{\"text\":\"4.æ ·å¼æ–¹æ¡ˆ\",\"link\":\"/book/vite/4\"},{\"text\":\"7.é¢„æ„å»º\",\"link\":\"/book/vite/7\"},{\"text\":\"8.åŒå¼•æ“æ¶æ„\",\"link\":\"/book/vite/8\"},{\"text\":\"9.æ€§èƒ½æ¨æ‰‹: Esbuild\",\"link\":\"/book/vite/9\"},{\"text\":\"10.RollupåŸºæœ¬ç”¨æ³•\",\"link\":\"/book/vite/10\"},{\"text\":\"11.æ·±å…¥ç†è§£Rollupæ’ä»¶æœºåˆ¶\",\"link\":\"/book/vite/11\"},{\"text\":\"12.Viteæ’ä»¶å¼€å‘\",\"link\":\"/book/vite/12\"},{\"text\":\"14.ä»£ç åˆ†å‰²\",\"link\":\"/book/vite/14\"},{\"text\":\"15.Polyfillå’Œè¯­æ³•é™çº§\",\"link\":\"/book/vite/15\"},{\"text\":\"16.Viteæ­å»ºSSRå·¥ç¨‹\",\"link\":\"/book/vite/16\"},{\"text\":\"17.è”é‚¦æ¨¡å—ä»¥åŠåŸç†\",\"link\":\"/book/vite/17\"},{\"text\":\"18.Pure ESMæ—¶ä»£\",\"link\":\"/book/vite/18\"},{\"text\":\"19.ç³»ç»Ÿå¯¹Viteé¡¹ç›®æ€§èƒ½ä¼˜åŒ–\",\"link\":\"/book/vite/19\"}]}],\"/book/webpack\":[{\"text\":\"Webpack5æ ¸å¿ƒåŸç†ä¸å®è·µ\",\"items\":[{\"text\":\"1.é‡æ–°è®¤è¯†Webpack\",\"link\":\"/book/webpack/1\"},{\"text\":\"2.å¦‚ä½•ç†è§£Webpacké…ç½®åº•å±‚ç»“æ„é€»è¾‘ï¼Ÿ\",\"link\":\"/book/webpack/2\"},{\"text\":\"3.é…ç½®Babel+TS+ESLintï¼Ÿ\",\"link\":\"/book/webpack/3\"},{\"text\":\"10.æ·±å…¥ç†è§£å›¾åƒåŠ è½½åŸç†å’Œæœ€ä½³å®è·µ\",\"link\":\"/book/webpack/10\"},{\"text\":\"11.æ·±å…¥ç†è§£webpackæ ¸å¿ƒé…ç½®ğŸ“š\",\"link\":\"/book/webpack/11\"},{\"text\":\"13.å¦‚ä½•ä½¿ç”¨webpackç¼“å­˜æå‡æ€§èƒ½âš¡\",\"link\":\"/book/webpack/13\"},{\"text\":\"15.å¼€å‘æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡\",\"link\":\"/book/webpack/15\"},{\"text\":\"16.ä½¿ç”¨SplitChunkæå‡æ€§èƒ½âš¡\",\"link\":\"/book/webpack/16\"},{\"text\":\"18.åº”ç”¨æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡\",\"link\":\"/book/webpack/18\"}]}],\"/book/babel\":[{\"text\":\"Babelæ’ä»¶ç§˜ç±\",\"items\":[{\"text\":\"1.Babelçš„ä»‹ç»\",\"link\":\"/book/babel/1\"},{\"text\":\"2.Babelçš„ç¼–è¯‘æµç¨‹\",\"link\":\"/book/babel/2\"},{\"text\":\"3.Babelçš„AST\",\"link\":\"/book/babel/3\"},{\"text\":\"4.Babelçš„API\",\"link\":\"/book/babel/4\"},{\"text\":\"5.å®æˆ˜ï¼šæ’å…¥å‡½æ•°è°ƒç”¨å‚æ•°\",\"link\":\"/book/babel/5\"},{\"text\":\"6.JS Parserçš„å†å²\",\"link\":\"/book/babel/6\"}]}],\"/lib/fs-extra\":[{\"text\":\"fs-extra\",\"items\":[{\"text\":\"README\",\"link\":\"/lib/fs-extra/index\"},{\"text\":\"copy\",\"link\":\"/lib/fs-extra/copy\"},{\"text\":\"emptyDir\",\"link\":\"/lib/fs-extra/emptyDir\"},{\"text\":\"ensureFile\",\"link\":\"/lib/fs-extra/ensureFile\"},{\"text\":\"ensureDir\",\"link\":\"/lib/fs-extra/ensureDir\"},{\"text\":\"ensureLink\",\"link\":\"/lib/fs-extra/ensureLink\"},{\"text\":\"ensureSymlink\",\"link\":\"/lib/fs-extra/ensureSymlink\"},{\"text\":\"move\",\"link\":\"/lib/fs-extra/move\"},{\"text\":\"outputFile\",\"link\":\"/lib/fs-extra/outputFile\"},{\"text\":\"pathExists\",\"link\":\"/lib/fs-extra/pathExists\"},{\"text\":\"readJson\",\"link\":\"/lib/fs-extra/readJson\"},{\"text\":\"remove\",\"link\":\"/lib/fs-extra/remove\"},{\"text\":\"outputJson\",\"link\":\"/lib/fs-extra/outputJson\"},{\"text\":\"writeJson\",\"link\":\"/lib/fs-extra/writeJson\"},{\"text\":\"fs-write-read-writev\",\"link\":\"/lib/fs-extra/fs-write-read-writev\"}]}],\"/framework/nestjs\":[{\"text\":\"å­¦ä¹ NestJS\",\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/framework/nestjs/index\"}]}],\"/framework/express\":[{\"text\":\"Learn ExpressJS\",\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/framework/express/index\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>