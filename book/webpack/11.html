<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ·±å…¥ç†è§£webpackæ ¸å¿ƒé…ç½®ç»“æ„ | Awesome Node</title>
    <meta name="description" content="Node + Vite + Webpack + Babel">
    <link rel="preload stylesheet" href="/awesome-node/assets/style.c3d03669.css" as="style">
    <script type="module" src="/awesome-node/assets/app.8baa6b9f.js"></script>
    <link rel="preload" href="/awesome-node/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/framework.478efc10.js">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/theme.455236a9.js">
  <link rel="modulepreload" href="/awesome-node/assets/chunks/2-2.d082000c.js">
  <link rel="modulepreload" href="/awesome-node/assets/book_webpack_11.md.a0d3adda.lean.js">
  <link rel="icon" href="/awesome-node/favicon.ico">
  <link rel="apple-touch-icon" href="/awesome-node/pwa-192x192.png" sizes="192x192">
  <meta name="keywords" content="Node, Vite, Webpack, Babel">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <link rel="manifest" href="/awesome-node/manifest.webmanifest">
  <script id="vite-plugin-pwa:register-sw" src="/awesome-node/registerSW.js"></script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-23334a44><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d5606cd8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-d5606cd8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-23334a44 data-v-aa32f88b><div class="VPNavBar has-sidebar" data-v-aa32f88b data-v-f70509b3><div class="container" data-v-f70509b3><div class="title" data-v-f70509b3><div class="VPNavBarTitle has-sidebar" data-v-f70509b3 data-v-d0195d0a><a class="title" href="/awesome-node/" data-v-d0195d0a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/awesome-node/logo.svg" alt data-v-7ea26994><!--]--><!--[-->Awesome Node<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f70509b3><div class="curtain" data-v-f70509b3></div><div class="content-body" data-v-f70509b3><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-f70509b3><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f70509b3 data-v-e7e0ffd3><span id="main-nav-aria-label" class="visually-hidden" data-v-e7e0ffd3>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/v18doc/File-System.html" tabindex="0" data-v-e7e0ffd3 data-v-ca5c29cf data-v-52f17e44><!--[-->ğŸ“„Nodeæ–‡æ¡£<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/manager/basic.html" tabindex="0" data-v-e7e0ffd3 data-v-ca5c29cf data-v-52f17e44><!--[-->ğŸ“¦å·¥ç¨‹åŒ–<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/core/stream/index.html" tabindex="0" data-v-e7e0ffd3 data-v-ca5c29cf data-v-52f17e44><!--[-->ğŸ’«æ ¸å¿ƒæ¦‚å¿µ<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/awesome-node/blog/first.html" tabindex="0" data-v-e7e0ffd3 data-v-ca5c29cf data-v-52f17e44><!--[-->ğŸ¤”blog<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e7e0ffd3 data-v-292c47d8><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-292c47d8><span class="text" data-v-292c47d8><!----> ğŸ“šä¹¦ç± <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-292c47d8><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-292c47d8><div class="VPMenu" data-v-292c47d8 data-v-8c1a5497><div class="items" data-v-8c1a5497><!--[--><!--[--><div class="VPMenuLink" data-v-8c1a5497 data-v-978cb232><a class="VPLink link" href="/awesome-node/book/patterns/the-node-platform.html" data-v-978cb232 data-v-52f17e44><!--[-->Node Design Patterns<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8c1a5497 data-v-978cb232><a class="VPLink link" href="/awesome-node/book/vite/2.html" data-v-978cb232 data-v-52f17e44><!--[-->æ·±å…¥ç†è§£Vite<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8c1a5497 data-v-978cb232><a class="VPLink link" href="/awesome-node/book/webpack/1.html" data-v-978cb232 data-v-52f17e44><!--[-->Webpack5æ ¸å¿ƒåŸç†<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8c1a5497 data-v-978cb232><a class="VPLink link" href="/awesome-node/book/babel/2.html" data-v-978cb232 data-v-52f17e44><!--[-->Babelæ’ä»¶ç§˜ç±<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e7e0ffd3 data-v-292c47d8><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-292c47d8><span class="text" data-v-292c47d8><!----> ğŸ§‘â€ğŸš€æ¡†æ¶ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-292c47d8><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-292c47d8><div class="VPMenu" data-v-292c47d8 data-v-8c1a5497><div class="items" data-v-8c1a5497><!--[--><!--[--><div class="VPMenuLink" data-v-8c1a5497 data-v-978cb232><a class="VPLink link" href="/awesome-node/framework/nestjs/index.html" data-v-978cb232 data-v-52f17e44><!--[-->NestJS<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8c1a5497 data-v-978cb232><a class="VPLink link" href="/awesome-node/framework/express/index.html" data-v-978cb232 data-v-52f17e44><!--[-->Express<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e7e0ffd3 data-v-292c47d8><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-292c47d8><span class="text" data-v-292c47d8><!----> ğŸ”¥å¸¸ç”¨åº“ <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-292c47d8><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-292c47d8><div class="VPMenu" data-v-292c47d8 data-v-8c1a5497><div class="items" data-v-8c1a5497><!--[--><!--[--><div class="VPMenuLink" data-v-8c1a5497 data-v-978cb232><a class="VPLink link" href="/awesome-node/lib/fs-extra/index.html" data-v-978cb232 data-v-52f17e44><!--[-->fs-extra<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f70509b3 data-v-96901fe5><label title="toggle dark mode" data-v-96901fe5 data-v-662f673d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-662f673d data-v-2aee3077><span class="check" data-v-2aee3077><span class="icon" data-v-2aee3077><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-662f673d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-662f673d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-f70509b3 data-v-98170010 data-v-292c47d8><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-292c47d8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-292c47d8><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-292c47d8><div class="VPMenu" data-v-292c47d8 data-v-8c1a5497><!----><!--[--><!--[--><!----><div class="group" data-v-98170010><div class="item appearance" data-v-98170010><p class="label" data-v-98170010>Appearance</p><div class="appearance-action" data-v-98170010><label title="toggle dark mode" data-v-98170010 data-v-662f673d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-662f673d data-v-2aee3077><span class="check" data-v-2aee3077><span class="icon" data-v-2aee3077><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-662f673d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-662f673d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f70509b3 data-v-501459e9><span class="container" data-v-501459e9><span class="top" data-v-501459e9></span><span class="middle" data-v-501459e9></span><span class="bottom" data-v-501459e9></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-23334a44 data-v-a127f953><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a127f953><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a127f953><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a127f953>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a127f953 data-v-8da8a171><button data-v-8da8a171>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-23334a44 data-v-203d78cc><div class="curtain" data-v-203d78cc></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-203d78cc><span class="visually-hidden" id="sidebar-aria-label" data-v-203d78cc> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-203d78cc><section class="VPSidebarItem level-0 has-active" data-v-203d78cc data-v-b9962ca2><div class="item" role="button" tabindex="0" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><h2 class="text" data-v-b9962ca2>Webpack5æ ¸å¿ƒåŸç†ä¸å®è·µ</h2><!----></div><div class="items" data-v-b9962ca2><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/1.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>1.é‡æ–°è®¤è¯†Webpack</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/2.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>2.å¦‚ä½•ç†è§£Webpacké…ç½®åº•å±‚ç»“æ„é€»è¾‘ï¼Ÿ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/3.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>3.é…ç½®Babel+TS+ESLintï¼Ÿ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/10.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>10.æ·±å…¥ç†è§£å›¾åƒåŠ è½½åŸç†å’Œæœ€ä½³å®è·µ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/11.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>11.æ·±å…¥ç†è§£webpackæ ¸å¿ƒé…ç½®ğŸ“š</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/12.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>12.æ€§èƒ½ï¼š7æ¬¾æ€§èƒ½åˆ†æå·¥å…·âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/13.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>13.å¦‚ä½•ä½¿ç”¨webpackç¼“å­˜æå‡æ€§èƒ½âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/14.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>14.webpackå¹¶è¡Œæ„å»ºæ–¹å¼âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/15.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>15.å¼€å‘æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/16.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>16.ä½¿ç”¨SplitChunkæå‡æ€§èƒ½âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/17.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>17.ä¸æ­¢Terser: ä»£ç å‹ç¼©çš„é—¨é—¨é“é“âš¡</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b9962ca2 data-v-b9962ca2><div class="item" data-v-b9962ca2><div class="indicator" data-v-b9962ca2></div><a class="VPLink link link" href="/awesome-node/book/webpack/18.html" data-v-b9962ca2 data-v-52f17e44><!--[--><p class="text" data-v-b9962ca2>18.åº”ç”¨æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-23334a44 data-v-5c5fecf1><div class="VPDoc has-sidebar has-aside" data-v-5c5fecf1 data-v-d014534d><!--[--><!--]--><div class="container" data-v-d014534d><div class="aside" data-v-d014534d><div class="aside-curtain" data-v-d014534d></div><div class="aside-container" data-v-d014534d><div class="aside-content" data-v-d014534d><div class="VPDocAside" data-v-d014534d data-v-8ff841e3><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-8ff841e3 data-v-54228c84><div class="content" data-v-54228c84><div class="outline-marker" data-v-54228c84></div><div class="outline-title" data-v-54228c84>ç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-54228c84><span class="visually-hidden" id="doc-outline-aria-label" data-v-54228c84> Table of Contents for current page </span><ul class="root" data-v-54228c84 data-v-971c790f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-8ff841e3></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d014534d><div class="content-container" data-v-d014534d><!--[--><!--]--><!----><main class="main" data-v-d014534d><div style="position:relative;" class="vp-doc _awesome-node_book_webpack_11" data-v-d014534d><div><p>Webpack æ˜¯ä¸€ç§ <strong>ã€Œé…ç½®ã€</strong> é©±åŠ¨çš„æ„å»ºå·¥å…·ï¼Œæ‰€ä»¥ç«™åœ¨åº”ç”¨çš„è§’åº¦ï¼Œå¿…é¡»æ·±å…¥å­¦ä¹  Webpack çš„å„é¡¹é…ç½®è§„åˆ™ï¼Œæ‰èƒ½çµæ´»åº”å¯¹å„ç§æ„å»ºéœ€æ±‚ã€‚æœ¬æ–‡å°†ä½œä¸ºå°å†Œåº”ç”¨ç³»åˆ—çš„ä¸€ä¸ªæ€»ç»“ï¼Œæ±‡æ€»ä¸åº”ç”¨é…ç½®ç›¸å…³çš„å„é¡¹çŸ¥è¯†ç‚¹ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>å‰–æé…ç½®ç»“æ„è§„åˆ™ï¼Œè§£é‡Š<code>å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°</code>ä¸‰ç§å½¢æ€çš„å†™æ³•ï¼Œä»¥åŠå„è‡ªåº”å¯¹çš„åœºæ™¯ï¼›</li><li>è¯¦ç»†è®²è§£ç¯å¢ƒæ²»ç†çš„æ„ä¹‰ï¼Œä»¥åŠå¦‚ä½•å€ŸåŠ©<code>å¤šæ–‡ä»¶</code>å®ç°ç¯å¢ƒæ²»ç†ï¼›</li><li>å®Œæ•´ã€æ¸…æ™°åœ°ä»‹ç»è‹¥å¹²æ ¸å¿ƒé…ç½®é¡¹ï¼š<code>entry/output/target/mode</code>ï¼Œå¸®åŠ©ä½ æ›´æ·±å…¥ç†è§£é…ç½®è§„åˆ™ã€‚</li></ul><h2 id="é…ç½®ç»“æ„è¯¦è§£" tabindex="-1">é…ç½®ç»“æ„è¯¦è§£ <a class="header-anchor" href="#é…ç½®ç»“æ„è¯¦è§£" aria-label="Permalink to &quot;é…ç½®ç»“æ„è¯¦è§£&quot;">â€‹</a></h2><p>åœ¨å‰é¢ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†è®¸å¤š Webpack é…ç½®ç¤ºä¾‹ï¼Œå…¶å¤§å¤šæ•°éƒ½ä»¥å•æ–‡ä»¶å¯¼å‡ºå•ä¸ªé…ç½®å¯¹è±¡æ–¹å¼å®ç°ï¼Œç±»ä¼¼ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å…¶ä»–é…ç½®...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>å®é™…ä¸Šï¼ŒWebpack è¿˜æ”¯æŒä»¥æ•°ç»„ã€å‡½æ•°æ–¹å¼é…ç½®è¿è¡Œå‚æ•°ï¼Œä»¥é€‚é…ä¸åŒåœºæ™¯åº”ç”¨éœ€æ±‚ï¼Œå®ƒä»¬ä¹‹é—´å¤§è‡´ä¸ŠåŒºåˆ«ï¼š</p><ul><li><strong>å•ä¸ªé…ç½®å¯¹è±¡</strong>ï¼šæ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§æ–¹å¼ï¼Œé€»è¾‘ç®€å•ï¼Œé€‚åˆå¤§å¤šæ•°ä¸šåŠ¡é¡¹ç›®ï¼›</li><li><strong>é…ç½®å¯¹è±¡æ•°ç»„</strong>ï¼šæ¯ä¸ªæ•°ç»„é¡¹éƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„é…ç½®å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½ä¼šè§¦å‘ä¸€æ¬¡å•ç‹¬çš„æ„å»ºï¼Œé€šå¸¸ç”¨äºéœ€è¦ä¸ºåŒä¸€ä»½ä»£ç æ„å»ºå¤šç§äº§ç‰©çš„åœºæ™¯ï¼Œå¦‚ <code>Library</code>ï¼›</li><li><strong>å‡½æ•°</strong>ï¼šWebpack å¯åŠ¨æ—¶ä¼šæ‰§è¡Œè¯¥å‡½æ•°è·å–é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°ä¸­æ ¹æ®ç¯å¢ƒå‚æ•°(å¦‚ <code>NODE_ENV</code>)åŠ¨æ€è°ƒæ•´é…ç½®å¯¹è±¡ã€‚</li></ul><p>ä¸‹é¢æˆ‘ä»¬ç€é‡ä»‹ç»æ•°ç»„ã€å‡½æ•°ä¸¤ç§æ–¹å¼ã€‚</p><h3 id="ä½¿ç”¨é…ç½®æ•°ç»„" tabindex="-1">ä½¿ç”¨é…ç½®æ•°ç»„ <a class="header-anchor" href="#ä½¿ç”¨é…ç½®æ•°ç»„" aria-label="Permalink to &quot;ä½¿ç”¨é…ç½®æ•°ç»„&quot;">â€‹</a></h3><p>å¯¼å‡ºæ•°ç»„çš„æ–¹å¼å¾ˆç®€å•ï¼Œå¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-dzAOt" id="tab-LJMKF7V" checked="checked"><label for="tab-LJMKF7V">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span></code></pre></div></div></div><p>ä½¿ç”¨æ•°ç»„æ–¹å¼æ—¶ï¼ŒWebpack ä¼šåœ¨å¯åŠ¨ååˆ›å»ºå¤šä¸ª <code>Compilation</code> å®ä¾‹ï¼Œå¹¶è¡Œæ‰§è¡Œæ„å»ºå·¥ä½œï¼Œä½†éœ€è¦æ³¨æ„ï¼Œ<code>Compilation</code> å®ä¾‹é—´åŸºæœ¬ä¸Šä¸ä½œé€šè®¯ï¼Œè¿™æ„å‘³ç€è¿™ç§å¹¶è¡Œæ„å»ºå¯¹è¿è¡Œæ€§èƒ½å¹¶æ²¡æœ‰ä»»ä½•æ­£å‘æ”¶ç›Šï¼Œä¾‹å¦‚æŸä¸ª Module åœ¨ <code>Compilation</code> å®ä¾‹ A ä¸­å®Œæˆè§£æã€æ„å»ºåï¼Œåœ¨å…¶å®ƒ <code>Compilation</code> ä¸­ä¾ç„¶éœ€è¦å®Œæ•´ç»å†æ„å»ºæµç¨‹ï¼Œæ— æ³•ç›´æ¥å¤ç”¨ç»“æœğŸ˜…ã€‚</p><p>æ•°ç»„æ–¹å¼ä¸»è¦ç”¨äºåº”å¯¹â€œåŒä¸€ä»½ä»£ç æ‰“åŒ…å‡ºå¤šç§äº§ç‰©â€çš„åœºæ™¯ï¼Œä¾‹å¦‚åœ¨æ„å»º <code>Library</code> æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦åŒæ—¶æ„å»ºå‡º ESM/CMD/UMD ç­‰æ¨¡å—æ–¹æ¡ˆçš„äº§ç‰©ï¼Œå¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-ZYV2k" id="tab-KRJvSZo" checked="checked"><label for="tab-KRJvSZo">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist-amd.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">libraryTarget</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">amd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">amd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./app.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist-commonjs.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">libraryTarget</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">commonjs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">commonjs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./app.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span></code></pre></div></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ä½¿ç”¨é…ç½®æ•°ç»„æ—¶ï¼Œè¿˜å¯ä»¥é€šè¿‡ <code>--config-name</code> å‚æ•°æŒ‡å®šéœ€è¦æ„å»ºçš„é…ç½®å¯¹è±¡ï¼Œä¾‹å¦‚ä¸Šä¾‹é…ç½®ä¸­è‹¥æ‰§è¡Œ <code>npx webpack --config-name=&#39;amd&#39;</code>ï¼Œåˆ™ä»…ä½¿ç”¨æ•°ç»„ä¸­ <code>name=&#39;amd&#39;</code> çš„é¡¹åšæ„å»ºã€‚</p></div><p>æ­¤æ—¶é€‚åˆä½¿ç”¨é…ç½®æ•°ç»„æ–¹å¼è§£å†³ï¼›è‹¥æ˜¯â€œå¤šä»½ä»£ç æ‰“åŒ…å¤šä»½äº§ç‰©â€çš„åœºæ™¯ï¼Œåˆ™å»ºè®®ä½¿ç”¨ <code>entry</code> é…ç½®å¤šä¸ªåº”ç”¨å…¥å£ã€‚</p><p>ä½¿ç”¨æ•°ç»„æ–¹å¼æ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€ŸåŠ© <a href="https://www.npmjs.com/package/webpack-merge" target="_blank" rel="noreferrer">webpack-merge</a> å·¥å…·ç®€åŒ–é…ç½®é€»è¾‘ï¼Œå¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-ltPgf" id="tab-2J7fkdZ" checked="checked"><label for="tab-2J7fkdZ">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> merge </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack-merge</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> baseConfig </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./dist</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">amd</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./app.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">merge</span><span style="color:#A6ACCD;">(baseConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name]-amd.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">libraryTarget</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">amd</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">merge</span><span style="color:#A6ACCD;">(baseConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name]-commonjs.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">libraryTarget</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">commonjs</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span></code></pre></div></div></div><p>ç¤ºä¾‹ä¸­å°†å…¬å…±é…ç½®æŠ½å–ä¸º <code>baseConfig</code> å¯¹è±¡ï¼Œä¹‹åé…åˆ <code>webpack-merge</code> åˆ›å»ºä¸åŒç›®æ ‡æ•°ç»„é¡¹ï¼Œè¿™ç§æ–¹å¼å¯æœ‰æ•ˆå‡å°‘é‡å¤çš„é…ç½®ä»£ç ï¼Œéå¸¸æ¨èä½¿ç”¨ã€‚</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p><code>webpack-merge</code> æ˜¯ Webpack ç”Ÿæ€å†…ä¸“é—¨ç”¨äºåˆå¹¶é…ç½®å¯¹è±¡çš„å·¥å…·ï¼Œåé¢æˆ‘ä»¬è¿˜ä¼šå±•å¼€è®²è§£ä½¿ç”¨æ–¹æ³•ã€‚</p></div><h3 id="ä½¿ç”¨é…ç½®å‡½æ•°" tabindex="-1">ä½¿ç”¨é…ç½®å‡½æ•° <a class="header-anchor" href="#ä½¿ç”¨é…ç½®å‡½æ•°" aria-label="Permalink to &quot;ä½¿ç”¨é…ç½®å‡½æ•°&quot;">â€‹</a></h3><p>é…ç½®å‡½æ•°æ–¹å¼è¦æ±‚åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œå¹¶åœ¨å‡½æ•°ä¸­è¿”å› Webpack é…ç½®å¯¹è±¡ï¼Œæˆ–é…ç½®æ•°ç»„ï¼Œæˆ– <code>Promise</code> å¯¹è±¡ï¼Œå¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">env</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">argv</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    entry</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å…¶å®ƒé…ç½®...</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>è¿è¡Œæ—¶ï¼ŒWebpack ä¼šä¼ å…¥ä¸¤ä¸ªç¯å¢ƒå‚æ•°å¯¹è±¡ï¼š</p><ul><li><p><code>env</code>ï¼šé€šè¿‡ <code>--env</code> ä¼ é€’çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œé€‚ç”¨äºè‡ªå®šä¹‰å‚æ•°ï¼Œä¾‹å¦‚ï¼š</p><table><thead><tr><th>å‘½ä»¤ï¼š</th><th><code>env</code>å‚æ•°å€¼ï¼š</th></tr></thead><tbody><tr><td>npx webpack --env prod</td><td><code>{ prod: true }</code></td></tr><tr><td>npx webpack --env prod --env min</td><td><code>{ prod: true, min: true }</code></td></tr><tr><td>npx webpack --env foo=bar=app</td><td><code>{ foo: &#39;bar=app&#39; }</code></td></tr><tr><td>npx webpack --env platform=app --env production</td><td><code>{ platform: &#39;app&#39;, production: true }</code></td></tr><tr><td>npx webpack --env app.platform=&quot;staging&quot; --env app.name=&quot;test&quot;</td><td><code>{ app: { platform: &#39;staging&#39;, name: &#39;test&#39; } }</code></td></tr></tbody></table></li><li><p><code>argv</code>: å‘½ä»¤è¡Œ <a href="https://webpack.js.org/api/cli/#flags" target="_blank" rel="noreferrer">Flags</a> å‚æ•°ï¼Œæ”¯æŒ <code>entry</code>/<code>output-path</code>/<code>mode</code>/<code>merge</code> ç­‰</p></li></ul><p>â€œ<strong>é…ç½®å‡½æ•°</strong>â€è¿™ç§æ–¹å¼çš„æ„ä¹‰åœ¨äºï¼Œå…è®¸ç”¨æˆ·æ ¹æ®å‘½ä»¤è¡Œå‚æ•°åŠ¨æ€åˆ›å»ºé…ç½®å¯¹è±¡ï¼Œå¯ç”¨äºå®ç°ç®€å•çš„å¤šç¯å¢ƒæ²»ç†ç­–ç•¥ï¼Œä¾‹å¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-m211u" id="tab-XNYeNC1" checked="checked"><label for="tab-XNYeNC1">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">env</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">argv</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    mode</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">argv</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mode</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    devtool</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">argv</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mode</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">source-map</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eval</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    output</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">       path</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">./dist/</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">filename</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name].js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    }</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">plugins</span><span style="color:#F07178;">: [</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TerserPlugin</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        terserOptions</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          compress</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">argv</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mode</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  }</span></span>
<span class="line"><span style="color:#F07178;">}</span></span></code></pre></div></div></div><p>ç¤ºä¾‹æ”¯æŒé€šè¿‡å‘½ä»¤è¡Œä¼ å…¥ <code>env.app.type</code> ä¸ <code>argv.mode</code> å€¼ï¼Œå†³å®šæœ€ç»ˆé…ç½®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒåœºæ™¯ä¼ å…¥ä¸åŒå‘½ä»¤è¡Œå‚æ•°ï¼Œä»è€Œå®ç°ç¯å¢ƒéš”ç¦»æ•ˆæœã€‚</p><p>ä¸è¿‡è¿™ç§æ–¹å¼å¹¶ä¸å¸¸ç”¨ï¼Œä¸€æ˜¯å› ä¸ºéœ€è¦åœ¨é…ç½®å‡½æ•°å†…åšè®¸å¤šé€»è¾‘åˆ¤æ–­ï¼Œå¤æ‚åœºæ™¯ä¸‹å¯èƒ½å¯è¯»æ€§ä¼šå¾ˆä½ï¼Œç»´æŠ¤æˆæœ¬é«˜ï¼›äºŒæ˜¯å¼ºä¾èµ–äºå‘½ä»¤è¡Œå‚æ•°ï¼Œå¯èƒ½æœ€ç»ˆéœ€è¦å†™å‡ºä¸€ä¸²å¾ˆé•¿çš„è¿è¡Œå‘½ä»¤ï¼Œåº”ç”¨ä½“éªŒè¾ƒå·®ã€‚ç›®å‰ç¤¾åŒºæ¯”è¾ƒæµè¡Œé€šè¿‡ä¸åŒé…ç½®æ–‡ä»¶åŒºåˆ†ä¸åŒç¯å¢ƒçš„è¿è¡Œé…ç½®ï¼Œé…åˆ <code>--config</code> å‚æ•°å®ç°ç¯å¢ƒæ²»ç†ï¼Œä¸‹é¢æˆ‘ä»¬ä¼šå±•å¼€è®²è§£è¿™ç§æ–¹æ¡ˆã€‚</p><p>æœ€åç®€å•æ€»ç»“ä¸‹ï¼ŒWebpack æ”¯æŒä¸‰ç§é…ç½®æ–¹å¼ï¼šå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ï¼Œå…¶ä¸­å¯¹è±¡æ–¹å¼æœ€ç®€å•ï¼Œä¸”èƒ½å¤Ÿåº”å¯¹å¤§å¤šæ•°ä¸šåŠ¡å¼€å‘åœºæ™¯ï¼Œæ‰€ä»¥ä½¿ç”¨ç‡æœ€é«˜ï¼›æ•°ç»„æ–¹å¼ä¸»è¦ç”¨äºæ„å»º Library åœºæ™¯ï¼›å‡½æ•°æ–¹å¼çµæ´»æ€§è¾ƒé«˜ï¼Œå¯ç”¨äºå®ç°ä¸€äº›ç®€å•çš„ç¯å¢ƒæ²»ç†ç­–ç•¥ã€‚åŒå­¦ä»¬å¯æ ¹æ®å®é™…åœºæ™¯ï¼Œæ‹©ä¼˜é€‰ç”¨ã€‚</p><h2 id="ç¯å¢ƒæ²»ç†ç­–ç•¥" tabindex="-1">ç¯å¢ƒæ²»ç†ç­–ç•¥ <a class="header-anchor" href="#ç¯å¢ƒæ²»ç†ç­–ç•¥" aria-label="Permalink to &quot;ç¯å¢ƒæ²»ç†ç­–ç•¥&quot;">â€‹</a></h2><p>åœ¨ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–å®è·µä¸­ï¼Œé€šå¸¸éœ€è¦å°†åŒä¸€ä¸ªåº”ç”¨é¡¹ç›®éƒ¨ç½²åœ¨ä¸åŒç¯å¢ƒ(å¦‚ç”Ÿäº§ç¯å¢ƒã€å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒ)ä¸­ï¼Œä»¥æ»¡è¶³é¡¹ç›®å‚ä¸å„æ–¹çš„ä¸åŒéœ€æ±‚ã€‚è¿™å°±è¦æ±‚æˆ‘ä»¬èƒ½æ ¹æ®éƒ¨ç½²ç¯å¢ƒéœ€æ±‚ï¼Œå¯¹åŒä¸€ä»½ä»£ç æ‰§è¡Œå„æœ‰ä¾§é‡çš„æ‰“åŒ…ç­–ç•¥ï¼Œä¾‹å¦‚ï¼š</p><ul><li>å¼€å‘ç¯å¢ƒéœ€è¦ä½¿ç”¨ <code>webpack-dev-server</code> å®ç° Hot Module Replacementï¼›</li><li>æµ‹è¯•ç¯å¢ƒéœ€è¦å¸¦ä¸Šå®Œæ•´çš„ Soucemap å†…å®¹ï¼Œä»¥å¸®åŠ©æ›´å¥½åœ°å®šä½é—®é¢˜ï¼›</li><li>ç”Ÿäº§ç¯å¢ƒéœ€è¦å°½å¯èƒ½æ‰“åŒ…å‡ºæ›´å¿«ã€æ›´å°ã€æ›´å¥½çš„åº”ç”¨ä»£ç ï¼Œç¡®ä¿ç”¨æˆ·ä½“éªŒã€‚</li></ul><p>Webpack ä¸­æœ‰è®¸å¤šå®ç°ç¯å¢ƒæ²»ç†çš„æ–¹æ¡ˆï¼Œæ¯”å¦‚ä¸Šé¢ä»‹ç»è¿‡çš„ï¼Œä½¿ç”¨â€œé…ç½®å‡½æ•°â€é…åˆå‘½ä»¤è¡Œå‚æ•°åŠ¨æ€è®¡ç®—é…ç½®å¯¹è±¡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸šç•Œæ¯”è¾ƒæµè¡Œå°†ä¸åŒç¯å¢ƒé…ç½®åˆ†åˆ«ç»´æŠ¤åœ¨å•ç‹¬çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦‚ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">â””â”€â”€</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">â”œâ”€â”€</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack.common.js</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">â”œâ”€â”€</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack.development.js</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">â”œâ”€â”€</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack.testing.js</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">â””â”€â”€</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack.production.js</span></span></code></pre></div><p>ä¹‹åé…åˆ <code>--config</code> é€‰é¡¹æŒ‡å®šé…ç½®ç›®æ ‡ï¼Œå¦‚ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack.development.js</span></span></code></pre></div><p>è¿™ç§æ¨¡å¼ä¸‹é€šå¸¸ä¼šå°†éƒ¨åˆ†é€šç”¨é…ç½®æ”¾åœ¨åŸºç¡€æ–‡ä»¶ä¸­ï¼Œå¦‚ä¸Šä¾‹çš„ <code>webpack.common.js</code>ï¼Œä¹‹ååœ¨å…¶å®ƒæ–‡ä»¶ä¸­å¼•å…¥è¯¥æ¨¡å—å¹¶ä½¿ç”¨ <a href="https://www.npmjs.org/package/webpack-merge" target="_blank" rel="noreferrer">webpack-merge</a> åˆå¹¶é…ç½®å¯¹è±¡ã€‚</p><p><code>webpack-merge</code> æ˜¯ä¸€ä¸ªä¸“ä¸º Webpack è®¾è®¡çš„æ•°æ®åˆå¹¶(<code>merge</code>)çš„å·¥å…·ï¼ŒåŠŸèƒ½é€»è¾‘ä¸ Lodash çš„ <a href="https://devdocs.io/lodash~4/index#merge" target="_blank" rel="noreferrer">merge</a> å‡½æ•°ã€ <a href="https://devdocs.io/javascript/global_objects/object/assign" target="_blank" rel="noreferrer">Object.assign</a> ç­‰ç›¸ä¼¼ï¼Œä½†æ”¯æŒæ›´å¤šç‰¹æ€§ï¼Œå¦‚ï¼š</p><ul><li><p>æ”¯æŒæ•°ç»„å±æ€§åˆå¹¶ï¼Œä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">merge</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">arr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">arr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { arr: [1, 2] }</span></span></code></pre></div></li><li><p>æ”¯æŒå‡½æ•°å±æ€§åˆå¹¶ï¼Œä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">merge</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">func</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">func</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">func</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// =&gt; 1,2</span></span></code></pre></div></li><li><p>æ”¯æŒè®¾å®šå¯¹è±¡åˆå¹¶ç­–ç•¥ï¼Œæ”¯æŒ <code>match/append/prepend/replace/merge</code> è§„åˆ™ï¼›</p></li><li><p>æ”¯æŒä¼ å…¥è‡ªå®šä¹‰å¯¹è±¡åˆå¹¶å‡½æ•°ï¼›</p></li><li><p>ç­‰ç­‰ã€‚</p></li></ul><p>è¿™äº›ç‰¹æ€§èƒ½æ›´å¥½åœ°æ”¯æŒ Webpack è¿™ç§é«˜åº¦å¤æ‚çš„æ•°æ®åˆå¹¶åœºæ™¯ï¼Œä¾‹å¦‚å¯¹äº <code>module.rules</code> æ•°ç»„ï¼Œè‹¥åªæ˜¯ä½¿ç”¨ <code>Object.assign</code> åšåˆå¹¶ï¼Œåˆ™åªä¼šå¯¼è‡´åé¢å¯¹è±¡å±æ€§æ›¿æ¢äº†å‰é¢å¯¹è±¡å±æ€§ï¼›è€Œä½¿ç”¨ <code>webpack-merge</code> èƒ½å¤Ÿå®ç°ä¸¤ä¸ªæ•°ç»„é¡¹åˆå¹¶ï¼Œæ›´ç¬¦åˆé¢„æœŸã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª <a href="https://github.com/Tecvan-fe/webpack-book-samples/blob/main/env-manage/webpack.common.js" target="_blank" rel="noreferrer">ç¤ºä¾‹</a> ç®€å•ä¸²ä¸€ä¸‹ä¸ <code>webpack-merge</code> å®ç°ç¯å¢ƒç®¡ç†çš„è¿‡ç¨‹ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦å°†é€šç”¨é…ç½®æ”¾åœ¨å…¬å…±æ–‡ä»¶ä¸­ï¼Œå¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-NPb8u" id="tab-VjtLOpo" checked="checked"><label for="tab-VjtLOpo">webpack.common.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node:path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HTMLWebpackPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">main</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name].js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HTMLWebpackPlugin</span><span style="color:#A6ACCD;">()]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div></div></div><p>å…¶æ¬¡ï¼Œéœ€è¦å®‰è£… <code>webpack-merge</code> åšé…ç½®åˆå¹¶æ“ä½œï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack-merge</span></span></code></pre></div><p>ä¹‹åï¼Œåˆ›å»ºå¯¹åº”ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œå¦‚ <code>webpack.development.js</code>ï¼Œå¹¶è¾“å…¥å¼€å‘ç¯å¢ƒä¸“ç”¨é…ç½®ä»£ç ï¼Œå¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-j_O6S" id="tab-dIJHUIO" checked="checked"><label for="tab-dIJHUIO">webpack.development.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> merge </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack-merge</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> baseConfig </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./webpack.common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨ webpack-merge åˆå¹¶é…ç½®å¯¹è±¡</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">merge</span><span style="color:#A6ACCD;">(baseConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">source-map</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devServer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">hot</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div></div></div><p>æœ€åï¼Œæ‰§è¡Œæ„å»ºå‘½ä»¤å¹¶é€šè¿‡ <code>--config</code> å‚æ•°ä¼ å…¥é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--config=webpack.development.js</span></span></code></pre></div><p>è‡³æ­¤ï¼Œæ ·ä¾‹å¤§è‡´æ­å»ºå®Œæ¯•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­ä¸ºæ›´å¤šæ„å»ºç¯å¢ƒé…å¤‡ç‰¹å®šçš„é…ç½®æ–‡ä»¶ï¼Œæµç¨‹åŒä¸Šï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚</p><h2 id="æ ¸å¿ƒé…ç½®é¡¹æ±‡æ€»" tabindex="-1">æ ¸å¿ƒé…ç½®é¡¹æ±‡æ€» <a class="header-anchor" href="#æ ¸å¿ƒé…ç½®é¡¹æ±‡æ€»" aria-label="Permalink to &quot;æ ¸å¿ƒé…ç½®é¡¹æ±‡æ€»&quot;">â€‹</a></h2><p>åœ¨å‰é¢ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»åŸºäºå„ç§åº”ç”¨åœºæ™¯ç»¼åˆè®²è§£äº† Webpack æ–¹æ–¹é¢é¢çš„åº”ç”¨æ–¹æ³•ï¼Œå…¶ä¸­æ¶‰åŠå¤šè¾¾ä¸Šç™¾ç§é…ç½®é¡¹ï¼Œä¸å¤ªå¯èƒ½ä¸€ä¸€è¯¦ç»†è®²è§£ï¼Œä½†å¤§è‡´ä¸Šå¯ä»¥åˆ’åˆ†ä¸‹å›¾ä¸­å±•ç¤ºçš„å‡ ç§åˆ†ç±»ï¼š</p><p><img src="/awesome-node/assets/2-2.a8d663de.webp" alt="webpackæµç¨‹"></p><p>åŒ…æ‹¬ï¼šæµç¨‹é…ç½®ã€æ€§èƒ½ä¼˜åŒ–ç±»é…ç½®ã€æ—¥å¿—ç±»é…ç½®ã€å¼€å‘æ•ˆç‡ç±»é…ç½®ç­‰ï¼Œè¿™é‡Œé¢è¾ƒå¸¸ç”¨ï¼Œéœ€è¦ç€é‡å­¦ä¹ çš„é…ç½®æœ‰ï¼š</p><ul><li><code>entry</code>ï¼šå£°æ˜é¡¹ç›®å…¥å£æ–‡ä»¶ï¼ŒWebpack ä¼šä»è¿™ä¸ªæ–‡ä»¶å¼€å§‹é€’å½’æ‰¾å‡ºæ‰€æœ‰æ–‡ä»¶ä¾èµ–ï¼›</li><li><code>output</code>ï¼šå£°æ˜æ„å»ºç»“æœçš„å­˜æ”¾ä½ç½®ï¼›</li><li><code>target</code>ï¼šç”¨äºé…ç½®ç¼–è¯‘äº§ç‰©çš„ç›®æ ‡è¿è¡Œç¯å¢ƒï¼Œæ”¯æŒ <code>web</code>ã€<code>node</code>ã€<code>electron</code> ç­‰å€¼ï¼Œä¸åŒå€¼æœ€ç»ˆäº§ç‰©ä¼šæœ‰æ‰€å·®å¼‚ï¼›</li><li><code>mode</code>ï¼šç¼–è¯‘æ¨¡å¼çŸ­è¯­ï¼Œæ”¯æŒ <code>development</code>ã€<code>production</code> ç­‰å€¼ï¼ŒWebpack ä¼šæ ¹æ®è¯¥å±æ€§æ¨æ–­é»˜è®¤é…ç½®ï¼›</li><li><code>optimization</code>ï¼šç”¨äºæ§åˆ¶å¦‚ä½•ä¼˜åŒ–äº§ç‰©åŒ…ä½“ç§¯ï¼Œå†…ç½® Dead Code Eliminationã€Scope Hoistingã€ä»£ç æ··æ·†ã€ä»£ç å‹ç¼©ç­‰åŠŸèƒ½ï¼›</li><li><code>module</code>ï¼šç”¨äºå£°æ˜æ¨¡å—åŠ è½½è§„åˆ™ï¼Œä¾‹å¦‚é’ˆå¯¹ä»€ä¹ˆç±»å‹çš„èµ„æºéœ€è¦ä½¿ç”¨å“ªäº› Loader è¿›è¡Œå¤„ç†ï¼›</li><li><code>plugin</code>ï¼šWebpack æ’ä»¶åˆ—è¡¨ã€‚</li></ul><p>å…¶ä¸­ï¼Œ<code>optimization/module/plugin</code> å±æ€§å°†åœ¨åç»­ç« èŠ‚åšä¸“é—¨ä»‹ç»ï¼Œæ­¤å¤„å…ˆä¸å±•å¼€ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†é›†ä¸­è®²è§£ <code>entry/output/target/mode</code> å±æ€§ï¼Œå¸®ä½ æ›´å…¨é¢ã€ç«‹ä½“ã€é€å½»åœ°ç†è§£ Webpack é…ç½®é¡¹é€»è¾‘ã€‚</p><h3 id="entryé…ç½®è¯¦è§£" tabindex="-1">entryé…ç½®è¯¦è§£ <a class="header-anchor" href="#entryé…ç½®è¯¦è§£" aria-label="Permalink to &quot;entryé…ç½®è¯¦è§£&quot;">â€‹</a></h3><p>Webpack çš„åŸºæœ¬è¿è¡Œé€»è¾‘æ˜¯ä» <strong>ã€Œå…¥å£æ–‡ä»¶ã€</strong> å¼€å§‹ï¼Œé€’å½’åŠ è½½ã€æ„å»ºæ‰€æœ‰é¡¹ç›®èµ„æºï¼Œæ‰€ä»¥å‡ ä¹æ‰€æœ‰é¡¹ç›®éƒ½å¿…é¡»ä½¿ç”¨ <a href="https://webpack.js.org/configuration/entry-context/" target="_blank" rel="noreferrer">entry</a> é…ç½®é¡¹æ˜ç¡®å£°æ˜é¡¹ç›®å…¥å£ã€‚<code>entry</code> é…ç½®è§„åˆ™æ¯”è¾ƒå¤æ‚ï¼Œæ”¯æŒå¦‚ä¸‹å½¢æ€ï¼š</p><ul><li>å­—ç¬¦ä¸²ï¼šæŒ‡å®šå…¥å£æ–‡ä»¶è·¯å¾„ï¼›</li><li>å¯¹è±¡ï¼šå¯¹è±¡å½¢æ€åŠŸèƒ½æ¯”è¾ƒå®Œå¤‡ï¼Œé™¤äº†å¯ä»¥æŒ‡å®šå…¥å£æ–‡ä»¶åˆ—è¡¨å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šå…¥å£ä¾èµ–ã€Runtime æ‰“åŒ…æ–¹å¼ç­‰ï¼›</li><li>å‡½æ•°ï¼šåŠ¨æ€ç”Ÿæˆ Entry é…ç½®ä¿¡æ¯ï¼Œå‡½æ•°ä¸­å¯è¿”å›å­—ç¬¦ä¸²ã€å¯¹è±¡æˆ–æ•°ç»„ï¼›</li><li>æ•°ç»„ï¼šæŒ‡æ˜å¤šä¸ªå…¥å£æ–‡ä»¶ï¼Œæ•°ç»„é¡¹å¯ä»¥ä¸ºä¸Šè¿°ä»‹ç»çš„æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²ã€å¯¹è±¡ã€å‡½æ•°å½¢å¼ï¼ŒWebpack ä¼šå°†æ•°ç»„æŒ‡æ˜çš„å…¥å£å…¨éƒ¨æ‰“åŒ…æˆä¸€ä¸ª Bundleã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-iBcoN" id="tab-7MgBQsy" checked="checked"><label for="tab-7MgBQsy">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 1ï¸âƒ£ å­—ç¬¦ä¸²å½¢æ€</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">home</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./home.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 2ï¸âƒ£ æ•°ç»„å½¢æ€</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">shared</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react-dom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">redux</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react-redux</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 3ï¸âƒ£ å¯¹è±¡å½¢æ€</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">personal</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./personal.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pages/personal.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">dependOn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">shared</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">chunkLoading</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsonp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">asyncChunks</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 4ï¸âƒ£ å‡½æ•°å½¢æ€</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">admin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./admin.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div></div></div><p>è¿™å…¶ä¸­ï¼Œ<strong>ã€Œå¯¹è±¡ã€</strong> å½¢æ€çš„é…ç½®é€»è¾‘æœ€ä¸ºå¤æ‚ï¼Œæ”¯æŒå¦‚ä¸‹é…ç½®å±æ€§ï¼š</p><ul><li><code>import</code>ï¼šå£°æ˜å…¥å£æ–‡ä»¶ï¼Œæ”¯æŒè·¯å¾„å­—ç¬¦ä¸²æˆ–è·¯å¾„æ•°ç»„(å¤šå…¥å£)ï¼›</li><li><code>dependOn</code>ï¼šå£°æ˜è¯¥å…¥å£çš„å‰ç½®ä¾èµ– Bundleï¼›</li><li><code>runtime</code>ï¼šè®¾ç½®è¯¥å…¥å£çš„ Runtime Chunkï¼Œè‹¥è¯¥å±æ€§ä¸ä¸ºç©ºï¼ŒWebpack ä¼šå°†è¯¥å…¥å£çš„è¿è¡Œæ—¶ä»£ç æŠ½ç¦»æˆå•ç‹¬çš„ Bundleï¼›</li><li><code>filename</code>ï¼šæ•ˆæœä¸ <a href="https://webpack.js.org/configuration/output/#outputfilename" target="_blank" rel="noreferrer">output.filename</a> ç±»åŒï¼Œç”¨äºå£°æ˜è¯¥æ¨¡å—æ„å»ºäº§ç‰©è·¯å¾„ï¼›</li><li><code>library</code>ï¼šå£°æ˜è¯¥å…¥å£çš„ <a href="https://webpack.js.org/configuration/output/#outputlibrary" target="_blank" rel="noreferrer">output.library</a> é…ç½®ï¼Œä¸€èˆ¬åœ¨æ„å»º NPM Library æ—¶ä½¿ç”¨ï¼›</li><li><code>publicPath</code>ï¼šæ•ˆæœä¸ <a href="https://webpack.js.org/configuration/output/#outputpublicpath" target="_blank" rel="noreferrer">output.publicPath</a> ç›¸åŒï¼Œç”¨äºå£°æ˜è¯¥å…¥å£æ–‡ä»¶çš„å‘å¸ƒ URLï¼›</li><li><code>chunkLoading</code>ï¼šæ•ˆæœä¸ <a href="https://webpack.js.org/configuration/output/#outputchunkloading" target="_blank" rel="noreferrer">output.chunkLoading</a> ç›¸åŒï¼Œç”¨äºå£°æ˜å¼‚æ­¥æ¨¡å—åŠ è½½çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œæ”¯æŒ <code>false/jsonp/require/import</code> ç­‰å€¼ï¼›</li><li><code>asyncChunks</code>ï¼šæ•ˆæœä¸ <a href="https://webpack.js.org/configuration/output/#outputasyncchunks" target="_blank" rel="noreferrer">output.asyncChunks</a> ç›¸åŒï¼Œç”¨äºå£°æ˜æ˜¯å¦æ”¯æŒå¼‚æ­¥æ¨¡å—åŠ è½½ï¼Œé»˜è®¤å€¼ä¸º <code>true</code>ã€‚</li></ul><p>è€Œè¿™äº›å±æ€§ä¸­ï¼Œ<code>dependOn</code> ä¸ <code>runtime</code> æœ€ä¸ºæ™¦æ¶©éš¾æ‡‚ï¼Œæœ‰å¿…è¦æ„é€ å®ä¾‹ï¼Œå±•å¼€è®²è§£ã€‚</p><blockquote><p>1ï¸âƒ£ ä½¿ç”¨ <code>entry.dependOn</code> å£°æ˜å…¥å£ä¾èµ–ï¼š</p></blockquote><p><code>dependOn</code> å±æ€§ç”¨äºå£°æ˜å‰ç½® Bundle ä¾èµ–ï¼Œä»æ•ˆæœä¸Šçœ‹èƒ½å¤Ÿå‡å°‘é‡å¤ä»£ç ï¼Œä¼˜åŒ–æ„å»ºäº§ç‰©è´¨é‡ã€‚ä¾‹å¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-REUoU" id="tab-raSC35s" checked="checked"><label for="tab-raSC35s">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">main</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">foo</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">dependOn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">;</span></span></code></pre></div></div></div><p>ğŸŒ°ä»£ç ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-6R5-M" id="tab-UrWylOe" checked="checked"><label for="tab-UrWylOe">./src/index.js</label><input type="radio" name="group-6R5-M" id="tab-ijmjyA_"><label for="tab-ijmjyA_">./src/foo.js</label><input type="radio" name="group-6R5-M" id="tab-SJFSlb3"><label for="tab-SJFSlb3">./src/bar.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> bar </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./bar</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">index module file</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> bar </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./bar</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo module file</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div></div></div><p>ç¤ºä¾‹ä¸­ï¼Œ<code>foo</code> å…¥å£çš„ <code>dependOn</code> å±æ€§æŒ‡å‘ <code>main</code> å…¥å£ï¼Œæ­¤æ—¶ Webpack è®¤ä¸ºï¼šå®¢æˆ·ç«¯åœ¨åŠ è½½ <code>foo</code> äº§ç‰©ä¹‹å‰å¿…ç„¶ä¼šåŠ è½½ <code>main</code>ï¼Œå› æ­¤å¯ä»¥å°†é‡å¤çš„æ¨¡å—ä»£ç ã€è¿è¡Œæ—¶ä»£ç ç­‰éƒ½æ”¾åˆ° <code>main</code> äº§ç‰©ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡å¤ï¼Œæœ€ç»ˆæ‰“åŒ…ç»“æœï¼š</p><p><img src="/awesome-node/assets/11-1.f618da6c.webp" alt="entry-dependOn"></p><p>å·¦è¾¹ä¸º <code>main</code> äº§ç‰©ï¼ŒåŒ…å«æ‰€æœ‰æ¨¡å—ã€è¿è¡Œæ—¶ä»£ç ï¼Œä¸æ™®é€š Bundle æ— å¼‚ï¼›å³è¾¹ä¸º <code>foo</code> äº§ç‰©ï¼Œä»£ç ç»“æ„éå¸¸æ¸…çˆ½ã€‚ä½œä¸ºå¯¹æ¯”ï¼Œè‹¥ä¸æŒ‡å®š <code>dependOn</code> å±æ€§ï¼Œåˆ™æ„å»ºç»“æœï¼š</p><p><img src="/awesome-node/assets/11-2.acf0a7a3.webp" alt="without dependOn"></p><p>å¯ä»¥çœ‹å‡ºä¸¤è¾¹å†…å®¹å¹¶æ— å·®å¼‚ã€‚</p><p><code>dependOn</code> é€‚ç”¨äºå“ªäº›æœ‰æ˜ç¡®å…¥å£ä¾èµ–çš„åœºæ™¯ï¼Œä¾‹å¦‚æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªä¸»æ¡†æ¶ Bundleï¼Œå…¶ä¸­åŒ…å«äº†é¡¹ç›®åŸºæœ¬æ¡†æ¶(å¦‚ React)ï¼Œä¹‹åè¿˜éœ€è¦ä¸ºæ¯ä¸ªé¡µé¢å•ç‹¬æ„å»º Bundleï¼Œè¿™äº›é¡µé¢ä»£ç ä¹Ÿéƒ½ä¾èµ–äºä¸»æ¡†æ¶ä»£ç ï¼Œæ­¤æ—¶å¯ç”¨ <code>dependOn</code> å±æ€§ä¼˜åŒ–äº§ç‰©å†…å®¹ï¼Œå‡å°‘ä»£ç é‡å¤ã€‚</p><ul><li><a href="https://github1s.com/Tecvan-fe/webpack-book-samples/blob/main/entry-obj/webpack.config.js" target="_blank" rel="noreferrer">entry-dependOn github online</a></li></ul><blockquote><p>2ï¸âƒ£ ä½¿ç”¨ <code>entry.runtime</code> ç®¡ç†è¿è¡Œæ—¶ä»£ç ï¼š</p></blockquote><p>ä¸ºæ”¯æŒäº§ç‰©ä»£ç åœ¨å„ç§ç¯å¢ƒä¸­æ­£å¸¸è¿è¡Œï¼ŒWebpack ä¼šåœ¨äº§ç‰©æ–‡ä»¶ä¸­æ³¨å…¥ä¸€ç³»åˆ—è¿è¡Œæ—¶ä»£ç ï¼Œç”¨ä»¥æ”¯æ’‘èµ·æ•´ä¸ªåº”ç”¨æ¡†æ¶ã€‚è¿è¡Œæ—¶ä»£ç çš„å¤šå¯¡å–å†³äºæˆ‘ä»¬ç”¨åˆ°å¤šå°‘ç‰¹æ€§ï¼Œä¾‹å¦‚ï¼š</p><ul><li>éœ€è¦å¯¼å…¥å¯¼å‡ºæ–‡ä»¶æ—¶ï¼Œå°†æ³¨å…¥ <code>__webpack_require__.r</code> ç­‰ï¼›</li><li>ä½¿ç”¨å¼‚æ­¥åŠ è½½æ—¶ï¼Œå°†æ³¨å…¥ <code>__webpack_require__.l</code> ç­‰ï¼›</li><li>ç­‰ç­‰ã€‚</li></ul><p>ä¸è¦å°çœ‹è¿è¡Œæ—¶ä»£ç é‡ï¼Œæç«¯æƒ…å†µä¸‹ç”šè‡³æœ‰å¯èƒ½è¶…è¿‡ä¸šåŠ¡ä»£ç æ€»é‡ï¼ä¸ºæ­¤ï¼Œå¿…è¦æ—¶æˆ‘ä»¬å¯ä»¥å°è¯•ä½¿ç”¨ <a href="https://webpack.js.org/concepts/entry-points/#entrydescription-object" target="_blank" rel="noreferrer">runtime</a> é…ç½®å°†è¿è¡Œæ—¶æŠ½ç¦»ä¸ºç‹¬ç«‹ Bundleï¼Œä¾‹å¦‚ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-IuJMi" id="tab-mxNKSeg" checked="checked"><label for="tab-mxNKSeg">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node:path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">main</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">runtime</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">common-runtime</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">foo</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/foo.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">runtime</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">common-runtime</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clean</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name].js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div><p>ğŸŒ°ä»£ç ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-4pwO4" id="tab-qXdk0J6" checked="checked"><label for="tab-qXdk0J6">./src/index.js</label><input type="radio" name="group-4pwO4" id="tab--VmWvtx"><label for="tab--VmWvtx">./src/foo.js</label><input type="radio" name="group-4pwO4" id="tab-3I6R8HK"><label for="tab-3I6R8HK">./src/bar.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> bar </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./bar</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">index module file</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> bar </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./bar</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo module file</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div></div></div><p>ç¤ºä¾‹ä¸­ï¼Œ<code>main</code> ä¸ <code>foo</code> å…¥å£å‡å°† <code>runtime</code> å£°æ˜ä¸º <code>common-runtime</code>ï¼Œæ­¤æ—¶ Webpack ä¼šå°†è¿™ä¸¤ä¸ªå…¥å£çš„è¿è¡Œæ—¶ä»£ç éƒ½æŠ½å–å‡ºæ¥ï¼Œæ”¾åœ¨ <code>common-runtime</code> Bundle ä¸­ï¼Œæ•ˆæœï¼š</p><p><img src="/awesome-node/assets/11-3.fe4a280a.webp" alt="entry runtime"></p><p><code>entry.runtime</code> æ˜¯ä¸€ç§å¸¸ç”¨çš„åº”ç”¨æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µï¼Œå»ºè®®å¤§å®¶å¤šåšå°è¯•ã€ä½¿ç”¨ğŸš€ã€‚</p><ul><li><a href="https://github1s.com/Tecvan-fe/webpack-book-samples/blob/main/entry-runtime/webpack.config.js" target="_blank" rel="noreferrer">entry-runtime github online</a></li></ul><h3 id="ä½¿ç”¨-output-å£°æ˜è¾“å‡ºæ–¹å¼" tabindex="-1">ä½¿ç”¨ <code>output</code> å£°æ˜è¾“å‡ºæ–¹å¼ <a class="header-anchor" href="#ä½¿ç”¨-output-å£°æ˜è¾“å‡ºæ–¹å¼" aria-label="Permalink to &quot;ä½¿ç”¨ `output` å£°æ˜è¾“å‡ºæ–¹å¼&quot;">â€‹</a></h3><p>Webpack çš„ <a href="https://webpack.js.org/configuration/output/" target="_blank" rel="noreferrer">output</a> é…ç½®é¡¹ç”¨äºå£°æ˜ï¼šå¦‚ä½•è¾“å‡ºæ„å»ºç»“æœï¼Œæ¯”å¦‚äº§ç‰©æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹ã€æ–‡ä»¶åæ˜¯ä»€ä¹ˆã€æ–‡ä»¶ç¼–ç ç­‰ã€‚<code>output</code> æ”¯æŒè®¸å¤šå­é…ç½®é¡¹ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><a href="https://webpack.js.org/configuration/output/#outputpath" target="_blank" rel="noreferrer">output.path</a>ï¼šå£°æ˜äº§ç‰©æ”¾åœ¨ä»€ä¹ˆæ–‡ä»¶ç›®å½•ä¸‹ï¼›âœ…</li><li><a href="https://webpack.js.org/configuration/output/#outputfilename" target="_blank" rel="noreferrer">output.filename</a>ï¼šå£°æ˜äº§ç‰©æ–‡ä»¶åè§„åˆ™ï¼Œæ”¯æŒ <code>[name]/[hash]</code> ç­‰å ä½ç¬¦ï¼›âœ…</li><li><a href="https://webpack.js.org/configuration/output/#outputpublicpath" target="_blank" rel="noreferrer">output.publicPath</a>ï¼šæ–‡ä»¶å‘å¸ƒè·¯å¾„ï¼Œåœ¨ Web åº”ç”¨ä¸­ä½¿ç”¨ç‡è¾ƒé«˜ï¼›âœ…</li><li><a href="https://webpack.js.org/configuration/output/#outputclean" target="_blank" rel="noreferrer">output.clean</a>ï¼šæ˜¯å¦è‡ªåŠ¨æ¸…é™¤ <code>path</code> ç›®å½•ä¸‹çš„å†…å®¹ï¼Œè°ƒè¯•æ—¶ç‰¹åˆ«å¥½ç”¨ï¼›</li><li><a href="https://webpack.js.org/configuration/output/#outputlibrary" target="_blank" rel="noreferrer">output.library</a>ï¼šNPM Library å½¢æ€ä¸‹çš„ä¸€äº›äº§ç‰©ç‰¹æ€§ï¼Œä¾‹å¦‚ï¼šLibrary åç§°ã€æ¨¡å—åŒ–(UMD/CMD ç­‰)è§„èŒƒï¼›</li><li><a href="https://webpack.js.org/configuration/output/#outputchunkloading" target="_blank" rel="noreferrer">output.chunkLoading</a>ï¼šå£°æ˜åŠ è½½å¼‚æ­¥æ¨¡å—çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œæ”¯æŒ <code>false/jsonp/require</code> ç­‰æ–¹å¼ã€‚</li><li>ç­‰ç­‰ã€‚</li></ul><p>å¯¹äº Web åº”ç”¨åœºæ™¯ï¼Œå¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ <code>path/filename/publicPath</code> å³å¯æ»¡è¶³éœ€æ±‚ï¼Œå…¶å®ƒå±æ€§ä½¿ç”¨ç‡ä¸é«˜ï¼Œç¯‡å¹…å…³ç³»ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚</p><h3 id="ä½¿ç”¨-target-è®¾ç½®æ„å»ºç›®æ ‡" tabindex="-1">ä½¿ç”¨ <code>target</code> è®¾ç½®æ„å»ºç›®æ ‡ <a class="header-anchor" href="#ä½¿ç”¨-target-è®¾ç½®æ„å»ºç›®æ ‡" aria-label="Permalink to &quot;ä½¿ç”¨ `target` è®¾ç½®æ„å»ºç›®æ ‡&quot;">â€‹</a></h3><p>è™½ç„¶å¤šæ•°æ—¶å€™ Webpack éƒ½è¢«ç”¨äºæ‰“åŒ… Web åº”ç”¨ï¼Œä½†å®é™…ä¸Š Webpack è¿˜æ”¯æŒæ„å»º Nodeã€Electronã€NW.jsã€WebWorker ç­‰åº”ç”¨å½¢æ€ï¼Œè¿™ä¸€ç‰¹æ€§ä¸»è¦é€šè¿‡ <a href="https://webpack.js.org/configuration/target/" target="_blank" rel="noreferrer">target</a> é…ç½®æ§åˆ¶ï¼Œæ”¯æŒå¦‚ä¸‹æ•°å€¼ï¼š</p><ul><li><code>node[[X].Y]</code>ï¼šç¼–è¯‘ä¸º Node åº”ç”¨ï¼Œæ­¤æ—¶å°†ä½¿ç”¨ Node çš„ <code>require</code> æ–¹æ³•åŠ è½½å…¶å®ƒ Chunkï¼Œæ”¯æŒæŒ‡å®š Node ç‰ˆæœ¬ï¼Œå¦‚ï¼š<code>node12.13</code>ï¼›</li><li><code>async-node[[X].Y]</code>ï¼šç¼–è¯‘ä¸º Node åº”ç”¨ï¼Œä¸ <code>node</code> ç›¸æ¯”ä¸»è¦å·®å¼‚åœ¨äºï¼š<code>async-node</code> æ–¹å¼å°†ä»¥å¼‚æ­¥(Promise)æ–¹å¼åŠ è½½å¼‚æ­¥æ¨¡å—(<code>node</code> æ—¶ç›´æ¥ä½¿ç”¨ <code>require</code>)ã€‚æ”¯æŒæŒ‡å®š Node ç‰ˆæœ¬ï¼Œå¦‚ï¼š<code>async-node12.13</code>ï¼›</li><li><code>nwjs[[X].Y]</code>ï¼šç¼–è¯‘ä¸º NW.js åº”ç”¨ï¼›</li><li><code>node-webkit[[X].Y]</code>ï¼šåŒ <code>nwjs</code>ï¼›</li><li><code>electron[[X].Y]-main</code>ï¼šæ„å»ºä¸º Electron <a href="https://www.electronjs.org/zh/docs/latest/tutorial/process-model#%E4%B8%BB%E8%BF%9B%E7%A8%8B" target="_blank" rel="noreferrer">ä¸»è¿›ç¨‹</a>ï¼›</li><li><code>electron[[X].Y]-renderer</code>ï¼šæ„å»ºä¸º Electron <a href="https://www.electronjs.org/zh/docs/latest/tutorial/process-model#%E6%B8%B2%E6%9F%93%E5%99%A8%E8%BF%9B%E7%A8%8B" target="_blank" rel="noreferrer">æ¸²æŸ“è¿›ç¨‹</a>ï¼›</li><li><code>electron[[X].Y]-preload</code>ï¼šæ„å»ºä¸º Electron Preload <a href="https://www.electronjs.org/zh/docs/latest/tutorial/process-model#preload-%E8%84%9A%E6%9C%AC" target="_blank" rel="noreferrer">è„šæœ¬</a>ï¼›</li><li><code>web</code>ï¼šæ„å»ºä¸º Web åº”ç”¨ï¼›</li><li><code>esX</code>ï¼šæ„å»ºä¸ºç‰¹å®šç‰ˆæœ¬ ECMAScript å…¼å®¹çš„ä»£ç ï¼Œæ”¯æŒ <code>es5</code>ã€<code>es2020</code> ç­‰ï¼›</li><li><code>browserslist</code>ï¼šæ ¹æ®æµè§ˆå™¨å¹³å°ä¸ç‰ˆæœ¬ï¼Œæ¨æ–­éœ€è¦å…¼å®¹çš„ ES ç‰¹æ€§ï¼Œæ•°æ®æ¥æºäº <a href="https://github.com/browserslist/browserslist#queries" target="_blank" rel="noreferrer">Browserslist</a> é¡¹ç›®ï¼Œç”¨æ³•å¦‚ï¼š<code>browserslist: &#39;last 2 major versions&#39;</code>ã€‚</li></ul><p>ä¸åŒæ„å»ºç›®æ ‡ä¼šæ ¹æ®å¹³å°ç‰¹æ€§æ‰“åŒ…å‡ºç•¥æœ‰å·®å¼‚çš„ç»“æœ(ä¸»è¦ä½“ç°åœ¨è¿è¡Œæ—¶ä¸ NPM Library)ï¼Œä¾‹å¦‚å¯¹äºä¸‹é¢è¿™ç§ä½¿ç”¨äº†å¼‚æ­¥å¯¼å…¥çš„ä»£ç ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-n27Xw" id="tab-Y73EElt" checked="checked"><label for="tab-Y73EElt">./src/index.js</label><input type="radio" name="group-n27Xw" id="tab-mYg5nkE"><label for="tab-mYg5nkE">./src/foo.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(console</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div></div></div><p>ä½¿ç”¨å¦‚ä¸‹é…ç½®ï¼ŒåŒæ—¶æ„å»º <code>node</code> ä¸ <code>web</code> ç‰ˆæœ¬ï¼š</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-nJFOw" id="tab-LRxp2RF" checked="checked"><label for="tab-LRxp2RF">webpack.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node:path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> merge </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack-merge</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;webpack&#39;).Configuration</span><span style="color:#89DDFF;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> baseConfig </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">web</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">main</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">import</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clean</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">merge</span><span style="color:#A6ACCD;">(baseConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">web</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">web-[name].js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">merge</span><span style="color:#A6ACCD;">(baseConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node-[name].js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span></code></pre></div></div></div><p>ğŸŒ°ä»£ç </p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-bV-bA" id="tab-Gh9SqyV" checked="checked"><label for="tab-Gh9SqyV">./src/index.js</label><input type="radio" name="group-bV-bA" id="tab-uGFcKDz"><label for="tab-uGFcKDz">./src/foo.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(console</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log)</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div></div></div><p>ä¹‹åï¼Œæ‰§è¡Œæ„å»ºå‘½ä»¤ï¼Œç»“æœï¼š</p><p><img src="/awesome-node/assets/11-4.b8cf370b.webp" alt="entry target"></p><p>å¯ä»¥çœ‹åˆ°å·¦è¾¹ <code>web</code> ç‰ˆæœ¬ä¸­éœ€è¦æ³¨å…¥ä½¿ç”¨ JSONP å¼‚æ­¥åŠ è½½ JS æ–‡ä»¶çš„è¿è¡Œæ—¶ä»£ç ï¼›è€Œå³è¾¹ <code>node</code> ç‰ˆæœ¬åˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨ Node ç¯å¢ƒä¸‹çš„ <code>require</code> å®ç°å¼‚æ­¥åŠ è½½ï¼Œå› æ­¤ä¸éœ€è¦æ³¨å…¥ç›¸å…³è¿è¡Œæ—¶ã€‚</p><ul><li><a href="https://github1s.com/Tecvan-fe/webpack-book-samples/blob/main/target-node-web/webpack.config.js" target="_blank" rel="noreferrer">entry target github online</a></li></ul><h3 id="ä½¿ç”¨-mode-çŸ­è¯­" tabindex="-1">ä½¿ç”¨ <code>mode</code> çŸ­è¯­ <a class="header-anchor" href="#ä½¿ç”¨-mode-çŸ­è¯­" aria-label="Permalink to &quot;ä½¿ç”¨ `mode` çŸ­è¯­&quot;">â€‹</a></h3><p>Webpack <a href="https://github.com/webpack/webpack/blob/main/lib/config/defaults.js" target="_blank" rel="noreferrer">å†…ç½®</a> äº†è®¸å¤šæ„å»ºä¼˜åŒ–ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <a href="https://webpack.js.org/configuration/mode/" target="_blank" rel="noreferrer">mode</a> é…ç½®é¡¹åˆ‡æ¢é»˜è®¤ä¼˜åŒ–è§„åˆ™ï¼Œæ”¯æŒå¦‚ä¸‹å€¼ï¼š</p><ul><li><code>production</code>ï¼šé»˜è®¤å€¼ï¼Œç”Ÿäº§æ¨¡å¼ï¼Œä½¿ç”¨è¯¥å€¼æ—¶ Webpack ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¼€å¯ä¸€ç³»åˆ—ä¼˜åŒ–æªæ–½ï¼šThree-Shakingã€Terser å‹ç¼©ä»£ç ã€SplitChunk æèµ·å…¬å…±ä»£ç ï¼Œé€šå¸¸ç”¨äºç”Ÿäº§ç¯å¢ƒæ„å»ºï¼›</li><li><code>development</code>ï¼šå¼€å‘æ¨¡å¼ï¼Œä½¿ç”¨è¯¥å€¼æ—¶ Webpack ä¼šä¿ç•™æ›´è¯­ä¹‰åŒ–çš„ Module ä¸ Chunk åç§°ï¼Œæ›´æœ‰åŠ©äºè°ƒè¯•ï¼Œé€šå¸¸ç”¨äºå¼€å‘ç¯å¢ƒæ„å»ºï¼›</li><li><code>none</code>ï¼šå…³é—­æ‰€æœ‰å†…ç½®ä¼˜åŒ–è§„åˆ™ã€‚</li></ul><p><code>mode</code> è§„åˆ™æ¯”è¾ƒç®€å•ï¼Œä¸€èˆ¬åœ¨å¼€å‘æ¨¡å¼ä½¿ç”¨ <code>mode = &#39;development&#39;</code>ï¼Œç”Ÿäº§æ¨¡å¼ä½¿ç”¨ <code>mode = &#39;production&#39;</code> å³å¯ã€‚</p><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p>è‡³æ­¤ï¼Œå…³äº Webpack é…ç½®è§„åˆ™çš„é‡è¦çŸ¥è¯†ç‚¹å°±è¡¥å……å®Œæ¯•äº†ï¼Œæˆ‘ä»¬ä¸»è¦éœ€è¦ç†è§£ï¼š</p><ul><li>Webpack é…ç½®æ–‡ä»¶æ”¯æŒå¯¼å‡ºå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ä¸‰ç§å½¢æ€ï¼Œå…¶ä¸­å¯¹è±¡å½¢å¼æœ€ä¸ºå¸¸ç”¨ï¼Œè¶³å¤Ÿåº”å¯¹å¤šæ•°ä¸šåŠ¡é¡¹ç›®åœºæ™¯ï¼›æ•°ç»„å½¢å¼é€‚ç”¨äºéœ€è¦ä¸ºåŒä¸€ä»½ä»£ç åŒæ—¶æ„å»ºå¤šç§äº§ç‰©çš„åœºæ™¯ï¼Œå¦‚ NPM Libraryï¼›å‡½æ•°å½¢æ€é€‚ç”¨äºéœ€è¦åŠ¨æ€ç”Ÿæˆé…ç½®è§„åˆ™çš„åœºæ™¯ï¼›</li><li>ä¸ºæ–¹ä¾¿ç®¡ç†é…ç½®é€»è¾‘ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å¼•å…¥ä¸€äº›ç¯å¢ƒæ²»ç†ç­–ç•¥ï¼Œç›®å‰ä¸šç•Œæ¯”è¾ƒå¸¸ç”¨å•ç‹¬é…ç½®æ–‡ä»¶ç®¡ç†å•ä¸ªæ„å»ºç¯å¢ƒï¼›</li><li><code>entry</code> é…ç½®é¡¹æ”¯æŒå­—ç¬¦ä¸²ã€å¯¹è±¡ã€å‡½æ•°ã€æ•°ç»„ç­‰æ–¹å¼ï¼Œå…¶ä¸­å¯¹è±¡å½¢å¼ä¸‹çš„ <code>dependOn/runtime</code> è§„åˆ™æ¯”è¾ƒå¤æ‚ï¼Œå»ºè®®æ·±å…¥å­¦ä¹ ï¼›</li><li><code>output</code> ç”¨äºå£°æ˜æ„å»ºäº§ç‰©çš„è¾“å‡ºè§„åˆ™ï¼›</li><li><code>target</code> ç”¨äºè®¾ç½®æ„å»ºç›®æ ‡ï¼Œä¸åŒç›®æ ‡ä¼šå¯¼è‡´äº§ç‰©å†…å®¹æœ‰è½»å¾®å·®å¼‚ï¼Œæ”¯æŒ Nodeã€Webã€Electronã€WebWorker ç­‰åœºæ™¯ï¼›</li><li><code>mode</code> æ„å»ºæ¨¡å¼ï¼Œæ”¯æŒ <code>development/production/none</code> ä¸‰ç§å€¼ã€‚</li></ul><p>ç»“åˆå‰é¢è‹¥å¹²åº”ç”¨ä»‹ç»çš„ç« èŠ‚ï¼Œç›¸ä¿¡å·²ç»å¸®ä½ æ­å»ºèµ·ä¸€å¥—ä½“ç³»åŒ–çš„åº”ç”¨æ–¹æ³•è®ºï¼Œå·²ç»è¶³ä»¥åº”ä»˜å¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯ã€‚åç»­ç« èŠ‚æˆ‘ä»¬å°†è½¬å…¥æ›´é«˜é˜¶çš„å†…å®¹ï¼ŒåŒ…æ‹¬ï¼šå¦‚ä½•å¼€å‘ Loaderã€Pluginï¼›å¦‚ä½•ä¼˜åŒ–æ„å»ºä¸åº”ç”¨æ€§èƒ½ï¼›Webpack æ„å»ºåŸç†ç­‰ã€‚</p><h2 id="æ€è€ƒé¢˜" tabindex="-1">æ€è€ƒé¢˜ <a class="header-anchor" href="#æ€è€ƒé¢˜" aria-label="Permalink to &quot;æ€è€ƒé¢˜&quot;">â€‹</a></h2><p>å‡è®¾åœ¨é…ç½®æ–‡ä»¶ä¸­éœ€è¦é€šè¿‡è¿œç¨‹æ¥å£åŠ¨æ€è·å–é…ç½®ç‰‡æ®µï¼Œå¦‚ä½•å®ç°æ¯”è¾ƒä¼˜é›…ï¼Ÿè¯·è¯•è¯•ã€‚</p><details class="details custom-block"><summary>chatgptå›ç­”</summary><p>å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>webpack-merge</code> å’Œ <code>axios</code> åº“æ¥å®ç°ä¼˜é›…åœ°åŠ¨æ€è·å–é…ç½®ç‰‡æ®µã€‚</p><p>é¦–å…ˆï¼Œå®‰è£… <code>webpack-merge</code> å’Œ <code>axios</code> åº“ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm i webpack</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">merge axios </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">D</span></span></code></pre></div><p>ç„¶åï¼Œåœ¨ webpack é…ç½®æ–‡ä»¶ä¸­å¼•å…¥è¿™ä¸¤ä¸ªåº“ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> merge </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack-merge</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> axios </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">axios</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>æ¥ä¸‹æ¥ï¼Œåœ¨éœ€è¦åŠ¨æ€è·å–é…ç½®ç‰‡æ®µçš„åœ°æ–¹ï¼Œä½¿ç”¨ <code>axios</code> å‘é€è¯·æ±‚ï¼Œå¹¶åœ¨è¯·æ±‚æˆåŠŸåå°†è¿”å›çš„æ•°æ®ä¸åŸæœ‰çš„é…ç½®åˆå¹¶ï¼Œæœ€ç»ˆè¿”å›æ–°çš„é…ç½®ã€‚ä¾‹å¦‚ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å…ˆè·å–åŸæœ‰çš„é…ç½®</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">baseConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    entry</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    output</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      filename</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bundle.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å‘é€è¯·æ±‚è·å–é…ç½®ç‰‡æ®µ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">axios</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://example.com/config-fragment.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆå¹¶åŸæœ‰çš„é…ç½®å’Œæ–°çš„é…ç½®ç‰‡æ®µ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mergedConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">merge</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">baseConfig</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mergedConfig</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>æœ€åï¼Œè®°å¾—åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¼å‡ºä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œä»¥ä¾¿èƒ½å¤ŸåŠ¨æ€è·å–é…ç½®ç‰‡æ®µã€‚</p></details><p>2023å¹´04æœˆ11æ—¥17:58:45</p></div></div></main><footer class="VPDocFooter" data-v-d014534d data-v-da7d8bbc><!--[--><!--]--><div class="edit-info" data-v-da7d8bbc><div class="edit-link" data-v-da7d8bbc><a class="VPLink link edit-link-button" href="https://github.com/jamessawyer/awesome-node/edit/main/docs/book/webpack/11.md" target="_blank" rel="noreferrer" data-v-da7d8bbc data-v-52f17e44><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-da7d8bbc><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> åœ¨GitHubç¼–è¾‘æ­¤é¡µ<!--]--><!----></a></div><div class="last-updated" data-v-da7d8bbc><p class="VPLastUpdated" data-v-da7d8bbc data-v-213813d4>Last updated: <time datetime="2023-04-22T15:04:05.000Z" data-v-213813d4></time></p></div></div><div class="prev-next" data-v-da7d8bbc><div class="pager" data-v-da7d8bbc><a class="pager-link prev" href="/awesome-node/book/webpack/10.html" data-v-da7d8bbc><span class="desc" data-v-da7d8bbc>Previous page</span><span class="title" data-v-da7d8bbc>10.æ·±å…¥ç†è§£å›¾åƒåŠ è½½åŸç†å’Œæœ€ä½³å®è·µ</span></a></div><div class="has-prev pager" data-v-da7d8bbc><a class="pager-link next" href="/awesome-node/book/webpack/12.html" data-v-da7d8bbc><span class="desc" data-v-da7d8bbc>Next page</span><span class="title" data-v-da7d8bbc>12.æ€§èƒ½ï¼š7æ¬¾æ€§èƒ½åˆ†æå·¥å…·âš¡</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blog_first.md\":\"02e33c38\",\"blog_dive_index.md\":\"8939b9a3\",\"blog_resource_advanced.md\":\"b2e41147\",\"blog_resource_basic.md\":\"e220eec7\",\"blog_translate_fs-in-node.md\":\"ece222fd\",\"blog_misc_ts-and-express.md\":\"7e661e5a\",\"book_babel_1.md\":\"f98a729f\",\"book_babel_2.md\":\"79cb572a\",\"book_babel_3.md\":\"df182189\",\"book_babel_4.md\":\"413075c1\",\"blog_translate_file-system-paths.md\":\"bc823671\",\"blog_translate_web-streams-on-node.md\":\"728d2162\",\"blog_misc_module.md\":\"678b9fd3\",\"book_patterns_callback-and-events.md\":\"bbe2f6b7\",\"book_patterns_module-system_commonjs-modules.md\":\"7d278480\",\"book_babel_index.md\":\"df424099\",\"book_patterns_module-system_summary.md\":\"502bb4ba\",\"book_patterns_module-system_the-module-system-and-its-patterns.md\":\"a1785bf7\",\"book_patterns_module-system_the-need-for-modules.md\":\"4185b80c\",\"book_patterns_the-node-platform.md\":\"564ab1c2\",\"book_patterns_the-module-system.md\":\"9df84688\",\"book_babel_6.md\":\"202d174f\",\"book_patterns_module-system_module-system-in-js-and-node.md\":\"eadebd1c\",\"book_patterns_module-system_esm-cjs-interoperability.md\":\"00678704\",\"book_babel_5.md\":\"39742818\",\"book_patterns_module-system_index.md\":\"1c364948\",\"book_vite_1.md\":\"9674a8f5\",\"book_patterns_module-system_module-define-patterns.md\":\"59aca84e\",\"book_patterns_module-system_esm.md\":\"3c35587f\",\"book_vite_11.md\":\"9e1af73a\",\"book_vite_10.md\":\"44a4f09f\",\"book_vite_12.md\":\"1d06bd9e\",\"book_vite_14.md\":\"c4c96959\",\"book_vite_4.md\":\"ec4be048\",\"book_vite_7.md\":\"1940a055\",\"book_vite_19.md\":\"c58d40a1\",\"book_vite_2.md\":\"4795017d\",\"book_vite_8.md\":\"5e3d1191\",\"book_webpack_3.md\":\"c7759312\",\"book_webpack_1.md\":\"079ab11e\",\"book_webpack_13.md\":\"ff2d958a\",\"book_vite_18.md\":\"c05e5305\",\"lib_fs-extra_readjson.md\":\"43bced85\",\"lib_fs-extra_outputfile.md\":\"43f686e0\",\"lib_fs-extra_outputjson.md\":\"842db066\",\"lib_fs-extra_pathexists.md\":\"dad0c2ba\",\"book_vite_15.md\":\"dd2da4cc\",\"framework_express_index.md\":\"485dd70e\",\"book_vite_3.md\":\"285627f2\",\"book_webpack_11.md\":\"a0d3adda\",\"book_vite_16.md\":\"bcd55ae5\",\"v18doc_path.md\":\"607df8b3\",\"book_vite_9.md\":\"b3600671\",\"book_webpack_12.md\":\"ce116209\",\"book_webpack_16.md\":\"5d8b3c99\",\"book_vite_17.md\":\"657cd3fd\",\"book_webpack_17.md\":\"fd9fd31f\",\"core_stream_stream-in-practice.md\":\"42b1c335\",\"book_webpack_2.md\":\"ad41e3aa\",\"book_webpack_index.md\":\"91c25f75\",\"core_events_index.md\":\"4447401d\",\"core_stream_stream-visualization.md\":\"40246902\",\"book_webpack_15.md\":\"5b934d64\",\"core_stream_index.md\":\"fcec8ad5\",\"book_webpack_10.md\":\"a8e7a24d\",\"index.md\":\"c83c2634\",\"book_webpack_14.md\":\"219abec7\",\"lib_fs-extra_copy.md\":\"2bdbebef\",\"lib_fs-extra_emptydir.md\":\"152afe66\",\"lib_fs-extra_ensuredir.md\":\"75694b37\",\"lib_fs-extra_ensurefile.md\":\"e9d741f4\",\"lib_fs-extra_ensurelink.md\":\"1aa666a5\",\"manager_babel.md\":\"53d6d15c\",\"lib_fs-extra_fs-write-read-writev.md\":\"5bd79ba2\",\"lib_fs-extra_index.md\":\"1a803718\",\"manager_webpack.md\":\"63b9d410\",\"lib_fs-extra_remove.md\":\"f0845cdb\",\"lib_fs-extra_writejson.md\":\"99d0bc0e\",\"manager_vite.md\":\"38093015\",\"manager_basic.md\":\"3769b818\",\"manager_recipe.md\":\"2a16720c\",\"v18doc_file-system.md\":\"e9d6634b\",\"framework_nestjs_index.md\":\"3759c7f8\",\"lib_fs-extra_move.md\":\"ad3d9f8c\",\"lib_fs-extra_ensuresymlink.md\":\"1c350a09\",\"book_webpack_18.md\":\"c990a523\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Awesome Node\",\"description\":\"Node + Vite + Webpack + Babel\",\"base\":\"/awesome-node/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"outlineTitle\":\"ç›®å½•\",\"outline\":[2,3],\"editLink\":{\"text\":\"åœ¨GitHubç¼–è¾‘æ­¤é¡µ\",\"pattern\":\"https://github.com/jamessawyer/awesome-node/edit/main/docs/:path\"},\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"ğŸ“„Nodeæ–‡æ¡£\",\"activeMatch\":\"^/v18doc/\",\"link\":\"/v18doc/File-System\"},{\"text\":\"ğŸ“¦å·¥ç¨‹åŒ–\",\"link\":\"/manager/basic\"},{\"text\":\"ğŸ’«æ ¸å¿ƒæ¦‚å¿µ\",\"link\":\"/core/stream/index\"},{\"text\":\"ğŸ¤”blog\",\"link\":\"/blog/first\"},{\"text\":\"ğŸ“šä¹¦ç±\",\"items\":[{\"text\":\"Node Design Patterns\",\"link\":\"/book/patterns/the-node-platform\"},{\"text\":\"æ·±å…¥ç†è§£Vite\",\"link\":\"/book/vite/2\"},{\"text\":\"Webpack5æ ¸å¿ƒåŸç†\",\"link\":\"/book/webpack/1\"},{\"text\":\"Babelæ’ä»¶ç§˜ç±\",\"link\":\"/book/babel/2\"}]},{\"text\":\"ğŸ§‘â€ğŸš€æ¡†æ¶\",\"items\":[{\"text\":\"NestJS\",\"link\":\"/framework/nestjs/index\"},{\"text\":\"Express\",\"link\":\"/framework/express/index\"}]},{\"text\":\"ğŸ”¥å¸¸ç”¨åº“\",\"items\":[{\"text\":\"fs-extra\",\"link\":\"/lib/fs-extra/index\"}]}],\"sidebar\":{\"/v18doc/\":[{\"text\":\"Node v18.x ä¸­æ–‡æ–‡æ¡£\",\"items\":[{\"text\":\"File System\",\"link\":\"/v18doc/File-System\"},{\"text\":\"Path\",\"link\":\"/v18doc/Path\"}]}],\"/manager/\":[{\"text\":\"åŸºç¡€çŸ¥è¯†\",\"items\":[{\"text\":\"package.json\",\"link\":\"/manager/basic\"},{\"text\":\"Viteå­¦ä¹ \",\"link\":\"/manager/vite\"},{\"text\":\"Webpackå­¦ä¹ \",\"link\":\"/manager/webpack\"},{\"text\":\"babelç”Ÿæ€\",\"link\":\"/manager/babel\"}]},{\"text\":\"Recipe\",\"items\":[{\"text\":\"Nodeèµ„æº\",\"link\":\"/manager/recipe\"}]}],\"/core/\":[{\"text\":\"EventEmitter\",\"collapsible\":true,\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/core/events/index\"}]},{\"text\":\"Streams\",\"collapsible\":true,\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/core/stream/index\"},{\"text\":\"âš¡Streamå›¾è§£\",\"link\":\"/core/stream/stream-visualization\"},{\"text\":\"âš¡Streamå®æˆ˜\",\"link\":\"/core/stream/stream-in-practice\"}]}],\"/blog/\":[{\"text\":\"èµ„æº\",\"items\":[{\"text\":\"Advanced\",\"link\":\"/blog/resource/advanced\"}]},{\"text\":\"ğŸš€ å¥½æ–‡ç¿»è¯‘\",\"collapsible\":true,\"items\":[{\"text\":\"Path & URLçš„ç”¨æ³•\",\"link\":\"/blog/translate/file-system-paths\"},{\"text\":\"FS in Node\",\"link\":\"/blog/translate/fs-in-node\"},{\"text\":\"Web Streams on Node\",\"link\":\"/blog/translate/web-streams-on-node\"}]},{\"text\":\"MISC\",\"collapsible\":true,\"items\":[{\"text\":\"ESM & CJSæ¨¡å—\",\"link\":\"/blog/misc/module\"},{\"text\":\"Express + typescriptè®¾ç½®\",\"link\":\"/blog/misc/ts-and-express\"}]}],\"/book/patterns\":[{\"text\":\"Nodeè®¾è®¡æ¨¡å¼\",\"items\":[{\"text\":\"the node platform\",\"link\":\"/book/patterns/the-node-platform\"},{\"text\":\"callback and events\",\"link\":\"/book/patterns/callback-and-events\"}]},{\"text\":\"â…¡.æ¨¡å—ç³»ç»Ÿ\",\"collapsible\":true,\"items\":[{\"text\":\"ä»‹ç»\",\"link\":\"/book/patterns/module-system/index\"},{\"text\":\"æ¨¡å—ç³»ç»Ÿçš„å¿…è¦æ€§\",\"link\":\"/book/patterns/module-system/the-need-for-modules\"},{\"text\":\"JSå’ŒNodeä¸­çš„æ¨¡å—ç³»ç»Ÿ\",\"link\":\"/book/patterns/module-system/module-system-in-js-and-node\"},{\"text\":\"æ¨¡å—ç³»ç»Ÿå’Œå…¶æ¨¡å¼\",\"link\":\"/book/patterns/module-system/the-module-system-and-its-patterns\"},{\"text\":\"âš¡CommonJSæ¨¡å—\",\"link\":\"/book/patterns/module-system/commonjs-modules\"},{\"text\":\"ğŸ™†â€â™€ï¸CommonJSæ¨¡å—å¸¸ç”¨æ¨¡å¼å®šä¹‰\",\"link\":\"/book/patterns/module-system/module-define-patterns\"},{\"text\":\"ğŸš€ESM\",\"link\":\"/book/patterns/module-system/esm\"},{\"text\":\"ğŸš€ESMå’ŒCJSå·®å¼‚å’Œäº’æ“æ€§\",\"link\":\"/book/patterns/module-system/esm-cjs-interoperability\"},{\"text\":\"æ€»ç»“\",\"link\":\"/book/patterns/module-system/summary\"}]}],\"/book/vite\":[{\"text\":\"ğŸ”§æ·±å…¥ç†è§£Vite\",\"items\":[{\"text\":\"1.Viteå¼€ç¯‡\",\"link\":\"/book/vite/1\"},{\"text\":\"2.æ¨¡å—æ ‡å‡†\",\"link\":\"/book/vite/2\"},{\"text\":\"3.å¿«é€Ÿä¸Šæ‰‹Vite\",\"link\":\"/book/vite/3\"},{\"text\":\"4.æ ·å¼æ–¹æ¡ˆ\",\"link\":\"/book/vite/4\"},{\"text\":\"7.é¢„æ„å»º\",\"link\":\"/book/vite/7\"},{\"text\":\"8.åŒå¼•æ“æ¶æ„\",\"link\":\"/book/vite/8\"},{\"text\":\"9.æ€§èƒ½æ¨æ‰‹: Esbuild\",\"link\":\"/book/vite/9\"},{\"text\":\"10.RollupåŸºæœ¬ç”¨æ³•\",\"link\":\"/book/vite/10\"},{\"text\":\"11.æ·±å…¥ç†è§£Rollupæ’ä»¶æœºåˆ¶\",\"link\":\"/book/vite/11\"},{\"text\":\"12.Viteæ’ä»¶å¼€å‘\",\"link\":\"/book/vite/12\"},{\"text\":\"14.ä»£ç åˆ†å‰²\",\"link\":\"/book/vite/14\"},{\"text\":\"15.Polyfillå’Œè¯­æ³•é™çº§\",\"link\":\"/book/vite/15\"},{\"text\":\"16.Viteæ­å»ºSSRå·¥ç¨‹\",\"link\":\"/book/vite/16\"},{\"text\":\"17.è”é‚¦æ¨¡å—ä»¥åŠåŸç†\",\"link\":\"/book/vite/17\"},{\"text\":\"18.Pure ESMæ—¶ä»£\",\"link\":\"/book/vite/18\"},{\"text\":\"19.ç³»ç»Ÿå¯¹Viteé¡¹ç›®æ€§èƒ½ä¼˜åŒ–\",\"link\":\"/book/vite/19\"}]}],\"/book/webpack\":[{\"text\":\"Webpack5æ ¸å¿ƒåŸç†ä¸å®è·µ\",\"items\":[{\"text\":\"1.é‡æ–°è®¤è¯†Webpack\",\"link\":\"/book/webpack/1\"},{\"text\":\"2.å¦‚ä½•ç†è§£Webpacké…ç½®åº•å±‚ç»“æ„é€»è¾‘ï¼Ÿ\",\"link\":\"/book/webpack/2\"},{\"text\":\"3.é…ç½®Babel+TS+ESLintï¼Ÿ\",\"link\":\"/book/webpack/3\"},{\"text\":\"10.æ·±å…¥ç†è§£å›¾åƒåŠ è½½åŸç†å’Œæœ€ä½³å®è·µ\",\"link\":\"/book/webpack/10\"},{\"text\":\"11.æ·±å…¥ç†è§£webpackæ ¸å¿ƒé…ç½®ğŸ“š\",\"link\":\"/book/webpack/11\"},{\"text\":\"12.æ€§èƒ½ï¼š7æ¬¾æ€§èƒ½åˆ†æå·¥å…·âš¡\",\"link\":\"/book/webpack/12\"},{\"text\":\"13.å¦‚ä½•ä½¿ç”¨webpackç¼“å­˜æå‡æ€§èƒ½âš¡\",\"link\":\"/book/webpack/13\"},{\"text\":\"14.webpackå¹¶è¡Œæ„å»ºæ–¹å¼âš¡\",\"link\":\"/book/webpack/14\"},{\"text\":\"15.å¼€å‘æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡\",\"link\":\"/book/webpack/15\"},{\"text\":\"16.ä½¿ç”¨SplitChunkæå‡æ€§èƒ½âš¡\",\"link\":\"/book/webpack/16\"},{\"text\":\"17.ä¸æ­¢Terser: ä»£ç å‹ç¼©çš„é—¨é—¨é“é“âš¡\",\"link\":\"/book/webpack/17\"},{\"text\":\"18.åº”ç”¨æ€§èƒ½æè‡´ä¼˜åŒ–æŠ€å·§âš¡\",\"link\":\"/book/webpack/18\"}]}],\"/book/babel\":[{\"text\":\"Babelæ’ä»¶ç§˜ç±\",\"items\":[{\"text\":\"1.Babelçš„ä»‹ç»\",\"link\":\"/book/babel/1\"},{\"text\":\"2.Babelçš„ç¼–è¯‘æµç¨‹\",\"link\":\"/book/babel/2\"},{\"text\":\"3.Babelçš„AST\",\"link\":\"/book/babel/3\"},{\"text\":\"4.Babelçš„API\",\"link\":\"/book/babel/4\"},{\"text\":\"5.å®æˆ˜ï¼šæ’å…¥å‡½æ•°è°ƒç”¨å‚æ•°\",\"link\":\"/book/babel/5\"},{\"text\":\"6.JS Parserçš„å†å²\",\"link\":\"/book/babel/6\"}]}],\"/lib/fs-extra\":[{\"text\":\"fs-extra\",\"items\":[{\"text\":\"README\",\"link\":\"/lib/fs-extra/index\"},{\"text\":\"copy\",\"link\":\"/lib/fs-extra/copy\"},{\"text\":\"emptyDir\",\"link\":\"/lib/fs-extra/emptyDir\"},{\"text\":\"ensureFile\",\"link\":\"/lib/fs-extra/ensureFile\"},{\"text\":\"ensureDir\",\"link\":\"/lib/fs-extra/ensureDir\"},{\"text\":\"ensureLink\",\"link\":\"/lib/fs-extra/ensureLink\"},{\"text\":\"ensureSymlink\",\"link\":\"/lib/fs-extra/ensureSymlink\"},{\"text\":\"move\",\"link\":\"/lib/fs-extra/move\"},{\"text\":\"outputFile\",\"link\":\"/lib/fs-extra/outputFile\"},{\"text\":\"pathExists\",\"link\":\"/lib/fs-extra/pathExists\"},{\"text\":\"readJson\",\"link\":\"/lib/fs-extra/readJson\"},{\"text\":\"remove\",\"link\":\"/lib/fs-extra/remove\"},{\"text\":\"outputJson\",\"link\":\"/lib/fs-extra/outputJson\"},{\"text\":\"writeJson\",\"link\":\"/lib/fs-extra/writeJson\"},{\"text\":\"fs-write-read-writev\",\"link\":\"/lib/fs-extra/fs-write-read-writev\"}]}],\"/framework/nestjs\":[{\"text\":\"å­¦ä¹ NestJS\",\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/framework/nestjs/index\"}]}],\"/framework/express\":[{\"text\":\"Learn ExpressJS\",\"items\":[{\"text\":\"èµ„æº\",\"link\":\"/framework/express/index\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>