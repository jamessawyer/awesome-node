import{_ as s,c as n,o as a,N as l}from"./chunks/framework.7812daa2.js";const A=JSON.parse('{"title":"æ¨¡å—ç³»ç»Ÿå’Œæ¨¡å¼","description":"","frontmatter":{"title":"æ¨¡å—ç³»ç»Ÿå’Œæ¨¡å¼"},"headers":[],"relativePath":"book/patterns/module-system/the-module-system-and-its-patterns.md","lastUpdated":1681457331000}'),p={name:"book/patterns/module-system/the-module-system-and-its-patterns.md"},o=l(`<p>æ­£å¦‚å‰é¢æ‰€è¯´ï¼Œæ¨¡å—æ˜¯æ„å»ºå¤§å‹åº”ç”¨ä»¥åŠé€šè¿‡å¯¼å‡ºå’Œä¸å¯¼å‡ºæ–¹å¼æš´éœ²å’Œéšè—ä¿¡æ¯çš„æ ¸å¿ƒã€‚</p><p>åœ¨äº†è§£CommonJSä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè®¨è®ºä¸€ç§å¸®åŠ©éšè—ä¿¡æ¯ï¼Œç”¨äºæ„å»ºç®€å•æ¨¡å—ç³»ç»Ÿçš„é€šç”¨æ¨¡å¼ - <code>revealing module pattern</code>(æ­éœ²æ¨¡å—æ¨¡å¼)ã€‚</p><h2 id="the-revealing-module-pattern" tabindex="-1">The revealing module pattern <a class="header-anchor" href="#the-revealing-module-pattern" aria-label="Permalink to &quot;The revealing module pattern&quot;">â€‹</a></h2><p>æµè§ˆå™¨ä¸­çš„JSæœ€å¤§é—®é¢˜å°±æ˜¯ç¼ºå°‘å‘½åç©ºé—´ã€‚æ¯ä¸ªè„šæœ¬éƒ½è¿è¡Œåœ¨å…¨å±€ä½œç”¨äºã€‚è€Œåº”ç”¨å†…éƒ¨ä»£ç æˆ–ç¬¬ä¸‰æ–¹ä¾èµ–æš´éœ²å‡ºæ¥çš„åŠŸèƒ½ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸğŸ˜…ã€‚è¿™æ˜¯æå…¶æœ‰å®³çš„ã€‚å‡è®¾ï¼Œæœ‰ä¸ªç¬¬ä¸‰æ–¹åº“å®ä¾‹åŒ–ä¸€ä¸ªå…¨å±€å˜é‡ <code>utils</code>ï¼Œå¦‚æœåº”ç”¨ä»£ç è‡ªèº«ä¸å°å¿ƒæ”¹å˜æˆ–è¦†ç›–äº†è¯¥ <code>utils</code>ï¼Œè¿™å°±å¯èƒ½å¯¼è‡´ä¸å¯é¢„çŸ¥çš„é”™è¯¯ã€‚</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ç®€è€Œè¨€ä¹‹ï¼Œä¾èµ–å…¨å±€ä½œç”¨åŸŸæ˜¯ä¸€ä»¶æå…¶å±é™©çš„äº‹ã€‚å°¤å…¶æ˜¯å½“ä»£ç è¶Šæ¥è¶Šå¤æ‚ï¼Œä¾èµ–è¶Šæ¥è¶Šå¤šæ—¶ã€‚</p></div><p>ä¸€ç§è§£å†³è¿™ç±»é—®é¢˜æ¯”è¾ƒæµè¡Œçš„æŠ€æœ¯ç§°ä¹‹ä¸º <code>æ­éœ²æ¨¡å—æ¨¡å¼</code>ï¼Œçœ‹èµ·æ¥å¦‚ä¸‹ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;">// IIFE</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> myModule </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ç§æœ‰ä¿¡æ¯</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">privateFoo</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">privateBar</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æš´éœ²ç»™å¤–ç•Œçš„ä¿¡æ¯</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">exported</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">publicFoo</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">publicBar</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">exported</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(myModule)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(myModule</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">privateFoo</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> myModule</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">privateBar)</span></span></code></pre></div><p>æ‰“å°ç»“æœï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">publicFoo:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">Function: publicFoo</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">publicBar:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">Function: publicBar</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">undefined</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">undefined</span></span></code></pre></div><p>è¿™ç§æ¨¡å¼åˆ©ç”¨è‡ªè°ƒç”¨å‡½æ•°ã€‚</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>IIFE</code>(Immediately Invoked Function Expression) ç”¨äºåˆ›å»ºç§æœ‰ä½œç”¨åŸŸï¼Œåªå¯¼å‡ºå…¬å…±éƒ¨åˆ†ã€‚</p><p>åœ¨JSä¸­ï¼Œå‡½æ•°å†…åˆ›å»ºçš„å˜é‡å¤–éƒ¨ä½œç”¨åŸŸæ˜¯æ— æ³•è®¿é—®çš„ã€‚å‡½æ•°å¯ä»¥ä½¿ç”¨ <code>return</code> è¯­å¥é€‰æ‹©æ€§çš„å‘å¤–éƒ¨ä½œç”¨åŸŸæš´éœ²ä¿¡æ¯ã€‚</p><p>ğŸ“šè¿™ä¸ªæ¨¡å¼æœ¬è´¨ä¸Šå°±æ˜¯éšè—ç§æœ‰ä¿¡æ¯ï¼Œåªæš´éœ²å…¬å¼€APIã€‚</p></div><p>è¿™ç§æ€æƒ³æ­£æ˜¯CommonJSæ¨¡å—ç³»ç»Ÿçš„åŸºçŸ³ğŸ˜ã€‚</p><p>2022å¹´09æœˆ25æ—¥12:26:08</p>`,13),e=[o];function t(c,r,y,F,i,D){return a(),n("div",null,e)}const C=s(p,[["render",t]]);export{A as __pageData,C as default};
